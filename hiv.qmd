---
title: "Human Immunodeficiency Virus (HIV)"
date: today
description: |
  [Description]
page-layout: full
format:
  html: 
    grid:
      sidebar-width: 200px
      body-width: 1050px
      margin-width: 250px
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

```{r Data, include=FALSE}

rm(list=ls(all=T))

library(dplyr)
library(tidyverse)
library(lubridate)
library(plotly)
library(ggplot2)
library(reactable)
library(htmltools)
library(lubridate)
library(gt)
library(janitor)
library(scales)
library(apyramid)
library(kableExtra)
library(knitr)
library(zoo)
library(DT)

### EIP Database Data
# 2023
eip23 <- read.csv('M:/EIP Data/EIP Database/REDCap 2023/EIP Database Data 20260202_1153.csv')
dim(eip23)
summary(eip23$record_id)
eip23$record_id <- paste(eip23$record_id, "_23", sep = "")
summary(eip23$record_id)

# 2024
eip24 <- read.csv('M:/EIP Data/EIP Database/REDCap 2024/EIP Database Data 20260210_1406.csv')
dim(eip24)
summary(eip24$record_id)
eip24$record_id <- paste(eip24$record_id, "_24", sep = "")
summary(eip24$record_id)

# 2025
eip25 <- read.csv('M:/EIP Data/EIP Database/REDCap 2025/EIP Database Data 20260223_1001.csv')
dim(eip25)
summary(eip25$record_id)
eip25$record_id <- paste(eip25$record_id, "_25", sep = "")
summary(eip25$record_id)

# 2026
eip26 <- read.csv('M:/EIP Data/EIP Database/REDCap 2026/EIP Database Data 20260223_1005.csv')
dim(eip26)
summary(eip26$record_id)
eip26$record_id <- paste(eip26$record_id, "_26", sep = "")
summary(eip26$record_id)

```

```{r Patient Data to Encounter, include=FALSE}

### Person-level data is only visit_001_arm_1, use to match to encounters

# 2023
table(eip23$redcap_event_name)
person <- eip23[which(eip23$redcap_event_name == 'visit_001_arm_1'), ]
dim(person)

person <- select(person, record_id, mrn, dob, 
                 race___1, race___2, race___3, race___4, race___5, race___6, ethnicity,
                 sex_raised, sex_selfdefined, insurance, address_county,
                 address_zip_code)
dim(person)

eip23 <- select(eip23, -mrn, -dob, 
                -race___1, -race___2, -race___3, -race___4, -race___5, 
                -race___6, -ethnicity,
                -sex_raised, -sex_selfdefined, -insurance, -address_county,
                -address_zip_code)

# Merge person dataset with full eip dataset

dim(eip23)
dim(person)
eip23 <- merge(eip23, person, by='record_id', all.x=T)
dim(eip23)
eip23 <- distinct(eip23)
dim(eip23)


# 2024
table(eip24$redcap_event_name)
person <- eip24[which(eip24$redcap_event_name == 'visit_001_arm_1'), ]
dim(person)

person <- select(person, record_id, mrn, dob, 
                 race___1, race___2, race___3, race___4, race___5, race___6, ethnicity,
                 sex_raised, sex_selfdefined, insurance, address_county,
                 address_zip_code)
dim(person)

eip24 <- select(eip24, -mrn, -dob, 
                -race___1, -race___2, -race___3, -race___4, -race___5, 
                -race___6, -ethnicity,
                -sex_raised, -sex_selfdefined, -insurance, -address_county,
                -address_zip_code)

# Merge person dataset with full eip24 dataset

dim(eip24)
dim(person)
eip24 <- merge(eip24, person, by='record_id', all.x=T)
dim(eip24)
eip24 <- distinct(eip24)
dim(eip24)


# 2025
table(eip25$redcap_event_name)
person <- eip25[which(eip25$redcap_event_name == 'visit_001_arm_1'), ]
dim(person)

person <- select(person, record_id, mrn, dob, 
                 race___1, race___2, race___3, race___4, race___5, race___6, ethnicity,
                 sex_raised, sex_selfdefined, insurance, address_county,
                 address_zip_code)
dim(person)

eip25 <- select(eip25, -mrn, -dob, 
                -race___1, -race___2, -race___3, -race___4, -race___5, 
                -race___6, -ethnicity,
                -sex_raised, -sex_selfdefined, -insurance, -address_county,
                -address_zip_code)

# Merge person dataset with full eip dataset

dim(eip25)
dim(person)
eip25 <- merge(eip25, person, by='record_id', all.x=T)
dim(eip25)
eip25 <- distinct(eip25)
dim(eip25)


# 2026
table(eip26$redcap_event_name)
person <- eip26[which(eip26$redcap_event_name == 'visit_001_arm_1'), ]
dim(person)

person <- select(person, record_id, mrn, dob, 
                 race___1, race___2, race___3, race___4, race___5, race___6, ethnicity,
                 sex_raised, sex_selfdefined, insurance, address_county,
                 address_zip_code)
dim(person)

eip26 <- select(eip26, -mrn, -dob, 
                -race___1, -race___2, -race___3, -race___4, -race___5, 
                -race___6, -ethnicity,
                -sex_raised, -sex_selfdefined, -insurance, -address_county,
                -address_zip_code)

# Merge person dataset with full eip dataset

dim(eip26)
dim(person)
eip26 <- merge(eip26, person, by='record_id', all.x=T)
dim(eip26)
eip26 <- distinct(eip26)
dim(eip26)

```

```{r Combining Datasets, include=FALSE}

####################  Combine 2023/2024/2025/2026 Data  ####################

dim(eip23)
dim(eip24)
dim(eip25)
dim(eip26)


#####  Updating 2023 Dataset  #####

# Changing 2023 variable names that were changed in 2024/2025 dataset
names(eip23)[names(eip23) == 'encounter_location'] <- 'enc_location'
names(eip23)[names(eip23) == 'encounter_location_other'] <- 'enc_location_other'
names(eip23)[names(eip23) == 'counselor_ref_hiv_specific___4'] <- 'counselor_ref_hiv_specific___0'
names(eip23)[names(eip23) == 'counselor_ref_hcv_specific___2'] <- 'counselor_ref_hcv_specific___0'
names(eip23)[names(eip23) == 'counselor_ref_peer_specific___3'] <- 'counselor_ref_peer_specific___0'
names(eip23)[names(eip23) == 'counselor_ref_mh_specific___3'] <- 'counselor_ref_mh_specific___0'
names(eip23)[names(eip23) == 'counselor_ref_sud_specific___11'] <- 'counselor_ref_sud_specific___0'
names(eip23)[names(eip23) == 'counselor_ref_sti_specific___3'] <- 'counselor_ref_sti_specific___0'
names(eip23)[names(eip23) == 'counselor_ref_housing_specific___8'] <- 'counselor_ref_housing_specific___0'
names(eip23)[names(eip23) == 'counselor_ref_ht_specific___99'] <- 'counselor_ref_ht_specific___0'
names(eip23)[names(eip23) == 'counselor_ref_personabuse_specific___5'] <- 'counselor_ref_personabuse_specific___0'
names(eip23)[names(eip23) == 'counselor_ref_general_specific___6'] <- 'counselor_ref_general_specific___0'
names(eip23)[names(eip23) == 'counselor_ref_food_specific___3'] <- 'counselor_ref_food_specific___0'
names(eip23)[names(eip23) == 'counselor_ref_financial_specific___2'] <- 'counselor_ref_financial_specific___0'
names(eip23)[names(eip23) == 'ltc_service1___5'] <- 'ltc_service1___0'
names(eip23)[names(eip23) == 'ltc_service10___5'] <- 'ltc_service10___0'
names(eip23)[names(eip23) == 'ltc_service11___5'] <- 'ltc_service11___0'
names(eip23)[names(eip23) == 'ltc_service12___5'] <- 'ltc_service12___0'
names(eip23)[names(eip23) == 'ltc_service13___5'] <- 'ltc_service13___0'
names(eip23)[names(eip23) == 'ltc_service14___5'] <- 'ltc_service14___0'
names(eip23)[names(eip23) == 'ltc_service15___5'] <- 'ltc_service15___0'
names(eip23)[names(eip23) == 'ltc_service16___5'] <- 'ltc_service16___0'
names(eip23)[names(eip23) == 'ltc_service17___5'] <- 'ltc_service17___0'
names(eip23)[names(eip23) == 'ltc_service18___5'] <- 'ltc_service18___0'
names(eip23)[names(eip23) == 'ltc_service19___5'] <- 'ltc_service19___0'
names(eip23)[names(eip23) == 'ltc_service2___5'] <- 'ltc_service2___0'
names(eip23)[names(eip23) == 'ltc_service20___5'] <- 'ltc_service20___0'
names(eip23)[names(eip23) == 'ltc_service21___5'] <- 'ltc_service21___0'
names(eip23)[names(eip23) == 'ltc_service22___5'] <- 'ltc_service22___0'
names(eip23)[names(eip23) == 'ltc_service23___5'] <- 'ltc_service23___0'
names(eip23)[names(eip23) == 'ltc_service24___5'] <- 'ltc_service24___0'
names(eip23)[names(eip23) == 'ltc_service25___5'] <- 'ltc_service25___0'
names(eip23)[names(eip23) == 'ltc_service26___5'] <- 'ltc_service26___0'
names(eip23)[names(eip23) == 'ltc_service27___5'] <- 'ltc_service27___0'
names(eip23)[names(eip23) == 'ltc_service28___5'] <- 'ltc_service28___0'
names(eip23)[names(eip23) == 'ltc_service29___5'] <- 'ltc_service29___0'
names(eip23)[names(eip23) == 'ltc_service3___5'] <- 'ltc_service3___0'
names(eip23)[names(eip23) == 'ltc_service30___5'] <- 'ltc_service30___0'
names(eip23)[names(eip23) == 'ltc_service31___5'] <- 'ltc_service31___0'
names(eip23)[names(eip23) == 'ltc_service32___5'] <- 'ltc_service32___0'
names(eip23)[names(eip23) == 'ltc_service33___5'] <- 'ltc_service33___0'
names(eip23)[names(eip23) == 'ltc_service34___5'] <- 'ltc_service34___0'
names(eip23)[names(eip23) == 'ltc_service35___5'] <- 'ltc_service35___0'
names(eip23)[names(eip23) == 'ltc_service36___5'] <- 'ltc_service36___0'
names(eip23)[names(eip23) == 'ltc_service37___5'] <- 'ltc_service37___0'
names(eip23)[names(eip23) == 'ltc_service38___5'] <- 'ltc_service38___0'
names(eip23)[names(eip23) == 'ltc_service39___5'] <- 'ltc_service39___0'
names(eip23)[names(eip23) == 'ltc_service4___5'] <- 'ltc_service4___0'
names(eip23)[names(eip23) == 'ltc_service40___5'] <- 'ltc_service40___0'
names(eip23)[names(eip23) == 'ltc_service41___5'] <- 'ltc_service41___0'
names(eip23)[names(eip23) == 'ltc_service42___5'] <- 'ltc_service42___0'
names(eip23)[names(eip23) == 'ltc_service43___5'] <- 'ltc_service43___0'
names(eip23)[names(eip23) == 'ltc_service44___5'] <- 'ltc_service44___0'
names(eip23)[names(eip23) == 'ltc_service45___5'] <- 'ltc_service45___0'
names(eip23)[names(eip23) == 'ltc_service46___5'] <- 'ltc_service46___0'
names(eip23)[names(eip23) == 'ltc_service47___5'] <- 'ltc_service47___0'
names(eip23)[names(eip23) == 'ltc_service48___5'] <- 'ltc_service48___0'
names(eip23)[names(eip23) == 'ltc_service49___5'] <- 'ltc_service49___0'
names(eip23)[names(eip23) == 'ltc_service5___5'] <- 'ltc_service5___0'
names(eip23)[names(eip23) == 'ltc_service50___5'] <- 'ltc_service50___0'
names(eip23)[names(eip23) == 'ltc_service6___5'] <- 'ltc_service6___0'
names(eip23)[names(eip23) == 'ltc_service7___5'] <- 'ltc_service7___0'
names(eip23)[names(eip23) == 'ltc_service8___5'] <- 'ltc_service8___0'
names(eip23)[names(eip23) == 'ltc_service9___5'] <- 'ltc_service9___0'
names(eip23)[names(eip23) == 'additional_services___99'] <- 'additional_services___0'

eip23$final_test_status_hcv[eip23$final_test_status_hcv == 3] <- 4



# Adding variables introduced in 2024/2025/2026 to 2023 dataset as blank values
eip23$staff_start_peer <- ''
eip23$date_start_peer <- ''
eip23$peer_referred_by <- ''
eip23$peer_reason_for_offer_category <- ''
eip23$peer_reason_for_offer_self_req___1 <- ''
eip23$peer_reason_for_offer_self_req___2 <- ''
eip23$peer_reason_for_offer_self_req___3 <- ''
eip23$peer_reason_for_offer_self_req___5 <- ''
eip23$peer_reason_for_offer_self_req___6 <- ''
eip23$peer_reason_for_offer_self_req___7 <- ''
eip23$peer_reason_for_offer_self_req___8 <- ''
eip23$peer_reason_for_offer_self_req___9 <- ''
eip23$peer_reason_for_offer_self_req___4 <- ''
eip23$peer_reason_for_offer_routine_freq <- ''
eip23$peer_reason_for_offer_self_req_other <- ''
eip23$peer_reason_for_offer_diagnostic___1 <- ''
eip23$peer_reason_for_offer_diagnostic___2 <- ''
eip23$peer_reason_for_offer_diagnostic___3 <- ''
eip23$peer_reason_for_offer_diagnostic___4 <- ''
eip23$peer_reason_for_offer_diagnostic___5 <- ''
eip23$peer_reason_for_offer_diagnostic___6 <- ''
eip23$peer_reason_for_offer_diagnostic___7 <- ''
eip23$peer_reason_for_offer_diagnostic___8 <- ''
eip23$peer_reason_for_offer_diagnostic___9 <- ''
eip23$peer_reason_for_offer_diagnostic___10 <- ''
eip23$peer_reason_for_offer_diagnostic___11 <- ''
eip23$peer_reason_for_offer_diagnostic___12 <- ''
eip23$peer_reason_for_offer_diagnostic___13 <- ''
eip23$peer_reason_for_offer_diagnostic___14 <- ''
eip23$peer_reason_for_offer_diagnostic___15 <- ''
eip23$peer_reason_for_offer_diagnostic___16 <- ''
eip23$peer_reason_for_offer_diagnostic___17 <- ''
eip23$peer_reason_for_offer_diagnostic___18 <- ''
eip23$peer_reason_for_offer_diagnostic___19 <- ''
eip23$peer_reason_for_offer_diagnostic___20 <- ''
eip23$peer_reason_for_offer_diagnostic___21 <- ''
eip23$peer_reason_for_offer_diagnostic___22 <- ''
eip23$peer_reason_for_offer_diagnostic___23 <- ''
eip23$peer_reason_for_offer_diagnostic___24 <- ''
eip23$peer_reason_for_offer_diagnostic___25 <- ''
eip23$peer_reason_for_offer_diagnostic___26 <- ''
eip23$peer_reason_for_offer_diagnostic___27 <- ''
eip23$peer_reason_for_offer_diagnostic___28 <- ''
eip23$peer_reason_for_offer_diagnostic___29 <- ''
eip23$peer_reason_for_offer_diagnostic___30 <- ''
eip23$peer_reason_for_offer_diagnostic___31 <- ''
eip23$peer_reason_for_offer_diagnostic___32 <- ''
eip23$peer_reason_for_offer_diagnostic___33 <- ''
eip23$peer_reason_for_offer_diagnostic_other <- ''
eip23$peer_reason_for_offer_clinical___1 <- ''
eip23$peer_reason_for_offer_clinical___2 <- ''
eip23$peer_reason_for_offer_clinical___3 <- ''
eip23$peer_reason_for_offer_clinical___4 <- ''
eip23$peer_reason_for_offer_clinical___5 <- ''
eip23$peer_reason_for_offer_clinical___7 <- ''
eip23$peer_reason_for_offer_clinical___8 <- ''
eip23$peer_reason_for_offer_clinical___9 <- ''
eip23$peer_reason_for_offer_clinical___10 <- ''
eip23$peer_reason_for_offer_clinical___11 <- ''
eip23$peer_reason_for_offer_clinical___12 <- ''
eip23$peer_reason_for_offer_clinical___13 <- ''
eip23$peer_reason_for_offer_clinical___14 <- ''
eip23$peer_reason_for_offer_clinical___15 <- ''
eip23$peer_reason_for_offer_clinical___16 <- ''
eip23$peer_reason_for_offer_clinical___17 <- ''
eip23$peer_reason_for_offer_clinical___18 <- ''
eip23$peer_reason_for_offer_clinical___19 <- ''
eip23$peer_reason_for_offer_clinical___20 <- ''
eip23$peer_reason_for_offer_clinical___21 <- ''
eip23$peer_reason_for_offer_clinical___22 <- ''
eip23$peer_reason_for_offer_clinical___23 <- ''
eip23$peer_reason_for_offer_clinical___24 <- ''
eip23$peer_reason_for_offer_clinical___25 <- ''
eip23$peer_reason_for_offer_clinical___26 <- ''
eip23$peer_reason_for_offer_clinical___27 <- ''
eip23$peer_reason_for_offer_clinical___28 <- ''
eip23$peer_reason_for_offer_clinical___29 <- ''
eip23$peer_reason_for_offer_clinical___30 <- ''
eip23$peer_reason_for_offer_clinical___31 <- ''
eip23$peer_reason_for_offer_clinical_other <- ''
eip23$peer_reason_for_offer_counselor___1 <- ''
eip23$peer_reason_for_offer_counselor___2 <- ''
eip23$peer_reason_for_offer_counselor___3 <- ''
eip23$peer_reason_for_offer_counselor___4 <- ''
eip23$peer_reason_for_offer_counselor___5 <- ''
eip23$peer_reason_for_offer_counselor___6 <- ''
eip23$peer_reason_for_offer_counselor___7 <- ''
eip23$peer_reason_for_offer_counselor___8 <- ''
eip23$peer_reason_for_offer_counselor___9 <- ''
eip23$peer_reason_for_offer_counselor___10 <- ''
eip23$peer_reason_for_offer_counselor___11 <- ''
eip23$peer_reason_for_offer_counselor___12 <- ''
eip23$peer_reason_for_offer_counselor___13 <- ''
eip23$peer_reason_for_offer_counselor___14 <- ''
eip23$peer_reason_for_offer_counselor___15 <- ''
eip23$peer_reason_for_offer_counselor___16 <- ''
eip23$peer_reason_for_offer_counselor___17 <- ''
eip23$peer_reason_for_offer_counselor___18 <- ''
eip23$peer_reason_for_offer_counselor___19 <- ''
eip23$peer_reason_for_offer_counselor___20 <- ''
eip23$peer_reason_for_offer_counselor___21 <- ''
eip23$peer_reason_for_offer_counselor___22 <- ''
eip23$peer_reason_for_offer_counselor___23 <- ''
eip23$peer_reason_for_offer_counselor___24 <- ''
eip23$peer_reason_for_offer_counselor___25 <- ''
eip23$peer_reason_for_offer_counselor___26 <- ''
eip23$peer_reason_for_offer_counselor___27 <- ''
eip23$peer_reason_for_offer_counselor___28 <- ''
eip23$peer_reason_for_offer_counselor___29 <- ''
eip23$peer_reason_for_offer_counselor___30 <- ''
eip23$peer_reason_for_offer_counselor_other <- ''
eip23$peer_reason_for_offer_demographics___1 <- ''
eip23$peer_reason_for_offer_demographics___2 <- ''
eip23$peer_reason_for_offer_demographics___3 <- ''
eip23$peer_reason_for_offer_demographics___4 <- ''
eip23$peer_reason_for_offer_tnt___1 <- ''
eip23$peer_reason_for_offer_tnt___2 <- ''
eip23$peer_reason_for_offer_tnt___3 <- ''
eip23$peer_reason_for_offer_tnt_number <- ''
eip23$peer_reason_for_offer_tnt_relation <- ''
eip23$offer_outcome_time_peer <- ''
eip23$offer_outcome_location_peer <- ''
eip23$offer_outcome_room_peer <- ''
eip23$offer_outcome_approach_peer___1 <- ''
eip23$offer_outcome_approach_peer___2 <- ''
eip23$offer_outcome_approach_peer___3 <- ''
eip23$offer_outcome_approach_peer___4 <- ''
eip23$offer_outcome_approach_peer___5 <- ''
eip23$offer_outcome_approach_peer___6 <- ''
eip23$offer_outcome_approach_peer___7 <- ''
eip23$offer_outcome_approach_peer___8 <- ''
eip23$offer_outcome_peer <- ''
eip23$offer_outcome_declined_peer___1 <- ''
eip23$offer_outcome_declined_peer___2 <- ''
eip23$offer_outcome_declined_peer___3 <- ''
eip23$offer_outcome_declined_peer___4 <- ''
eip23$offer_outcome_declined_peer___5 <- ''
eip23$offer_outcome_declined_peer___6 <- ''
eip23$offer_outcome_declined_peer___7 <- ''
eip23$offer_outcome_declined_peer___8 <- ''
eip23$offer_outcome_declined_peer___9 <- ''
eip23$offer_outcome_declined_peer___10 <- ''
eip23$offer_outcome_declined_peer___11 <- ''
eip23$offer_outcome_declined_peer___12 <- ''
eip23$offer_outcome_declined_peer___13 <- ''
eip23$offer_outcome_declined_peer___14 <- ''
eip23$offer_outcome_declined_peer___15 <- ''
eip23$offer_outcome_declined_peer___16 <- ''
eip23$offer_outcome_declined_peer___17 <- ''
eip23$offer_outcome_declined_peer___18 <- ''
eip23$offer_outcome_declined_peer___19 <- ''
eip23$offer_outcome_declined_peer___20 <- ''
eip23$offer_outcome_declined_peer___21 <- ''
eip23$offer_outcome_declined_peer___22 <- ''
eip23$offer_outcome_declined_peer___23 <- ''
eip23$offer_outcome_declined_peer___24 <- ''
eip23$offer_outcome_declined_peer___25 <- ''
eip23$offer_outcome_declined_peer___26 <- ''
eip23$offer_outcome_declined_other_peer <- ''
eip23$offer_outcome_prevented_peer___1 <- ''
eip23$offer_outcome_prevented_peer___2 <- ''
eip23$offer_outcome_prevented_peer___3 <- ''
eip23$offer_outcome_prevented_peer___4 <- ''
eip23$offer_outcome_prevented_peer___5 <- ''
eip23$offer_outcome_prevented_peer___6 <- ''
eip23$offer_outcome_prevented_peer___7 <- ''
eip23$offer_outcome_prevented_peer___8 <- ''
eip23$offer_outcome_prevented_peer___9 <- ''
eip23$offer_outcome_prevented_peer___10 <- ''
eip23$offer_outcome_prevented_other_peer <- ''
eip23$peer_navigator_id___14 <- ''
eip23$peer_navigator_id___67 <- ''
eip23$peer_navigator_id___68 <- ''
eip23$peer_navigator_id___0 <- ''
eip23$peer_navigator_id_other <- ''
eip23$peer_initial_enc_details___1 <- ''
eip23$peer_initial_enc_details___2 <- ''
eip23$peer_initial_enc_details___3 <- ''
eip23$peer_initial_enc_details___4 <- ''
eip23$peer_initial_enc_details___5 <- ''
eip23$peer_initial_enc_details___6 <- ''
eip23$peer_initial_enc_details___7 <- ''
eip23$peer_initial_enc_details___8 <- ''
eip23$peer_initial_enc_details___9 <- ''
eip23$peer_initial_enc_details___10 <- ''
eip23$peer_initial_enc_details___0 <- ''
eip23$peer_initial_enc_details_other <- ''
eip23$peer_initial_enc_comments <- ''
eip23$peer_fu_yn <- ''
eip23$peer_next_fu_date <- ''
eip23$peer_fu_closed <- ''
eip23$peer_support_complete <- ''
eip23$nonmedical_drug_use_ltc <- ''
eip23$drug_difficulty_ltc <- ''
eip23$marijuana_use_ltc <- ''
eip23$cocaine_use_ltc <- ''
eip23$rx_amphetamine_use_ltc <- ''
eip23$meth_use_ltc <- ''
eip23$inhalants_use_ltc <- ''
eip23$sedatives_use_ltc <- ''
eip23$ruffies_use_ltc <- ''
eip23$hallucinogen_use_ltc <- ''
eip23$street_opioid_use_ltc <- ''
eip23$rx_opioid_use_ltc <- ''
eip23$injection_drug_use_ltc <- ''
eip23$share_works_last_ltc <- ''
eip23$other_drug_use_ltc <- ''
eip23$other_drug_ltc <- ''
eip23$idu_calc_ltc <- ''
eip23$shares_works_calc_ltc <- ''
eip23$marijuana_use_3mo_ltc <- ''
eip23$cocaine_use_3mo_ltc <- ''
eip23$rx_amphetamine_use_3mo_ltc <- ''
eip23$meth_use_3mo_ltc <- ''
eip23$inhalants_use_3mo_ltc <- ''
eip23$sedatives_use_3mo_ltc <- ''
eip23$hallucinogen_use_3mo_ltc <- ''
eip23$street_opioid_use_3mo_ltc <- ''
eip23$rx_opioid_use_3mo_ltc <- ''
eip23$other_drug_use_3mo_ltc <- ''
eip23$marijuana_use_urge_ltc <- ''
eip23$cocaine_use_urge_ltc <- ''
eip23$meth_use_urge_ltc <- ''
eip23$rx_amphetamine_use_urge_ltc <- ''
eip23$inhalants_use_urge_ltc <- ''
eip23$sedatives_use_urge_ltc <- ''
eip23$hallucinogen_use_urge_ltc <- ''
eip23$street_opioid_use_urge_ltc <- ''
eip23$rx_opioid_use_urge_ltc <- ''
eip23$other_drug_use_urge_ltc <- ''
eip23$marijuana_use_probs_ltc <- ''
eip23$cocaine_use_probs_ltc <- ''
eip23$rx_amphetamine_use_probs_ltc <- ''
eip23$meth_use_probs_ltc <- ''
eip23$inhalants_use_probs_ltc <- ''
eip23$sedatives_use_probs_ltc <- ''
eip23$hallucinogen_use_probs_ltc <- ''
eip23$street_opioid_use_probs_ltc <- ''
eip23$rx_opioid_use_probs_ltc <- ''
eip23$other_drug_use_probs_ltc <- ''
eip23$marijuana_use_failed_ltc <- ''
eip23$cocaine_use_failed_ltc <- ''
eip23$rx_amphetamine_use_failed_ltc <- ''
eip23$meth_use_failed_ltc <- ''
eip23$inhalants_use_failed_ltc <- ''
eip23$sedatives_use_failed_ltc <- ''
eip23$hallucinogen_use_failed_ltc <- ''
eip23$street_opioid_use_failed_ltc <- ''
eip23$rx_opioid_use_failed_ltc <- ''
eip23$other_drug_use_failed_ltc <- ''
eip23$marijuana_use_concern_ltc <- ''
eip23$cocaine_use_concern_ltc <- ''
eip23$rx_amphetamine_use_concern_ltc <- ''
eip23$meth_use_concern_ltc <- ''
eip23$inhalants_use_concern_ltc <- ''
eip23$sedatives_use_concern_ltc <- ''
eip23$hallucinogen_use_concern_ltc <- ''
eip23$street_opioid_use_concern_ltc <- ''
eip23$rx_opioid_use_concern_ltc <- ''
eip23$other_drug_use_concern_ltc <- ''
eip23$marijuana_use_tried_stop_ltc <- ''
eip23$cocaine_use_tried_stop_ltc <- ''
eip23$rx_amphetamine_use_tried_stop_ltc <- ''
eip23$meth_use_tried_stop_ltc <- ''
eip23$inhalants_use_tried_stop_ltc <- ''
eip23$sedatives_use_tried_stop_ltc <- ''
eip23$hallucinogen_use_tried_stop_ltc <- ''
eip23$street_opioid_use_tried_stop_ltc <- ''
eip23$rx_opioid_use_tried_stop_ltc <- ''
eip23$other_drug_use_tried_stop_ltc <- ''
eip23$assist_score_ltc <- ''
eip23$marijuana_score_ltc <- ''
eip23$cocaine_score_ltc <- ''
eip23$rx_amphetamine_score_ltc <- ''
eip23$meth_score_ltc <- ''
eip23$inhalants_score_ltc <- ''
eip23$sedatives_score_ltc <- ''
eip23$hallucinogen_score_ltc <- ''
eip23$street_opioid_score_ltc <- ''
eip23$rx_opioid_score_ltc <- ''
eip23$other_drug_score_ltc <- ''
eip23$marijuana_pos_ltc <- ''
eip23$cocaine_pos_ltc <- ''
eip23$rx_amphetamine_pos_ltc <- ''
eip23$meth_pos_ltc <- ''
eip23$inhalants_pos_ltc <- ''
eip23$sedatives_pos_ltc <- ''
eip23$hallucinogen_pos_ltc <- ''
eip23$street_opioid_pos_ltc <- ''
eip23$rx_opioid_pos_ltc <- ''
eip23$other_drug_pos_ltc <- ''
eip23$assist_pos_ltc <- ''
eip23$sud_screen_positive_ltc <- ''
eip23$ltc_hcv_referral_uc_pharmacy_date <- ''
eip23$ltc_sud_referral_decoach_date <- ''
eip23$ltc_mh_referral_charlie_date <- ''
eip23$ltc_mh_referral_lighthouse_date <- ''
eip23$ltc_mh_referral_mindpeace_date <- ''
eip23$ltc_mh_referral_probono_date <- ''
eip23$ltc_housing_referral_freestore_date <- ''
eip23$ltc_housing_referral_lighthouse_date <- ''
eip23$ltc_food_referral_our_savior_date <- ''
eip23$ltc_food_referral_evanston_date <- ''
eip23$ltc_food_referral_fairhaven_date <- ''
eip23$ltc_food_referral_healthy_harvest_date <- ''
eip23$ltc_food_referral_prince_date <- ''
eip23$ltc_food_referral_united_date <- ''
eip23$ltc_financial_referral_freestore_date <- ''
eip23$ltc_financial_referral_welcome_home_nky_date <- ''
eip23$ltc_financial_referral_freestore___1 <- ''
eip23$ltc_financial_referral_freestore___2 <- ''
eip23$ltc_financial_referral_freestore___3 <- ''
eip23$ltc_financial_referral_welcome_home_nky___1 <- ''
eip23$ltc_financial_referral_welcome_home_nky___2 <- ''
eip23$ltc_financial_referral_welcome_home_nky___3 <- ''
eip23$ltc_food_referral_evanston___1 <- ''
eip23$ltc_food_referral_evanston___2 <- ''
eip23$ltc_food_referral_evanston___3 <- ''
eip23$ltc_food_referral_fairhaven___1 <- ''
eip23$ltc_food_referral_fairhaven___2 <- ''
eip23$ltc_food_referral_fairhaven___3 <- ''
eip23$ltc_food_referral_healthy_harvest___1 <- ''
eip23$ltc_food_referral_healthy_harvest___2 <- ''
eip23$ltc_food_referral_healthy_harvest___3 <- ''
eip23$ltc_food_referral_our_savior___1 <- ''
eip23$ltc_food_referral_our_savior___2 <- ''
eip23$ltc_food_referral_our_savior___3 <- ''
eip23$ltc_food_referral_prince___1 <- ''
eip23$ltc_food_referral_prince___2 <- ''
eip23$ltc_food_referral_prince___3 <- ''
eip23$ltc_food_referral_united___1 <- ''
eip23$ltc_food_referral_united___2 <- ''
eip23$ltc_food_referral_united___3 <- ''
eip23$ltc_hcv_referral_uc_pharmacy___1 <- ''
eip23$ltc_hcv_referral_uc_pharmacy___2 <- ''
eip23$ltc_hcv_referral_uc_pharmacy___3 <- ''
eip23$ltc_hcv_referral_uc_pharmacy_telehealth___1 <- ''
eip23$ltc_hcv_referral_uc_pharmacy_telehealth___2 <- ''
eip23$ltc_hcv_referral_uc_pharmacy_telehealth___3 <- ''
eip23$ltc_housing_referral_freestore___1 <- ''
eip23$ltc_housing_referral_freestore___2 <- ''
eip23$ltc_housing_referral_freestore___3 <- ''
eip23$ltc_housing_referral_lighthouse___1 <- ''
eip23$ltc_housing_referral_lighthouse___2 <- ''
eip23$ltc_housing_referral_lighthouse___3 <- ''
eip23$ltc_mh_referral_charlie___1 <- ''
eip23$ltc_mh_referral_charlie___2 <- ''
eip23$ltc_mh_referral_charlie___3 <- ''
eip23$ltc_mh_referral_lighthouse___1 <- ''
eip23$ltc_mh_referral_lighthouse___2 <- ''
eip23$ltc_mh_referral_lighthouse___3 <- ''
eip23$ltc_mh_referral_mindpeace___1 <- ''
eip23$ltc_mh_referral_mindpeace___2 <- ''
eip23$ltc_mh_referral_mindpeace___3 <- ''
eip23$ltc_mh_referral_probono___1 <- ''
eip23$ltc_mh_referral_probono___2 <- ''
eip23$ltc_mh_referral_probono___3 <- ''
eip23$ltc_sud_referral_decoach___1 <- ''
eip23$ltc_sud_referral_decoach___2 <- ''
eip23$ltc_sud_referral_decoach___3 <- ''
eip23$followup_counselor_other1 <- ''
eip23$followup_counselor_other10 <- ''
eip23$followup_counselor_other11 <- ''
eip23$followup_counselor_other12 <- ''
eip23$followup_counselor_other13 <- ''
eip23$followup_counselor_other14 <- ''
eip23$followup_counselor_other15 <- ''
eip23$followup_counselor_other16 <- ''
eip23$followup_counselor_other17 <- ''
eip23$followup_counselor_other18 <- ''
eip23$followup_counselor_other19 <- ''
eip23$followup_counselor_other2 <- ''
eip23$followup_counselor_other20 <- ''
eip23$followup_counselor_other21 <- ''
eip23$followup_counselor_other22 <- ''
eip23$followup_counselor_other23 <- ''
eip23$followup_counselor_other24 <- ''
eip23$followup_counselor_other25 <- ''
eip23$followup_counselor_other26 <- ''
eip23$followup_counselor_other27 <- ''
eip23$followup_counselor_other28 <- ''
eip23$followup_counselor_other29 <- ''
eip23$followup_counselor_other3 <- ''
eip23$followup_counselor_other30 <- ''
eip23$followup_counselor_other31 <- ''
eip23$followup_counselor_other32 <- ''
eip23$followup_counselor_other33 <- ''
eip23$followup_counselor_other34 <- ''
eip23$followup_counselor_other35 <- ''
eip23$followup_counselor_other36 <- ''
eip23$followup_counselor_other37 <- ''
eip23$followup_counselor_other38 <- ''
eip23$followup_counselor_other39 <- ''
eip23$followup_counselor_other4 <- ''
eip23$followup_counselor_other40 <- ''
eip23$followup_counselor_other41 <- ''
eip23$followup_counselor_other42 <- ''
eip23$followup_counselor_other43 <- ''
eip23$followup_counselor_other44 <- ''
eip23$followup_counselor_other45 <- ''
eip23$followup_counselor_other46 <- ''
eip23$followup_counselor_other47 <- ''
eip23$followup_counselor_other48 <- ''
eip23$followup_counselor_other49 <- ''
eip23$followup_counselor_other5 <- ''
eip23$followup_counselor_other50 <- ''
eip23$followup_counselor_other6 <- ''
eip23$followup_counselor_other7 <- ''
eip23$followup_counselor_other8 <- ''
eip23$followup_counselor_other9 <- ''
eip23$ltc_service_other1 <- ''
eip23$ltc_service_other10 <- ''
eip23$ltc_service_other11 <- ''
eip23$ltc_service_other12 <- ''
eip23$ltc_service_other13 <- ''
eip23$ltc_service_other14 <- ''
eip23$ltc_service_other15 <- ''
eip23$ltc_service_other16 <- ''
eip23$ltc_service_other17 <- ''
eip23$ltc_service_other18 <- ''
eip23$ltc_service_other19 <- ''
eip23$ltc_service_other2 <- ''
eip23$ltc_service_other20 <- ''
eip23$ltc_service_other21 <- ''
eip23$ltc_service_other22 <- ''
eip23$ltc_service_other23 <- ''
eip23$ltc_service_other24 <- ''
eip23$ltc_service_other25 <- ''
eip23$ltc_service_other26 <- ''
eip23$ltc_service_other27 <- ''
eip23$ltc_service_other28 <- ''
eip23$ltc_service_other29 <- ''
eip23$ltc_service_other3 <- ''
eip23$ltc_service_other30 <- ''
eip23$ltc_service_other31 <- ''
eip23$ltc_service_other32 <- ''
eip23$ltc_service_other33 <- ''
eip23$ltc_service_other34 <- ''
eip23$ltc_service_other35 <- ''
eip23$ltc_service_other36 <- ''
eip23$ltc_service_other37 <- ''
eip23$ltc_service_other38 <- ''
eip23$ltc_service_other39 <- ''
eip23$ltc_service_other4 <- ''
eip23$ltc_service_other40 <- ''
eip23$ltc_service_other41 <- ''
eip23$ltc_service_other42 <- ''
eip23$ltc_service_other43 <- ''
eip23$ltc_service_other44 <- ''
eip23$ltc_service_other45 <- ''
eip23$ltc_service_other46 <- ''
eip23$ltc_service_other47 <- ''
eip23$ltc_service_other48 <- ''
eip23$ltc_service_other49 <- ''
eip23$ltc_service_other5 <- ''
eip23$ltc_service_other50 <- ''
eip23$ltc_service_other6 <- ''
eip23$ltc_service_other7 <- ''
eip23$ltc_service_other8 <- ''
eip23$ltc_service_other9 <- ''
eip23$services1___11 <- ''
eip23$ltc_sud_oud_fu <- ''
eip23$ltc_hcv_dashboard <- ''
eip23$ltc_hcv_initial_contact <- ''
eip23$ltc_coordinator_per_case_other <- ''
eip23$counselor_ref_sud_specific___15 <- ''
eip23$counselor_ref_sud_specific___16 <- ''
eip23$counselor_ref_sud_specific___17 <- ''
eip23$counselor_ref_sud_specific___18 <- ''
eip23$counselor_ref_sud_specific___19 <- ''
eip23$counselor_ref_sud_specific___20 <- ''
eip23$counselor_ref_sud_specific___21 <- ''
eip23$counselor_ref_sud_specific___22 <- ''
eip23$counselor_ref_sud_specific___23 <- ''
eip23$counselor_ref_sud_specific___24 <- ''
eip23$counselor_ref_sud_specific___25 <- ''
eip23$counselor_ref_sud_specific___26 <- ''
eip23$counselor_ref_sud_specific___27 <- ''
eip23$counselor_ref_sud_specific___28 <- ''
eip23$counselor_ref_sud_specific___29 <- ''
eip23$counselor_ref_sud_specific___30 <- ''
eip23$counselor_ref_sud_specific___31 <- ''
eip23$counselor_ref_sud_specific___32 <- ''
eip23$counselor_ref_sud_specific___33 <- ''
eip23$counselor_ref_sud_specific___34 <- ''
eip23$counselor_ref_sud_specific___35 <- ''
eip23$counselor_ref_sud_specific___36 <- ''
eip23$counselor_ref_sud_specific___37 <- ''
eip23$counselor_ref_sud_specific___38 <- ''
eip23$counselor_ref_sud_specific___39 <- ''
eip23$counselor_ref_sud_specific___40 <- ''
eip23$counselor_ref_sud_specific___41 <- ''
eip23$counselor_ref_sud_specific___42 <- ''
eip23$counselor_ref_sud_specific___43 <- ''
eip23$counselor_ref_sud_specific___44 <- ''
eip23$counselor_ref_sud_specific___45 <- ''
eip23$counselor_ref_sud_specific___46 <- ''
eip23$counselor_ref_sud_specific___47 <- ''
eip23$counselor_ref_sud_specific___48 <- ''
eip23$counselor_ref_sud_specific___49 <- ''
eip23$counselor_ref_sud_specific___50 <- ''
eip23$counselor_ref_sud_specific___51 <- ''
eip23$counselor_ref_sud_specific___52 <- ''
eip23$counselor_ref_sud_specific___53 <- ''
eip23$counselor_ref_sud_specific___54 <- ''
eip23$counselor_ref_sud_specific___55 <- ''
eip23$counselor_ref_sud_specific___56 <- ''
eip23$counselor_ref_sud_specific___57 <- ''
eip23$counselor_ref_mh_specific___6 <- ''
eip23$counselor_ref_mh_specific___7 <- ''
eip23$counselor_ref_mh_specific___8 <- ''
eip23$counselor_ref_mh_specific___9 <- ''
eip23$counselor_ref_housing_specific___9 <- ''
eip23$counselor_ref_housing_specific___10 <- ''
eip23$counselor_ref_housing_specific___11 <- ''
eip23$counselor_ref_housing_specific___12 <- ''
eip23$counselor_ref_housing_specific___13 <- ''
eip23$counselor_ref_housing_specific___14 <- ''
eip23$counselor_ref_housing_specific___15 <- ''
eip23$counselor_ref_housing_specific___16 <- ''
eip23$counselor_ref_housing_specific___17 <- ''
eip23$counselor_ref_housing_specific___18 <- ''
eip23$counselor_ref_housing_specific___19 <- ''
eip23$counselor_ref_housing_specific___20 <- ''
eip23$counselor_ref_food_specific___5 <- ''
eip23$counselor_ref_food_specific___6 <- ''
eip23$counselor_ref_food_specific___7 <- ''
eip23$counselor_ref_food_specific___8 <- ''
eip23$counselor_ref_food_specific___9 <- ''
eip23$counselor_ref_food_specific___10 <- ''
eip23$counselor_ref_financial_specific___2 <- ''
eip23$counselor_ref_financial_specific___3 <- ''
eip23$counselor_ref_sud_specific___11 <- ''
eip23$ltc_sud_referral_decoach___0 <- ''
eip23$ltc_hcv_referral_uc_pharmacy_telehealth <- ''
eip23$ltc_coordinator_per_case___77 <- ''
eip23$ltc_coordinator_per_case___78 <- ''
eip23$ltc_coordinator_per_case___79 <- ''
eip23$ltc_coordinator_per_case___80 <- ''
eip23$anderson_ltc_open_calc <- ''
eip23$counselor_ref_sud_specific___58 <- ''
eip23$ltc_sud_referral_pods___0 <- ''
eip23$ltc_sud_referral_pods___1 <- ''
eip23$ltc_sud_referral_pods___2 <- ''
eip23$ltc_sud_referral_pods___3 <- ''
eip23$ltc_sud_referral_pods_date <- ''
eip23$enc_location_513_bus <- ''
eip23$peer_intern <- ''
eip23$counselor_ref_sud_specific___59 <- ''
eip23$ltc_sud_hcph_fu <- ''
eip23$ltc_sud_hcph_tx <- ''
eip23$ltc_sud_hcph_30day_tx___0 <- ''
eip23$ltc_sud_hcph_30day_tx___1 <- ''
eip23$ltc_sud_hcph_30day_tx___2 <- ''
eip23$ltc_sud_hcph_30day_tx___3 <- ''
eip23$ltc_sud_hcph_60day_tx___0 <- ''
eip23$ltc_sud_hcph_60day_tx___1 <- ''
eip23$ltc_sud_hcph_60day_tx___2 <- ''
eip23$ltc_sud_hcph_60day_tx___3 <- ''
eip23$ltc_sud_hcph_90day_tx___0 <- ''
eip23$ltc_sud_hcph_90day_tx___1 <- ''
eip23$ltc_sud_hcph_90day_tx___2 <- ''
eip23$ltc_sud_hcph_90day_tx___3 <- ''
eip23$ltc_sud_hcph_30day_completion <- ''
eip23$ltc_sud_hcph_60day_completion <- ''
eip23$ltc_sud_hcph_90day_completion <- ''
eip23$ltc_sud_hcph_180day_completion <- ''
eip23$ltc_sud_hcph_180day_moud_tx <- ''
eip23$ltc_sud_hcph_180day_behavior_tx <- ''
eip23$hcph_sud_day30_contact_date <- ''
eip23$hcph_sud_day60_contact_date <- ''
eip23$hcph_sud_day180_contact_date <- ''
eip23$peer_initial_enc_details___11 <- ''
eip23$peer_fts_provided <- ''
eip23$peer_fts_number <- ''
eip23$peer_fts_number_other <- ''
eip23$ltc_coordinator_per_case___81 <- ''
eip23$ltc_coordinator_per_case___82 <- ''
eip23$counselor_ref_sti_specific___6 <- ''
eip23$enc_location_urc <- ''
eip23$hcph_sud_day90_contact_date <- ''
eip23$wound_care_kit <- ''
eip23$wound_care_kit_number <- ''
eip23$final_ed_dx <- ''
eip23$syph_order <- ''
eip23$ltc_coordinator_per_case___3 <- ''
eip23$ltc_coordinator_per_case___83 <- ''
eip23$ltc_coordinator_per_case___84 <- ''
eip23$ltc_coordinator_per_case___85 <- ''
eip23$ltc_coordinator_per_case___86 <- ''
eip23$abbey_ltc_open_calc <- ''
eip23$powers_ltc_open_calc <- ''
eip23$johannes_ltc_open_calc <- ''
eip23$spaeth_ltc_open_calc <- ''
eip23$counselor_sti_start <- ''
eip23$datetime_sti_start <- ''
eip23$referred_by_sti <- ''
eip23$reason_for_offer_category_sti_test <- ''
eip23$reason_for_offer_routine_freq_sti <- ''
eip23$reason_for_offer_self_req_other_sti <- ''
eip23$reason_for_offer_diagnostic_other_sti <- ''
eip23$reason_for_offer_clinical_other_sti <- ''
eip23$reason_for_offer_counselor_other_sti <- ''
eip23$offer_outcome_time_sti <- ''
eip23$offer_outcome_location_sti <- ''
eip23$offer_outcome_room_sti <- ''
eip23$offer_outcome_sti <- ''
eip23$offer_outcome_declined_other_sti <- ''
eip23$offer_outcome_prevented_other_sti <- ''
eip23$offer_outcome_later_sti <- ''
eip23$offer_outcome_time_sti_2 <- ''
eip23$offer_outcome_location_sti_2 <- ''
eip23$offer_outcome_room_sti_2 <- ''
eip23$offer_outcome_sti_2 <- ''
eip23$offer_outcome_declined_other_sti_2 <- ''
eip23$offer_outcome_prevented_other_sti_2 <- ''
eip23$offer_outcome_later_sti_2 <- ''
eip23$offer_outcome_time_sti_3 <- ''
eip23$offer_outcome_location_sti_3 <- ''
eip23$offer_outcome_room_sti_3 <- ''
eip23$offer_outcome_sti_3 <- ''
eip23$offer_outcome_declined_other_sti_3 <- ''
eip23$offer_outcome_prevented_other_sti_3 <- ''
eip23$sti_test_type1 <- ''
eip23$sti_syph_test_assay1 <- ''
eip23$sti_test_sample1 <- ''
eip23$sti_test_collected1 <- ''
eip23$sti_test_processed1 <- ''
eip23$sample_obtained_sti1 <- ''
eip23$assay_began_sti1 <- ''
eip23$sti_test_processing_location1 <- ''
eip23$sti_test_lot_no1 <- ''
eip23$sti_test_conv_no1 <- ''
eip23$sti_test_collected_rsn1 <- ''
eip23$sti_test_process_rsn1 <- ''
eip23$assay_read_sti1 <- ''
eip23$sti_result1 <- ''
eip23$sti_result_yn2 <- ''
eip23$sti_test_type2 <- ''
eip23$sti_syph_test_assay2 <- ''
eip23$sti_test_sample2 <- ''
eip23$sti_test_collected2 <- ''
eip23$sti_test_processed2 <- ''
eip23$sample_obtained_sti2 <- ''
eip23$assay_began_sti2 <- ''
eip23$sti_test_processing_location2 <- ''
eip23$sti_test_lot_no2 <- ''
eip23$sti_test_conv_no2 <- ''
eip23$sti_test_collected_rsn2 <- ''
eip23$sti_test_process_rsn2 <- ''
eip23$assay_read_sti2 <- ''
eip23$sti_result2 <- ''
eip23$sti_result_yn3 <- ''
eip23$sti_test_type3 <- ''
eip23$sti_syph_test_assay3 <- ''
eip23$sti_test_sample3 <- ''
eip23$sti_test_collected3 <- ''
eip23$sti_test_processed3 <- ''
eip23$sample_obtained_sti3 <- ''
eip23$assay_began_sti3 <- ''
eip23$sti_test_processing_location3 <- ''
eip23$sti_test_lot_no3 <- ''
eip23$sti_test_conv_no3 <- ''
eip23$sti_test_collected_rsn3 <- ''
eip23$sti_test_process_rsn3 <- ''
eip23$assay_read_sti3 <- ''
eip23$sti_result3 <- ''
eip23$sti_result_yn4 <- ''
eip23$sti_test_type4 <- ''
eip23$sti_syph_test_assay4 <- ''
eip23$sti_test_sample4 <- ''
eip23$sti_test_collected4 <- ''
eip23$sti_test_processed4 <- ''
eip23$sample_obtained_sti4 <- ''
eip23$assay_began_sti4 <- ''
eip23$sti_test_processing_location4 <- ''
eip23$sti_test_lot_no4 <- ''
eip23$sti_test_conv_no4 <- ''
eip23$sti_test_collected_rsn4 <- ''
eip23$sti_test_process_rsn4 <- ''
eip23$assay_read_sti4 <- ''
eip23$sti_result4 <- ''
eip23$sti_result_yn5 <- ''
eip23$sti_test_type5 <- ''
eip23$sti_syph_test_assay5 <- ''
eip23$sti_test_sample5 <- ''
eip23$sti_test_collected5 <- ''
eip23$sti_test_processed5 <- ''
eip23$sample_obtained_sti5 <- ''
eip23$assay_began_sti5 <- ''
eip23$sti_test_processing_location5 <- ''
eip23$sti_test_lot_no5 <- ''
eip23$sti_test_conv_no5 <- ''
eip23$sti_test_collected_rsn5 <- ''
eip23$sti_test_process_rsn5 <- ''
eip23$assay_read_sti5 <- ''
eip23$sti_result5 <- ''
eip23$sti_result_yn6 <- ''
eip23$sti_test_type6 <- ''
eip23$sti_syph_test_assay6 <- ''
eip23$sti_test_sample6 <- ''
eip23$sti_test_collected6 <- ''
eip23$sti_test_processed6 <- ''
eip23$sample_obtained_sti6 <- ''
eip23$assay_began_sti6 <- ''
eip23$sti_test_processing_location6 <- ''
eip23$sti_test_lot_no6 <- ''
eip23$sti_test_conv_no6 <- ''
eip23$sti_test_collected_rsn6 <- ''
eip23$sti_test_process_rsn6 <- ''
eip23$assay_read_sti6 <- ''
eip23$sti_result6 <- ''
eip23$final_test_status_sti <- ''
eip23$sti_test_ltc_ref <- ''
eip23$sti_test_ltc_check <- ''
eip23$sti_test_ltc_report_hd <- ''
eip23$sti_result_notified_enc_yn <- ''
eip23$result_notification_sti <- ''
eip23$pt_not_notified_sti_reason <- ''
eip23$pt_not_notified_sti_reason_disp <- ''
eip23$pt_not_notified_sti_reason_dc <- ''
eip23$sti_result_notification_fu <- ''
eip23$result_notification_sti_fu <- ''
eip23$reason_for_offer_self_req_sti___1 <- ''
eip23$reason_for_offer_self_req_sti___2 <- ''    
eip23$reason_for_offer_self_req_sti___3 <- ''
eip23$reason_for_offer_self_req_sti___5 <- ''
eip23$reason_for_offer_self_req_sti___6 <- ''
eip23$reason_for_offer_self_req_sti___7 <- ''
eip23$reason_for_offer_self_req_sti___8 <- ''
eip23$reason_for_offer_self_req_sti___9 <- ''
eip23$reason_for_offer_self_req_sti___4 <- ''
eip23$reason_for_offer_diagnostic_sti___1 <- ''
eip23$reason_for_offer_diagnostic_sti___2 <- ''
eip23$reason_for_offer_diagnostic_sti___3 <- ''
eip23$reason_for_offer_diagnostic_sti___4 <- ''
eip23$reason_for_offer_diagnostic_sti___5 <- ''
eip23$reason_for_offer_diagnostic_sti___6 <- ''
eip23$reason_for_offer_diagnostic_sti___7 <- ''
eip23$reason_for_offer_diagnostic_sti___8 <- ''
eip23$reason_for_offer_diagnostic_sti___9 <- ''
eip23$reason_for_offer_diagnostic_sti___10 <- ''
eip23$reason_for_offer_diagnostic_sti___11 <- ''
eip23$reason_for_offer_diagnostic_sti___12 <- ''
eip23$reason_for_offer_diagnostic_sti___13 <- ''
eip23$reason_for_offer_diagnostic_sti___14 <- ''
eip23$reason_for_offer_diagnostic_sti___15 <- ''
eip23$reason_for_offer_diagnostic_sti___16 <- ''
eip23$reason_for_offer_diagnostic_sti___17 <- ''
eip23$reason_for_offer_diagnostic_sti___18 <- ''
eip23$reason_for_offer_diagnostic_sti___19 <- ''
eip23$reason_for_offer_diagnostic_sti___20 <- ''
eip23$reason_for_offer_diagnostic_sti___21 <- ''
eip23$reason_for_offer_diagnostic_sti___22 <- ''
eip23$reason_for_offer_diagnostic_sti___23 <- ''
eip23$reason_for_offer_diagnostic_sti___24 <- ''
eip23$reason_for_offer_diagnostic_sti___25 <- ''
eip23$reason_for_offer_diagnostic_sti___26 <- ''
eip23$reason_for_offer_diagnostic_sti___27 <- ''
eip23$reason_for_offer_diagnostic_sti___28 <- ''
eip23$reason_for_offer_diagnostic_sti___29 <- ''
eip23$reason_for_offer_diagnostic_sti___30 <- ''
eip23$reason_for_offer_diagnostic_sti___31 <- ''
eip23$reason_for_offer_diagnostic_sti___32 <- ''
eip23$reason_for_offer_diagnostic_sti___33 <- ''
eip23$reason_for_offer_clinical_sti___1 <- ''
eip23$reason_for_offer_clinical_sti___2 <- ''
eip23$reason_for_offer_clinical_sti___3 <- ''
eip23$reason_for_offer_clinical_sti___4 <- ''
eip23$reason_for_offer_clinical_sti___5 <- ''
eip23$reason_for_offer_clinical_sti___7 <- ''
eip23$reason_for_offer_clinical_sti___8 <- ''
eip23$reason_for_offer_clinical_sti___9 <- ''
eip23$reason_for_offer_clinical_sti___10 <- ''
eip23$reason_for_offer_clinical_sti___11 <- ''
eip23$reason_for_offer_clinical_sti___12 <- ''
eip23$reason_for_offer_clinical_sti___13 <- ''
eip23$reason_for_offer_clinical_sti___14 <- ''
eip23$reason_for_offer_clinical_sti___15 <- ''
eip23$reason_for_offer_clinical_sti___32 <- ''
eip23$reason_for_offer_clinical_sti___16 <- ''
eip23$reason_for_offer_clinical_sti___17 <- ''
eip23$reason_for_offer_clinical_sti___18 <- ''
eip23$reason_for_offer_clinical_sti___19 <- ''
eip23$reason_for_offer_clinical_sti___20 <- ''
eip23$reason_for_offer_clinical_sti___21 <- ''
eip23$reason_for_offer_clinical_sti___22 <- ''
eip23$reason_for_offer_clinical_sti___23 <- ''
eip23$reason_for_offer_clinical_sti___24 <- ''
eip23$reason_for_offer_clinical_sti___25 <- ''
eip23$reason_for_offer_clinical_sti___26 <- ''
eip23$reason_for_offer_clinical_sti___27 <- ''
eip23$reason_for_offer_clinical_sti___28 <- ''
eip23$reason_for_offer_clinical_sti___29 <- ''
eip23$reason_for_offer_clinical_sti___30 <- ''
eip23$reason_for_offer_clinical_sti___31 <- ''
eip23$reason_for_offer_counselor_sti___1 <- ''
eip23$reason_for_offer_counselor_sti___2 <- ''
eip23$reason_for_offer_counselor_sti___3 <- ''
eip23$reason_for_offer_counselor_sti___4 <- ''
eip23$reason_for_offer_counselor_sti___5 <- ''
eip23$reason_for_offer_counselor_sti___6 <- ''
eip23$reason_for_offer_counselor_sti___7 <- ''
eip23$reason_for_offer_counselor_sti___8 <- ''
eip23$reason_for_offer_counselor_sti___9 <- ''
eip23$reason_for_offer_counselor_sti___10 <- ''
eip23$reason_for_offer_counselor_sti___11 <- ''
eip23$reason_for_offer_counselor_sti___12 <- ''
eip23$reason_for_offer_counselor_sti___13 <- ''
eip23$reason_for_offer_counselor_sti___14 <- ''
eip23$reason_for_offer_counselor_sti___31 <- ''
eip23$reason_for_offer_counselor_sti___15 <- ''
eip23$reason_for_offer_counselor_sti___16 <- ''
eip23$reason_for_offer_counselor_sti___17 <- ''
eip23$reason_for_offer_counselor_sti___18 <- ''
eip23$reason_for_offer_counselor_sti___19 <- ''
eip23$reason_for_offer_counselor_sti___20 <- ''
eip23$reason_for_offer_counselor_sti___21 <- ''
eip23$reason_for_offer_counselor_sti___22 <- ''
eip23$reason_for_offer_counselor_sti___23 <- ''
eip23$reason_for_offer_counselor_sti___24 <- ''
eip23$reason_for_offer_counselor_sti___25 <- ''
eip23$reason_for_offer_counselor_sti___26 <- ''
eip23$reason_for_offer_counselor_sti___27 <- ''
eip23$reason_for_offer_counselor_sti___28 <- ''
eip23$reason_for_offer_counselor_sti___29 <- ''
eip23$reason_for_offer_counselor_sti___30 <- ''
eip23$reason_for_offer_demographics_sti___1 <- ''
eip23$reason_for_offer_demographics_sti___2 <- ''
eip23$reason_for_offer_demographics_sti___3 <- ''
eip23$reason_for_offer_demographics_sti___4 <- ''
eip23$offer_outcome_approach_sti___1 <- ''
eip23$offer_outcome_approach_sti___2 <- ''
eip23$offer_outcome_approach_sti___3 <- ''
eip23$offer_outcome_approach_sti___4 <- ''
eip23$offer_outcome_approach_sti___5 <- ''
eip23$offer_outcome_approach_sti___6 <- ''
eip23$offer_outcome_approach_sti___7 <- ''
eip23$offer_outcome_approach_sti___8 <- ''
eip23$offer_outcome_declined_sti___1 <- ''
eip23$offer_outcome_declined_sti___2 <- ''
eip23$offer_outcome_declined_sti___3 <- ''
eip23$offer_outcome_declined_sti___4 <- ''
eip23$offer_outcome_declined_sti___5 <- ''
eip23$offer_outcome_declined_sti___6 <- ''
eip23$offer_outcome_declined_sti___7 <- ''
eip23$offer_outcome_declined_sti___8 <- ''
eip23$offer_outcome_declined_sti___9 <- ''
eip23$offer_outcome_declined_sti___10 <- ''
eip23$offer_outcome_declined_sti___27 <- ''
eip23$offer_outcome_declined_sti___11 <- ''
eip23$offer_outcome_declined_sti___12 <- ''
eip23$offer_outcome_declined_sti___13 <- ''
eip23$offer_outcome_declined_sti___14 <- ''
eip23$offer_outcome_declined_sti___15 <- ''
eip23$offer_outcome_declined_sti___16 <- ''
eip23$offer_outcome_declined_sti___17 <- ''
eip23$offer_outcome_declined_sti___18 <- ''
eip23$offer_outcome_declined_sti___19 <- ''
eip23$offer_outcome_declined_sti___20 <- ''
eip23$offer_outcome_declined_sti___21 <- ''
eip23$offer_outcome_declined_sti___22 <- ''
eip23$offer_outcome_declined_sti___23 <- ''
eip23$offer_outcome_declined_sti___24 <- ''
eip23$offer_outcome_declined_sti___25 <- ''
eip23$offer_outcome_declined_sti___28 <- ''
eip23$offer_outcome_declined_sti___26 <- ''
eip23$offer_outcome_prevented_sti___1 <- ''
eip23$offer_outcome_prevented_sti___2 <- ''
eip23$offer_outcome_prevented_sti___3 <- ''
eip23$offer_outcome_prevented_sti___4 <- ''
eip23$offer_outcome_prevented_sti___5 <- ''
eip23$offer_outcome_prevented_sti___6 <- ''
eip23$offer_outcome_prevented_sti___7 <- ''
eip23$offer_outcome_prevented_sti___8 <- ''
eip23$offer_outcome_prevented_sti___9 <- ''
eip23$offer_outcome_prevented_sti___10 <- ''
eip23$offer_outcome_approach_sti_2___1 <- ''
eip23$offer_outcome_approach_sti_2___2 <- ''
eip23$offer_outcome_approach_sti_2___3 <- ''
eip23$offer_outcome_approach_sti_2___4 <- ''
eip23$offer_outcome_approach_sti_2___5 <- ''
eip23$offer_outcome_approach_sti_2___6 <- ''
eip23$offer_outcome_approach_sti_2___7 <- ''
eip23$offer_outcome_approach_sti_2___8 <- ''
eip23$offer_outcome_declined_sti_2___1 <- ''
eip23$offer_outcome_declined_sti_2___2 <- ''
eip23$offer_outcome_declined_sti_2___3 <- ''
eip23$offer_outcome_declined_sti_2___4 <- ''
eip23$offer_outcome_declined_sti_2___5 <- ''
eip23$offer_outcome_declined_sti_2___6 <- ''
eip23$offer_outcome_declined_sti_2___7 <- ''
eip23$offer_outcome_declined_sti_2___8 <- ''
eip23$offer_outcome_declined_sti_2___9 <- ''
eip23$offer_outcome_declined_sti_2___10 <- ''
eip23$offer_outcome_declined_sti_2___27 <- ''
eip23$offer_outcome_declined_sti_2___11 <- ''
eip23$offer_outcome_declined_sti_2___12 <- ''
eip23$offer_outcome_declined_sti_2___13 <- ''
eip23$offer_outcome_declined_sti_2___14 <- ''
eip23$offer_outcome_declined_sti_2___15 <- ''
eip23$offer_outcome_declined_sti_2___16 <- ''
eip23$offer_outcome_declined_sti_2___17 <- ''
eip23$offer_outcome_declined_sti_2___18 <- ''
eip23$offer_outcome_declined_sti_2___19 <- ''
eip23$offer_outcome_declined_sti_2___20 <- ''
eip23$offer_outcome_declined_sti_2___21 <- ''
eip23$offer_outcome_declined_sti_2___22 <- ''
eip23$offer_outcome_declined_sti_2___23 <- ''
eip23$offer_outcome_declined_sti_2___24 <- ''
eip23$offer_outcome_declined_sti_2___25 <- ''
eip23$offer_outcome_declined_sti_2___28 <- ''
eip23$offer_outcome_declined_sti_2___26 <- ''
eip23$offer_outcome_prevented_sti_2___1 <- ''
eip23$offer_outcome_prevented_sti_2___2 <- ''
eip23$offer_outcome_prevented_sti_2___3 <- ''
eip23$offer_outcome_prevented_sti_2___4 <- ''
eip23$offer_outcome_prevented_sti_2___5 <- ''
eip23$offer_outcome_prevented_sti_2___6 <- ''
eip23$offer_outcome_prevented_sti_2___7 <- ''
eip23$offer_outcome_prevented_sti_2___8 <- ''
eip23$offer_outcome_prevented_sti_2___9 <- ''
eip23$offer_outcome_prevented_sti_2___10 <- ''
eip23$offer_outcome_approach_sti_3___1 <- ''
eip23$offer_outcome_approach_sti_3___2 <- ''
eip23$offer_outcome_approach_sti_3___3 <- ''
eip23$offer_outcome_approach_sti_3___4 <- ''
eip23$offer_outcome_approach_sti_3___5 <- ''
eip23$offer_outcome_approach_sti_3___6 <- ''
eip23$offer_outcome_approach_sti_3___7 <- ''
eip23$offer_outcome_approach_sti_3___8 <- ''
eip23$offer_outcome_declined_sti_3___1 <- ''
eip23$offer_outcome_declined_sti_3___2 <- ''
eip23$offer_outcome_declined_sti_3___3 <- ''
eip23$offer_outcome_declined_sti_3___4 <- ''
eip23$offer_outcome_declined_sti_3___5 <- ''
eip23$offer_outcome_declined_sti_3___6 <- ''
eip23$offer_outcome_declined_sti_3___7 <- ''
eip23$offer_outcome_declined_sti_3___8 <- ''
eip23$offer_outcome_declined_sti_3___9 <- ''
eip23$offer_outcome_declined_sti_3___10 <- ''
eip23$offer_outcome_declined_sti_3___27 <- ''
eip23$offer_outcome_declined_sti_3___11 <- ''
eip23$offer_outcome_declined_sti_3___12 <- ''
eip23$offer_outcome_declined_sti_3___13 <- ''
eip23$offer_outcome_declined_sti_3___14 <- ''
eip23$offer_outcome_declined_sti_3___15 <- ''
eip23$offer_outcome_declined_sti_3___16 <- ''
eip23$offer_outcome_declined_sti_3___17 <- ''
eip23$offer_outcome_declined_sti_3___18 <- ''
eip23$offer_outcome_declined_sti_3___19 <- ''
eip23$offer_outcome_declined_sti_3___20 <- ''
eip23$offer_outcome_declined_sti_3___21 <- ''
eip23$offer_outcome_declined_sti_3___22 <- ''
eip23$offer_outcome_declined_sti_3___23 <- ''
eip23$offer_outcome_declined_sti_3___24 <- ''
eip23$offer_outcome_declined_sti_3___25 <- ''
eip23$offer_outcome_declined_sti_3___28 <- ''
eip23$offer_outcome_declined_sti_3___26 <- ''
eip23$offer_outcome_prevented_sti_3___1 <- ''
eip23$offer_outcome_prevented_sti_3___2 <- ''
eip23$offer_outcome_prevented_sti_3___3 <- ''
eip23$offer_outcome_prevented_sti_3___4 <- ''
eip23$offer_outcome_prevented_sti_3___5 <- ''
eip23$offer_outcome_prevented_sti_3___6 <- ''
eip23$offer_outcome_prevented_sti_3___7 <- ''
eip23$offer_outcome_prevented_sti_3___8 <- ''
eip23$offer_outcome_prevented_sti_3___9 <- ''
eip23$offer_outcome_prevented_sti_3___10 <- ''
eip23$testing_sti_complete <- ''
eip23$oend_eip_facilitated_med_staff___0 <- ''
eip23$oend_eip_facilitated_dist_method___3 <- ''
eip23$oend_eip_facilitated_nalox_vend <- ''
eip23$ltc_coordinator_per_case___87 <- ''
eip23$ltc_coordinator_per_case___88 <- ''
eip23$ltc_coordinator_per_case___89 <- ''
eip23$ltc_coordinator_per_case___90 <- ''
eip23$ltc_coordinator_per_case___91 <- ''
eip23$ltc_coordinator_per_case___92 <- ''
eip23$kahloon_ltc_open_calc <- ''
eip23$enc_location_medvouc <- ''
eip23$enc_location_medvouc_other <- ''
eip23$offer_outcome_declined_peer___27 <- ''
eip23$offer_outcome_declined_peer___28 <- ''
eip23$offer_outcome_declined_peer___29 <- ''
eip23$offer_outcome_declined_peer___30 <- ''
eip23$offer_outcome_declined_peer___36 <- ''
eip23$offer_outcome_declined_peer___33 <- ''
eip23$offer_outcome_declined_peer___34 <- ''
eip23$offer_outcome_declined_peer___35 <- ''
eip23$offer_outcome_declined_peer___0 <- ''
eip23$ltc_hiv_success_story <- ''
eip23$ltc_hcv_success_story <- ''
eip23$ltc_sud_success_story <- ''
eip23$ltc_prep_success_story <- ''
eip23$ltc_mh_success_story <- ''
eip23$ltc_housing_success_story <- ''
eip23$ltc_food_success_story <- ''
eip23$ltc_financial_success_story <- ''
eip23$ltc_ht_success_story <- ''
eip23$ltc_abuse_success_story <- ''
eip23$ltc_general_success_story <- ''
eip23$ltc_sti_success_story <- ''
eip23$ltc_other_success_story <- ''
eip23$hcph_sud_next_follow_up_date <- ''

eip23$enc_location_street_med <- ''
eip23$xts_provided <- ''
eip23$xts_number <- ''
eip23$ltc_services___6 <- ''
eip23$ltc_peer_final_ltc_status <- ''
eip23$ltc_peer_declined_rsn___23 <- ''
eip23$ltc_peer_declined_rsn___27 <- ''
eip23$ltc_peer_declined_rsn___3 <- ''
eip23$ltc_peer_declined_rsn___5 <- ''
eip23$ltc_peer_declined_rsn___6 <- ''
eip23$ltc_peer_declined_rsn___7 <- ''
eip23$ltc_peer_declined_rsn___8 <- ''
eip23$ltc_peer_declined_rsn___9 <- ''
eip23$ltc_peer_declined_rsn___10 <- ''
eip23$ltc_peer_declined_rsn___28 <- ''
eip23$ltc_peer_declined_rsn___29 <- ''
eip23$ltc_peer_declined_rsn___30 <- ''
eip23$ltc_peer_declined_rsn___36 <- ''
eip23$ltc_peer_declined_rsn___33 <- ''
eip23$ltc_peer_declined_rsn___34 <- ''
eip23$ltc_peer_declined_rsn___35 <- ''
eip23$ltc_peer_declined_rsn___0 <- ''
eip23$ltc_peer_declined_rsn_other <- ''
eip23$ltc_peer_prevented_rsn___1 <- ''
eip23$ltc_peer_prevented_rsn___2 <- ''
eip23$ltc_peer_prevented_rsn___11 <- ''
eip23$ltc_peer_prevented_rsn___3 <- ''
eip23$ltc_peer_prevented_rsn___4 <- ''
eip23$ltc_peer_prevented_rsn___5 <- ''
eip23$ltc_peer_prevented_rsn___6 <- ''
eip23$ltc_peer_prevented_rsn___8 <- ''
eip23$ltc_peer_prevented_rsn___9 <- ''
eip23$ltc_peer_prevented_rsn___12 <- ''
eip23$ltc_peer_prevented_rsn___19 <- ''
eip23$ltc_peer_prevented_rsn___20 <- ''
eip23$ltc_peer_prevented_rsn___16 <- ''
eip23$ltc_peer_prevented_rsn___17 <- ''
eip23$ltc_peer_prevented_rsn___18 <- ''
eip23$ltc_peer_prevented_rsn___0 <- ''
eip23$ltc_peer_prevented_rsn_other <- ''
eip23$peer_link_eip <- ''
eip23$ltc_peer_success_story <- ''
eip23$close_case_peer <- ''
eip23$close_case_peer_date <- ''
eip23$hiv_next_follow_up_date <- ''
eip23$hcv_next_follow_up_date <- ''
eip23$sud_next_follow_up_date <- ''
eip23$peer_next_follow_up_date <- ''
eip23$add_next_follow_up_date <- ''
eip23$ltc_sud_referral_hopeline <- ''
eip23$ltc_sud_referral_hopeline_date <- ''
eip23$ltc_sud_referral_uc_inpt <- ''
eip23$ltc_sud_referral_uc_inpt_date <- ''
eip23$counselor_ref_sud_specific___60 <- ''
eip23$counselor_ref_sud_specific___61 <- ''
eip23$ltc_sud_referral_hopeline___1 <- ''
eip23$ltc_sud_referral_hopeline___2 <- ''
eip23$ltc_sud_referral_hopeline___3 <- ''
eip23$ltc_sud_referral_hopeline___0 <- ''
eip23$ltc_sud_referral_uc_inpt___1 <- ''
eip23$ltc_sud_referral_uc_inpt___2 <- ''
eip23$ltc_sud_referral_uc_inpt___3 <- ''
eip23$ltc_sud_referral_uc_inpt___0 <- ''
eip23$mgen_sr <- ''
eip23$mgen_treat <- ''


# Removing 2023 variables that are not needed/not in 2024 dataset
eip23 <- select(eip23, -contact_by1, -contact_by10, -contact_by11, -contact_by12, -contact_by13, -contact_by14, -contact_by15, -contact_by16,
                -contact_by17, -contact_by18, -contact_by19, -contact_by2, -contact_by20, -contact_by21, -contact_by22, -contact_by23, -contact_by24,
                -contact_by25, -contact_by26, -contact_by27, -contact_by28, -contact_by29, -contact_by3, -contact_by30, -contact_by31, -contact_by32,
                -contact_by33, -contact_by34, -contact_by35, -contact_by36, -contact_by37, -contact_by38, -contact_by39, -contact_by4, -contact_by40,
                -contact_by41, -contact_by42, -contact_by43, -contact_by44, -contact_by45, -contact_by46, -contact_by47, -contact_by48, -contact_by49,
                -contact_by5, -contact_by50, -contact_by6, -contact_by7, -contact_by8, -contact_by9, -contact_purpose1, -contact_purpose10,
                -contact_purpose11, -contact_purpose12, -contact_purpose13, -contact_purpose14, -contact_purpose15, -contact_purpose16,
                -contact_purpose17, -contact_purpose18, -contact_purpose19, -contact_purpose2, -contact_purpose20, -contact_purpose21,
                -contact_purpose22, -contact_purpose23, -contact_purpose24, -contact_purpose25, -contact_purpose26, -contact_purpose27,
                -contact_purpose28, -contact_purpose29, -contact_purpose3, -contact_purpose30, -contact_purpose31, -contact_purpose32,
                -contact_purpose33, -contact_purpose34, -contact_purpose35, -contact_purpose36, -contact_purpose37, -contact_purpose38,
                -contact_purpose39, -contact_purpose4, -contact_purpose40, -contact_purpose41, -contact_purpose42, -contact_purpose43,
                -contact_purpose44, -contact_purpose45, -contact_purpose46, -contact_purpose47, -contact_purpose48, -contact_purpose49,
                -contact_purpose5, -contact_purpose50, -contact_purpose6, -contact_purpose7, -contact_purpose8, -contact_purpose9,
                -ltc_service1___7, -ltc_service10___7, -ltc_service11___7, -ltc_service12___7, -ltc_service13___7, -ltc_service14___7,
                -ltc_service15___7, -ltc_service16___7, -ltc_service17___7, -ltc_service18___7, -ltc_service19___7, -ltc_service2___7,
                -ltc_service20___7, -ltc_service21___7, -ltc_service22___7, -ltc_service23___7, -ltc_service24___7, -ltc_service25___7,
                -ltc_service26___7, -ltc_service27___7, -ltc_service28___7, -ltc_service29___7, -ltc_service3___7, -ltc_service30___7,
                -ltc_service31___7, -ltc_service32___7, -ltc_service33___7, -ltc_service34___7, -ltc_service35___7, -ltc_service36___7,
                -ltc_service37___7, -ltc_service38___7, -ltc_service39___7, -ltc_service4___7, -ltc_service40___7, -ltc_service41___7,
                -ltc_service42___7, -ltc_service43___7, -ltc_service44___7, -ltc_service45___7, -ltc_service46___7, -ltc_service47___7,
                -ltc_service48___7, -ltc_service49___7, -ltc_service5___7, -ltc_service50___7, -ltc_service6___7, -ltc_service7___7, -ltc_service8___7,
                -ltc_service9___7, -sex_selfdefined_risks, -any_drug_branch_calc, -any_drug3mo_branch_calc,
                -peer_navigator_id___24, -aspire_attend_intake_rsn___1, -aspire_attend_intake_rsn___9,
                -aspire_attend_intake_rsn___7, -aspire_attend_intake_rsn___2, -aspire_attend_intake_rsn___3,
                -aspire_attend_intake_rsn___8, -aspire_attend_intake_rsn___10, -aspire_attend_intake_rsn___6,
                -aspire_attend_intake_rsn___11, -aspire_attend_intake_rsn___4, -aspire_attend_intake_rsn___5,
                -aspire_attend_intake_rsn___16, -aspire_attend_intake_rsn___12, -aspire_attend_intake_rsn___13,
                -aspire_attend_intake_rsn___14, -aspire_attend_intake_rsn___15, -aspire_attend_intake_rsn___88,
                -aspire_attend_intake_rsn___0, -aspire_attend_intake_rsn_other, -ltc_sti_referral_hotline_date,
                -ltc_hcv_linkage_success___1, -ltc_hcv_linkage_success___2, -ltc_hcv_med_complete_date)




#####  Updating 2024 Dataset  #####

# Adding variables removed in 2024 database from 2023 database as blank values
eip24$ltc_hcv_referral_uc_pharmacy_telehealth___1 <- ''
eip24$ltc_hcv_referral_uc_pharmacy_telehealth___2 <- ''
eip24$ltc_hcv_referral_uc_pharmacy_telehealth___3 <- ''
eip24$ltc_coordinator_per_case___2 <- ''
eip24$ltc_coordinator_per_case___12 <- ''
eip24$ltc_coordinator_per_case___61 <- ''
eip24$ltc_coordinator_per_case___54 <- ''
eip24$ltc_coordinator_per_case___24 <- ''
eip24$ltc_coordinator_per_case___64 <- ''
eip24$ltc_coordinator_per_case___28 <- ''
eip24$ltc_coordinator_per_case___63 <- ''
eip24$ltc_coordinator_per_case___49 <- ''
eip24$ltc_coordinator_per_case___69 <- ''
eip24$ltc_coordinator_per_case___30 <- ''




# Adding variables introduced in 2025/2026 database to 2024 dataset as blank values
eip24$hcph_sud_day90_contact_date <- ''
eip24$wound_care_kit <- ''
eip24$wound_care_kit_number <- ''
eip24$final_ed_dx <- ''
eip24$syph_order <- ''
eip24$ltc_coordinator_per_case___3 <- ''
eip24$ltc_coordinator_per_case___83 <- ''
eip24$ltc_coordinator_per_case___84 <- ''
eip24$ltc_coordinator_per_case___85 <- ''
eip24$ltc_coordinator_per_case___86 <- ''
eip24$abbey_ltc_open_calc <- ''
eip24$powers_ltc_open_calc <- ''
eip24$johannes_ltc_open_calc <- ''
eip24$spaeth_ltc_open_calc <- ''
eip24$counselor_sti_start <- ''
eip24$datetime_sti_start <- ''
eip24$referred_by_sti <- ''
eip24$reason_for_offer_category_sti_test <- ''
eip24$reason_for_offer_routine_freq_sti <- ''
eip24$reason_for_offer_self_req_other_sti <- ''
eip24$reason_for_offer_diagnostic_other_sti <- ''
eip24$reason_for_offer_clinical_other_sti <- ''
eip24$reason_for_offer_counselor_other_sti <- ''
eip24$offer_outcome_time_sti <- ''
eip24$offer_outcome_location_sti <- ''
eip24$offer_outcome_room_sti <- ''
eip24$offer_outcome_sti <- ''
eip24$offer_outcome_declined_other_sti <- ''
eip24$offer_outcome_prevented_other_sti <- ''
eip24$offer_outcome_later_sti <- ''
eip24$offer_outcome_time_sti_2 <- ''
eip24$offer_outcome_location_sti_2 <- ''
eip24$offer_outcome_room_sti_2 <- ''
eip24$offer_outcome_sti_2 <- ''
eip24$offer_outcome_declined_other_sti_2 <- ''
eip24$offer_outcome_prevented_other_sti_2 <- ''
eip24$offer_outcome_later_sti_2 <- ''
eip24$offer_outcome_time_sti_3 <- ''
eip24$offer_outcome_location_sti_3 <- ''
eip24$offer_outcome_room_sti_3 <- ''
eip24$offer_outcome_sti_3 <- ''
eip24$offer_outcome_declined_other_sti_3 <- ''
eip24$offer_outcome_prevented_other_sti_3 <- ''
eip24$sti_test_type1 <- ''
eip24$sti_syph_test_assay1 <- ''
eip24$sti_test_sample1 <- ''
eip24$sti_test_collected1 <- ''
eip24$sti_test_processed1 <- ''
eip24$sample_obtained_sti1 <- ''
eip24$assay_began_sti1 <- ''
eip24$sti_test_processing_location1 <- ''
eip24$sti_test_lot_no1 <- ''
eip24$sti_test_conv_no1 <- ''
eip24$sti_test_collected_rsn1 <- ''
eip24$sti_test_process_rsn1 <- ''
eip24$assay_read_sti1 <- ''
eip24$sti_result1 <- ''
eip24$sti_result_yn2 <- ''
eip24$sti_test_type2 <- ''
eip24$sti_syph_test_assay2 <- ''
eip24$sti_test_sample2 <- ''
eip24$sti_test_collected2 <- ''
eip24$sti_test_processed2 <- ''
eip24$sample_obtained_sti2 <- ''
eip24$assay_began_sti2 <- ''
eip24$sti_test_processing_location2 <- ''
eip24$sti_test_lot_no2 <- ''
eip24$sti_test_conv_no2 <- ''
eip24$sti_test_collected_rsn2 <- ''
eip24$sti_test_process_rsn2 <- ''
eip24$assay_read_sti2 <- ''
eip24$sti_result2 <- ''
eip24$sti_result_yn3 <- ''
eip24$sti_test_type3 <- ''
eip24$sti_syph_test_assay3 <- ''
eip24$sti_test_sample3 <- ''
eip24$sti_test_collected3 <- ''
eip24$sti_test_processed3 <- ''
eip24$sample_obtained_sti3 <- ''
eip24$assay_began_sti3 <- ''
eip24$sti_test_processing_location3 <- ''
eip24$sti_test_lot_no3 <- ''
eip24$sti_test_conv_no3 <- ''
eip24$sti_test_collected_rsn3 <- ''
eip24$sti_test_process_rsn3 <- ''
eip24$assay_read_sti3 <- ''
eip24$sti_result3 <- ''
eip24$sti_result_yn4 <- ''
eip24$sti_test_type4 <- ''
eip24$sti_syph_test_assay4 <- ''
eip24$sti_test_sample4 <- ''
eip24$sti_test_collected4 <- ''
eip24$sti_test_processed4 <- ''
eip24$sample_obtained_sti4 <- ''
eip24$assay_began_sti4 <- ''
eip24$sti_test_processing_location4 <- ''
eip24$sti_test_lot_no4 <- ''
eip24$sti_test_conv_no4 <- ''
eip24$sti_test_collected_rsn4 <- ''
eip24$sti_test_process_rsn4 <- ''
eip24$assay_read_sti4 <- ''
eip24$sti_result4 <- ''
eip24$sti_result_yn5 <- ''
eip24$sti_test_type5 <- ''
eip24$sti_syph_test_assay5 <- ''
eip24$sti_test_sample5 <- ''
eip24$sti_test_collected5 <- ''
eip24$sti_test_processed5 <- ''
eip24$sample_obtained_sti5 <- ''
eip24$assay_began_sti5 <- ''
eip24$sti_test_processing_location5 <- ''
eip24$sti_test_lot_no5 <- ''
eip24$sti_test_conv_no5 <- ''
eip24$sti_test_collected_rsn5 <- ''
eip24$sti_test_process_rsn5 <- ''
eip24$assay_read_sti5 <- ''
eip24$sti_result5 <- ''
eip24$sti_result_yn6 <- ''
eip24$sti_test_type6 <- ''
eip24$sti_syph_test_assay6 <- ''
eip24$sti_test_sample6 <- ''
eip24$sti_test_collected6 <- ''
eip24$sti_test_processed6 <- ''
eip24$sample_obtained_sti6 <- ''
eip24$assay_began_sti6 <- ''
eip24$sti_test_processing_location6 <- ''
eip24$sti_test_lot_no6 <- ''
eip24$sti_test_conv_no6 <- ''
eip24$sti_test_collected_rsn6 <- ''
eip24$sti_test_process_rsn6 <- ''
eip24$assay_read_sti6 <- ''
eip24$sti_result6 <- ''
eip24$final_test_status_sti <- ''
eip24$sti_test_ltc_ref <- ''
eip24$sti_test_ltc_check <- ''
eip24$sti_test_ltc_report_hd <- ''
eip24$sti_result_notified_enc_yn <- ''
eip24$result_notification_sti <- ''
eip24$pt_not_notified_sti_reason <- ''
eip24$pt_not_notified_sti_reason_disp <- ''
eip24$pt_not_notified_sti_reason_dc <- ''
eip24$sti_result_notification_fu <- ''
eip24$result_notification_sti_fu <- ''
eip24$reason_for_offer_self_req_sti___1 <- ''
eip24$reason_for_offer_self_req_sti___2 <- ''    
eip24$reason_for_offer_self_req_sti___3 <- ''
eip24$reason_for_offer_self_req_sti___5 <- ''
eip24$reason_for_offer_self_req_sti___6 <- ''
eip24$reason_for_offer_self_req_sti___7 <- ''
eip24$reason_for_offer_self_req_sti___8 <- ''
eip24$reason_for_offer_self_req_sti___9 <- ''
eip24$reason_for_offer_self_req_sti___4 <- ''
eip24$reason_for_offer_diagnostic_sti___1 <- ''
eip24$reason_for_offer_diagnostic_sti___2 <- ''
eip24$reason_for_offer_diagnostic_sti___3 <- ''
eip24$reason_for_offer_diagnostic_sti___4 <- ''
eip24$reason_for_offer_diagnostic_sti___5 <- ''
eip24$reason_for_offer_diagnostic_sti___6 <- ''
eip24$reason_for_offer_diagnostic_sti___7 <- ''
eip24$reason_for_offer_diagnostic_sti___8 <- ''
eip24$reason_for_offer_diagnostic_sti___9 <- ''
eip24$reason_for_offer_diagnostic_sti___10 <- ''
eip24$reason_for_offer_diagnostic_sti___11 <- ''
eip24$reason_for_offer_diagnostic_sti___12 <- ''
eip24$reason_for_offer_diagnostic_sti___13 <- ''
eip24$reason_for_offer_diagnostic_sti___14 <- ''
eip24$reason_for_offer_diagnostic_sti___15 <- ''
eip24$reason_for_offer_diagnostic_sti___16 <- ''
eip24$reason_for_offer_diagnostic_sti___17 <- ''
eip24$reason_for_offer_diagnostic_sti___18 <- ''
eip24$reason_for_offer_diagnostic_sti___19 <- ''
eip24$reason_for_offer_diagnostic_sti___20 <- ''
eip24$reason_for_offer_diagnostic_sti___21 <- ''
eip24$reason_for_offer_diagnostic_sti___22 <- ''
eip24$reason_for_offer_diagnostic_sti___23 <- ''
eip24$reason_for_offer_diagnostic_sti___24 <- ''
eip24$reason_for_offer_diagnostic_sti___25 <- ''
eip24$reason_for_offer_diagnostic_sti___26 <- ''
eip24$reason_for_offer_diagnostic_sti___27 <- ''
eip24$reason_for_offer_diagnostic_sti___28 <- ''
eip24$reason_for_offer_diagnostic_sti___29 <- ''
eip24$reason_for_offer_diagnostic_sti___30 <- ''
eip24$reason_for_offer_diagnostic_sti___31 <- ''
eip24$reason_for_offer_diagnostic_sti___32 <- ''
eip24$reason_for_offer_diagnostic_sti___33 <- ''
eip24$reason_for_offer_clinical_sti___1 <- ''
eip24$reason_for_offer_clinical_sti___2 <- ''
eip24$reason_for_offer_clinical_sti___3 <- ''
eip24$reason_for_offer_clinical_sti___4 <- ''
eip24$reason_for_offer_clinical_sti___5 <- ''
eip24$reason_for_offer_clinical_sti___7 <- ''
eip24$reason_for_offer_clinical_sti___8 <- ''
eip24$reason_for_offer_clinical_sti___9 <- ''
eip24$reason_for_offer_clinical_sti___10 <- ''
eip24$reason_for_offer_clinical_sti___11 <- ''
eip24$reason_for_offer_clinical_sti___12 <- ''
eip24$reason_for_offer_clinical_sti___13 <- ''
eip24$reason_for_offer_clinical_sti___14 <- ''
eip24$reason_for_offer_clinical_sti___15 <- ''
eip24$reason_for_offer_clinical_sti___32 <- ''
eip24$reason_for_offer_clinical_sti___16 <- ''
eip24$reason_for_offer_clinical_sti___17 <- ''
eip24$reason_for_offer_clinical_sti___18 <- ''
eip24$reason_for_offer_clinical_sti___19 <- ''
eip24$reason_for_offer_clinical_sti___20 <- ''
eip24$reason_for_offer_clinical_sti___21 <- ''
eip24$reason_for_offer_clinical_sti___22 <- ''
eip24$reason_for_offer_clinical_sti___23 <- ''
eip24$reason_for_offer_clinical_sti___24 <- ''
eip24$reason_for_offer_clinical_sti___25 <- ''
eip24$reason_for_offer_clinical_sti___26 <- ''
eip24$reason_for_offer_clinical_sti___27 <- ''
eip24$reason_for_offer_clinical_sti___28 <- ''
eip24$reason_for_offer_clinical_sti___29 <- ''
eip24$reason_for_offer_clinical_sti___30 <- ''
eip24$reason_for_offer_clinical_sti___31 <- ''
eip24$reason_for_offer_counselor_sti___1 <- ''
eip24$reason_for_offer_counselor_sti___2 <- ''
eip24$reason_for_offer_counselor_sti___3 <- ''
eip24$reason_for_offer_counselor_sti___4 <- ''
eip24$reason_for_offer_counselor_sti___5 <- ''
eip24$reason_for_offer_counselor_sti___6 <- ''
eip24$reason_for_offer_counselor_sti___7 <- ''
eip24$reason_for_offer_counselor_sti___8 <- ''
eip24$reason_for_offer_counselor_sti___9 <- ''
eip24$reason_for_offer_counselor_sti___10 <- ''
eip24$reason_for_offer_counselor_sti___11 <- ''
eip24$reason_for_offer_counselor_sti___12 <- ''
eip24$reason_for_offer_counselor_sti___13 <- ''
eip24$reason_for_offer_counselor_sti___14 <- ''
eip24$reason_for_offer_counselor_sti___31 <- ''
eip24$reason_for_offer_counselor_sti___15 <- ''
eip24$reason_for_offer_counselor_sti___16 <- ''
eip24$reason_for_offer_counselor_sti___17 <- ''
eip24$reason_for_offer_counselor_sti___18 <- ''
eip24$reason_for_offer_counselor_sti___19 <- ''
eip24$reason_for_offer_counselor_sti___20 <- ''
eip24$reason_for_offer_counselor_sti___21 <- ''
eip24$reason_for_offer_counselor_sti___22 <- ''
eip24$reason_for_offer_counselor_sti___23 <- ''
eip24$reason_for_offer_counselor_sti___24 <- ''
eip24$reason_for_offer_counselor_sti___25 <- ''
eip24$reason_for_offer_counselor_sti___26 <- ''
eip24$reason_for_offer_counselor_sti___27 <- ''
eip24$reason_for_offer_counselor_sti___28 <- ''
eip24$reason_for_offer_counselor_sti___29 <- ''
eip24$reason_for_offer_counselor_sti___30 <- ''
eip24$reason_for_offer_demographics_sti___1 <- ''
eip24$reason_for_offer_demographics_sti___2 <- ''
eip24$reason_for_offer_demographics_sti___3 <- ''
eip24$reason_for_offer_demographics_sti___4 <- ''
eip24$offer_outcome_approach_sti___1 <- ''
eip24$offer_outcome_approach_sti___2 <- ''
eip24$offer_outcome_approach_sti___3 <- ''
eip24$offer_outcome_approach_sti___4 <- ''
eip24$offer_outcome_approach_sti___5 <- ''
eip24$offer_outcome_approach_sti___6 <- ''
eip24$offer_outcome_approach_sti___7 <- ''
eip24$offer_outcome_approach_sti___8 <- ''
eip24$offer_outcome_declined_sti___1 <- ''
eip24$offer_outcome_declined_sti___2 <- ''
eip24$offer_outcome_declined_sti___3 <- ''
eip24$offer_outcome_declined_sti___4 <- ''
eip24$offer_outcome_declined_sti___5 <- ''
eip24$offer_outcome_declined_sti___6 <- ''
eip24$offer_outcome_declined_sti___7 <- ''
eip24$offer_outcome_declined_sti___8 <- ''
eip24$offer_outcome_declined_sti___9 <- ''
eip24$offer_outcome_declined_sti___10 <- ''
eip24$offer_outcome_declined_sti___27 <- ''
eip24$offer_outcome_declined_sti___11 <- ''
eip24$offer_outcome_declined_sti___12 <- ''
eip24$offer_outcome_declined_sti___13 <- ''
eip24$offer_outcome_declined_sti___14 <- ''
eip24$offer_outcome_declined_sti___15 <- ''
eip24$offer_outcome_declined_sti___16 <- ''
eip24$offer_outcome_declined_sti___17 <- ''
eip24$offer_outcome_declined_sti___18 <- ''
eip24$offer_outcome_declined_sti___19 <- ''
eip24$offer_outcome_declined_sti___20 <- ''
eip24$offer_outcome_declined_sti___21 <- ''
eip24$offer_outcome_declined_sti___22 <- ''
eip24$offer_outcome_declined_sti___23 <- ''
eip24$offer_outcome_declined_sti___24 <- ''
eip24$offer_outcome_declined_sti___25 <- ''
eip24$offer_outcome_declined_sti___28 <- ''
eip24$offer_outcome_declined_sti___26 <- ''
eip24$offer_outcome_prevented_sti___1 <- ''
eip24$offer_outcome_prevented_sti___2 <- ''
eip24$offer_outcome_prevented_sti___3 <- ''
eip24$offer_outcome_prevented_sti___4 <- ''
eip24$offer_outcome_prevented_sti___5 <- ''
eip24$offer_outcome_prevented_sti___6 <- ''
eip24$offer_outcome_prevented_sti___7 <- ''
eip24$offer_outcome_prevented_sti___8 <- ''
eip24$offer_outcome_prevented_sti___9 <- ''
eip24$offer_outcome_prevented_sti___10 <- ''
eip24$offer_outcome_approach_sti_2___1 <- ''
eip24$offer_outcome_approach_sti_2___2 <- ''
eip24$offer_outcome_approach_sti_2___3 <- ''
eip24$offer_outcome_approach_sti_2___4 <- ''
eip24$offer_outcome_approach_sti_2___5 <- ''
eip24$offer_outcome_approach_sti_2___6 <- ''
eip24$offer_outcome_approach_sti_2___7 <- ''
eip24$offer_outcome_approach_sti_2___8 <- ''
eip24$offer_outcome_declined_sti_2___1 <- ''
eip24$offer_outcome_declined_sti_2___2 <- ''
eip24$offer_outcome_declined_sti_2___3 <- ''
eip24$offer_outcome_declined_sti_2___4 <- ''
eip24$offer_outcome_declined_sti_2___5 <- ''
eip24$offer_outcome_declined_sti_2___6 <- ''
eip24$offer_outcome_declined_sti_2___7 <- ''
eip24$offer_outcome_declined_sti_2___8 <- ''
eip24$offer_outcome_declined_sti_2___9 <- ''
eip24$offer_outcome_declined_sti_2___10 <- ''
eip24$offer_outcome_declined_sti_2___27 <- ''
eip24$offer_outcome_declined_sti_2___11 <- ''
eip24$offer_outcome_declined_sti_2___12 <- ''
eip24$offer_outcome_declined_sti_2___13 <- ''
eip24$offer_outcome_declined_sti_2___14 <- ''
eip24$offer_outcome_declined_sti_2___15 <- ''
eip24$offer_outcome_declined_sti_2___16 <- ''
eip24$offer_outcome_declined_sti_2___17 <- ''
eip24$offer_outcome_declined_sti_2___18 <- ''
eip24$offer_outcome_declined_sti_2___19 <- ''
eip24$offer_outcome_declined_sti_2___20 <- ''
eip24$offer_outcome_declined_sti_2___21 <- ''
eip24$offer_outcome_declined_sti_2___22 <- ''
eip24$offer_outcome_declined_sti_2___23 <- ''
eip24$offer_outcome_declined_sti_2___24 <- ''
eip24$offer_outcome_declined_sti_2___25 <- ''
eip24$offer_outcome_declined_sti_2___28 <- ''
eip24$offer_outcome_declined_sti_2___26 <- ''
eip24$offer_outcome_prevented_sti_2___1 <- ''
eip24$offer_outcome_prevented_sti_2___2 <- ''
eip24$offer_outcome_prevented_sti_2___3 <- ''
eip24$offer_outcome_prevented_sti_2___4 <- ''
eip24$offer_outcome_prevented_sti_2___5 <- ''
eip24$offer_outcome_prevented_sti_2___6 <- ''
eip24$offer_outcome_prevented_sti_2___7 <- ''
eip24$offer_outcome_prevented_sti_2___8 <- ''
eip24$offer_outcome_prevented_sti_2___9 <- ''
eip24$offer_outcome_prevented_sti_2___10 <- ''
eip24$offer_outcome_approach_sti_3___1 <- ''
eip24$offer_outcome_approach_sti_3___2 <- ''
eip24$offer_outcome_approach_sti_3___3 <- ''
eip24$offer_outcome_approach_sti_3___4 <- ''
eip24$offer_outcome_approach_sti_3___5 <- ''
eip24$offer_outcome_approach_sti_3___6 <- ''
eip24$offer_outcome_approach_sti_3___7 <- ''
eip24$offer_outcome_approach_sti_3___8 <- ''
eip24$offer_outcome_declined_sti_3___1 <- ''
eip24$offer_outcome_declined_sti_3___2 <- ''
eip24$offer_outcome_declined_sti_3___3 <- ''
eip24$offer_outcome_declined_sti_3___4 <- ''
eip24$offer_outcome_declined_sti_3___5 <- ''
eip24$offer_outcome_declined_sti_3___6 <- ''
eip24$offer_outcome_declined_sti_3___7 <- ''
eip24$offer_outcome_declined_sti_3___8 <- ''
eip24$offer_outcome_declined_sti_3___9 <- ''
eip24$offer_outcome_declined_sti_3___10 <- ''
eip24$offer_outcome_declined_sti_3___27 <- ''
eip24$offer_outcome_declined_sti_3___11 <- ''
eip24$offer_outcome_declined_sti_3___12 <- ''
eip24$offer_outcome_declined_sti_3___13 <- ''
eip24$offer_outcome_declined_sti_3___14 <- ''
eip24$offer_outcome_declined_sti_3___15 <- ''
eip24$offer_outcome_declined_sti_3___16 <- ''
eip24$offer_outcome_declined_sti_3___17 <- ''
eip24$offer_outcome_declined_sti_3___18 <- ''
eip24$offer_outcome_declined_sti_3___19 <- ''
eip24$offer_outcome_declined_sti_3___20 <- ''
eip24$offer_outcome_declined_sti_3___21 <- ''
eip24$offer_outcome_declined_sti_3___22 <- ''
eip24$offer_outcome_declined_sti_3___23 <- ''
eip24$offer_outcome_declined_sti_3___24 <- ''
eip24$offer_outcome_declined_sti_3___25 <- ''
eip24$offer_outcome_declined_sti_3___28 <- ''
eip24$offer_outcome_declined_sti_3___26 <- ''
eip24$offer_outcome_prevented_sti_3___1 <- ''
eip24$offer_outcome_prevented_sti_3___2 <- ''
eip24$offer_outcome_prevented_sti_3___3 <- ''
eip24$offer_outcome_prevented_sti_3___4 <- ''
eip24$offer_outcome_prevented_sti_3___5 <- ''
eip24$offer_outcome_prevented_sti_3___6 <- ''
eip24$offer_outcome_prevented_sti_3___7 <- ''
eip24$offer_outcome_prevented_sti_3___8 <- ''
eip24$offer_outcome_prevented_sti_3___9 <- ''
eip24$offer_outcome_prevented_sti_3___10 <- ''
eip24$testing_sti_complete <- ''
eip24$oend_eip_facilitated_med_staff___0 <- ''
eip24$oend_eip_facilitated_dist_method___3 <- ''
eip24$oend_eip_facilitated_nalox_vend <- ''
eip24$ltc_coordinator_per_case___87 <- ''
eip24$ltc_coordinator_per_case___88 <- ''
eip24$ltc_coordinator_per_case___89 <- ''
eip24$ltc_coordinator_per_case___90 <- ''
eip24$ltc_coordinator_per_case___91 <- ''
eip24$ltc_coordinator_per_case___92 <- ''
eip24$kahloon_ltc_open_calc <- ''
eip24$enc_location_medvouc <- ''
eip24$enc_location_medvouc_other <- ''
eip24$offer_outcome_declined_peer___27 <- ''
eip24$offer_outcome_declined_peer___28 <- ''
eip24$offer_outcome_declined_peer___29 <- ''
eip24$offer_outcome_declined_peer___30 <- ''
eip24$offer_outcome_declined_peer___36 <- ''
eip24$offer_outcome_declined_peer___33 <- ''
eip24$offer_outcome_declined_peer___34 <- ''
eip24$offer_outcome_declined_peer___35 <- ''
eip24$offer_outcome_declined_peer___0 <- ''
eip24$ltc_hiv_success_story <- ''
eip24$ltc_hcv_success_story <- ''
eip24$ltc_sud_success_story <- ''
eip24$ltc_prep_success_story <- ''
eip24$ltc_mh_success_story <- ''
eip24$ltc_housing_success_story <- ''
eip24$ltc_food_success_story <- ''
eip24$ltc_financial_success_story <- ''
eip24$ltc_ht_success_story <- ''
eip24$ltc_abuse_success_story <- ''
eip24$ltc_general_success_story <- ''
eip24$ltc_sti_success_story <- ''
eip24$ltc_other_success_story <- ''
eip24$hcph_sud_next_follow_up_date <- ''

eip24$enc_location_street_med <- ''
eip24$xts_provided <- ''
eip24$xts_number <- ''
eip24$ltc_services___6 <- ''
eip24$ltc_peer_final_ltc_status <- ''
eip24$ltc_peer_declined_rsn___23 <- ''
eip24$ltc_peer_declined_rsn___27 <- ''
eip24$ltc_peer_declined_rsn___3 <- ''
eip24$ltc_peer_declined_rsn___5 <- ''
eip24$ltc_peer_declined_rsn___6 <- ''
eip24$ltc_peer_declined_rsn___7 <- ''
eip24$ltc_peer_declined_rsn___8 <- ''
eip24$ltc_peer_declined_rsn___9 <- ''
eip24$ltc_peer_declined_rsn___10 <- ''
eip24$ltc_peer_declined_rsn___28 <- ''
eip24$ltc_peer_declined_rsn___29 <- ''
eip24$ltc_peer_declined_rsn___30 <- ''
eip24$ltc_peer_declined_rsn___36 <- ''
eip24$ltc_peer_declined_rsn___33 <- ''
eip24$ltc_peer_declined_rsn___34 <- ''
eip24$ltc_peer_declined_rsn___35 <- ''
eip24$ltc_peer_declined_rsn___0 <- ''
eip24$ltc_peer_declined_rsn_other <- ''
eip24$ltc_peer_prevented_rsn___1 <- ''
eip24$ltc_peer_prevented_rsn___2 <- ''
eip24$ltc_peer_prevented_rsn___11 <- ''
eip24$ltc_peer_prevented_rsn___3 <- ''
eip24$ltc_peer_prevented_rsn___4 <- ''
eip24$ltc_peer_prevented_rsn___5 <- ''
eip24$ltc_peer_prevented_rsn___6 <- ''
eip24$ltc_peer_prevented_rsn___8 <- ''
eip24$ltc_peer_prevented_rsn___9 <- ''
eip24$ltc_peer_prevented_rsn___12 <- ''
eip24$ltc_peer_prevented_rsn___19 <- ''
eip24$ltc_peer_prevented_rsn___20 <- ''
eip24$ltc_peer_prevented_rsn___16 <- ''
eip24$ltc_peer_prevented_rsn___17 <- ''
eip24$ltc_peer_prevented_rsn___18 <- ''
eip24$ltc_peer_prevented_rsn___0 <- ''
eip24$ltc_peer_prevented_rsn_other <- ''
eip24$peer_link_eip <- ''
eip24$ltc_peer_success_story <- ''
eip24$close_case_peer <- ''
eip24$close_case_peer_date <- ''
eip24$hiv_next_follow_up_date <- ''
eip24$hcv_next_follow_up_date <- ''
eip24$sud_next_follow_up_date <- ''
eip24$peer_next_follow_up_date <- ''
eip24$add_next_follow_up_date <- ''
eip24$ltc_sud_referral_hopeline <- ''
eip24$ltc_sud_referral_hopeline_date <- ''
eip24$ltc_sud_referral_uc_inpt <- ''
eip24$ltc_sud_referral_uc_inpt_date <- ''
eip24$counselor_ref_sud_specific___60 <- ''
eip24$counselor_ref_sud_specific___61 <- ''
eip24$ltc_sud_referral_hopeline___1 <- ''
eip24$ltc_sud_referral_hopeline___2 <- ''
eip24$ltc_sud_referral_hopeline___3 <- ''
eip24$ltc_sud_referral_hopeline___0 <- ''
eip24$ltc_sud_referral_uc_inpt___1 <- ''
eip24$ltc_sud_referral_uc_inpt___2 <- ''
eip24$ltc_sud_referral_uc_inpt___3 <- ''
eip24$ltc_sud_referral_uc_inpt___0 <- ''
eip24$mgen_sr <- ''
eip24$mgen_treat <- ''


#####  Updating 2025 Dataset  #####

# Adding variables removed in 2025 database from 2024 database as blank values
eip25$peer_navigator_id___14 <- ''
eip25$peer_navigator_id___67 <- ''
eip25$peer_navigator_id___14 <- ''
eip25$peer_navigator_id___67               
eip25$eligible_blackard_icf <- ''
eip25$naccho_day14_contact_date <- ''
eip25$naccho_day30_contact_date <- ''
eip25$partner_status_1___1 <- ''
eip25$partner_status_1___2 <- ''
eip25$partner_status_1___3 <- ''
eip25$partner_status_1___4 <- ''
eip25$partner_status_1___5 <- ''
eip25$partner_status_1___6 <- ''
eip25$partner_status_1___7 <- ''
eip25$partner_status_1___8 <- ''
eip25$partner_status_2___1 <- ''
eip25$partner_status_2___2 <- ''
eip25$partner_status_2___3 <- ''
eip25$partner_status_2___4 <- ''
eip25$partner_status_2___5 <- ''
eip25$partner_status_2___6 <- ''
eip25$partner_status_2___7 <- ''
eip25$partner_status_2___8 <- ''
eip25$partner_status_3___1 <- ''
eip25$partner_status_3___2 <- ''
eip25$partner_status_3___3 <- ''
eip25$partner_status_3___4 <- ''
eip25$partner_status_3___5 <- ''
eip25$partner_status_3___6 <- ''
eip25$partner_status_3___7 <- ''
eip25$partner_status_3___8 <- ''
eip25$partner_status_4___1 <- ''
eip25$partner_status_4___2 <- ''
eip25$partner_status_4___3 <- ''
eip25$partner_status_4___4 <- ''
eip25$partner_status_4___5 <- ''
eip25$partner_status_4___6 <- ''
eip25$partner_status_4___7 <- ''
eip25$partner_status_4___8 <- ''
eip25$partner_status_5___1 <- ''
eip25$partner_status_5___2 <- ''
eip25$partner_status_5___3 <- ''
eip25$partner_status_5___4 <- ''
eip25$partner_status_5___5 <- ''
eip25$partner_status_5___6 <- ''
eip25$partner_status_5___7 <- ''
eip25$partner_status_5___8 <- ''
eip25$counselor_ref_sti_specific___6 <- ''
eip25$ltc_coordinator_per_case___5 <- ''
eip25$ltc_coordinator_per_case___6 <- ''
eip25$ltc_coordinator_per_case___8 <- ''
eip25$ltc_coordinator_per_case___73 <- ''
eip25$ltc_coordinator_per_case___14 <- ''
eip25$ltc_coordinator_per_case___65 <- ''
eip25$ltc_coordinator_per_case___59 <- ''
eip25$ltc_coordinator_per_case___67 <- ''
eip25$ltc_coordinator_per_case___72 <- ''
eip25$ltc_coordinator_per_case___47 <- ''
eip25$ltc_coordinator_per_case___66 <- ''
eip25$ltc_coordinator_per_case___76 <- ''
eip25$ltc_coordinator_per_case___40 <- ''
eip25$ltc_coordinator_per_case___41 <- ''
eip25$ltc_coordinator_per_case___75 <- ''
eip25$ltc_coordinator_per_case___1 <- ''
eip25$ltc_coordinator_per_case___48 <- ''
eip25$ltc_sud_oud_fu <- ''
eip25$ltc_sud_oud_pos_fu <- ''
eip25$ltc_service1___6 <- ''
eip25$ltc_service2___6 <- ''
eip25$ltc_service3___6 <- ''
eip25$ltc_service4___6 <- ''
eip25$ltc_service5___6 <- ''
eip25$ltc_service6___6 <- ''
eip25$ltc_service7___6 <- ''
eip25$ltc_service8___6 <- ''
eip25$ltc_service9___6 <- ''
eip25$ltc_service10___6 <- ''
eip25$ltc_service11___6 <- ''
eip25$ltc_service12___6 <- ''
eip25$ltc_service13___6 <- ''
eip25$ltc_service14___6 <- ''
eip25$ltc_service15___6 <- ''
eip25$ltc_service16___6 <- ''
eip25$ltc_service17___6 <- ''
eip25$ltc_service18___6 <- ''
eip25$ltc_service19___6 <- ''
eip25$ltc_service20___6 <- ''
eip25$ltc_service21___6 <- ''
eip25$ltc_service22___6 <- ''
eip25$ltc_service23___6 <- ''
eip25$ltc_service24___6 <- ''
eip25$ltc_service25___6 <- ''
eip25$ltc_service26___6 <- ''
eip25$ltc_service27___6 <- ''
eip25$ltc_service28___6 <- ''
eip25$ltc_service29___6 <- ''
eip25$ltc_service30___6 <- ''
eip25$ltc_service31___6 <- ''
eip25$ltc_service32___6 <- ''
eip25$ltc_service33___6 <- ''
eip25$ltc_service34___6 <- ''
eip25$ltc_service35___6 <- ''
eip25$ltc_service36___6 <- ''
eip25$ltc_service37___6 <- ''
eip25$ltc_service38___6 <- ''
eip25$ltc_service39___6 <- ''
eip25$ltc_service40___6 <- ''
eip25$ltc_service41___6 <- ''
eip25$ltc_service42___6 <- ''
eip25$ltc_service43___6 <- ''
eip25$ltc_service44___6 <- ''
eip25$ltc_service45___6 <- ''
eip25$ltc_service46___6 <- ''
eip25$ltc_service47___6 <- ''
eip25$ltc_service48___6 <- ''
eip25$ltc_service49___6 <- ''
eip25$ltc_service50___6 <- ''
eip25$ltc_service1___8 <- ''
eip25$ltc_service2___8 <- ''
eip25$ltc_service3___8 <- ''
eip25$ltc_service4___8 <- ''
eip25$ltc_service5___8 <- ''
eip25$ltc_service6___8 <- ''
eip25$ltc_service7___8 <- ''
eip25$ltc_service8___8 <- ''
eip25$ltc_service9___8 <- ''
eip25$ltc_service10___8 <- ''
eip25$ltc_service11___8 <- ''
eip25$ltc_service12___8 <- ''
eip25$ltc_service13___8 <- ''
eip25$ltc_service14___8 <- ''
eip25$ltc_service15___8 <- ''
eip25$ltc_service16___8 <- ''
eip25$ltc_service17___8 <- ''
eip25$ltc_service18___8 <- ''
eip25$ltc_service19___8 <- ''
eip25$ltc_service20___8 <- ''
eip25$ltc_service21___8 <- ''
eip25$ltc_service22___8 <- ''
eip25$ltc_service23___8 <- ''
eip25$ltc_service24___8 <- ''
eip25$ltc_service25___8 <- ''
eip25$ltc_service26___8 <- ''
eip25$ltc_service27___8 <- ''
eip25$ltc_service28___8 <- ''
eip25$ltc_service29___8 <- ''
eip25$ltc_service30___8 <- ''
eip25$ltc_service31___8 <- ''
eip25$ltc_service32___8 <- ''
eip25$ltc_service33___8 <- ''
eip25$ltc_service34___8 <- ''
eip25$ltc_service35___8 <- ''
eip25$ltc_service36___8 <- ''
eip25$ltc_service37___8 <- ''
eip25$ltc_service38___8 <- ''
eip25$ltc_service39___8 <- ''
eip25$ltc_service40___8 <- ''
eip25$ltc_service41___8 <- ''
eip25$ltc_service42___8 <- ''
eip25$ltc_service43___8 <- ''
eip25$ltc_service44___8 <- ''
eip25$ltc_service45___8 <- ''
eip25$ltc_service46___8 <- ''
eip25$ltc_service47___8 <- ''
eip25$ltc_service48___8 <- ''
eip25$ltc_service49___8 <- ''
eip25$ltc_service50___8 <- ''
eip25$naccho_contact_day1 <- ''
eip25$naccho_contact_day2 <- ''
eip25$naccho_contact_day3 <- ''
eip25$naccho_contact_day4 <- ''
eip25$naccho_contact_day5 <- ''
eip25$naccho_contact_day6 <- ''
eip25$naccho_contact_day7 <- ''
eip25$naccho_contact_day8 <- ''
eip25$naccho_contact_day9 <- ''
eip25$naccho_contact_day10 <- ''
eip25$naccho_contact_day11 <- ''
eip25$naccho_contact_day12 <- ''
eip25$naccho_contact_day13 <- ''
eip25$naccho_contact_day14 <- ''
eip25$naccho_contact_day15 <- ''
eip25$naccho_contact_day16 <- ''
eip25$naccho_contact_day17 <- ''
eip25$naccho_contact_day18 <- ''
eip25$naccho_contact_day19 <- ''
eip25$naccho_contact_day20 <- ''
eip25$naccho_contact_day21 <- ''
eip25$naccho_contact_day22 <- ''
eip25$naccho_contact_day23 <- ''
eip25$naccho_contact_day24 <- ''
eip25$naccho_contact_day25 <- ''
eip25$naccho_contact_day26 <- ''
eip25$naccho_contact_day27 <- ''
eip25$naccho_contact_day28 <- ''
eip25$naccho_contact_day29 <- ''
eip25$naccho_contact_day30 <- ''
eip25$naccho_contact_day31 <- ''
eip25$naccho_contact_day32 <- ''
eip25$naccho_contact_day33 <- ''
eip25$naccho_contact_day34 <- ''
eip25$naccho_contact_day35 <- ''
eip25$naccho_contact_day36 <- ''
eip25$naccho_contact_day37 <- ''
eip25$naccho_contact_day38 <- ''
eip25$naccho_contact_day39 <- ''
eip25$naccho_contact_day40 <- ''
eip25$naccho_contact_day41 <- ''
eip25$naccho_contact_day42 <- ''
eip25$naccho_contact_day43 <- ''
eip25$naccho_contact_day44 <- ''
eip25$naccho_contact_day45 <- ''
eip25$naccho_contact_day46 <- ''
eip25$naccho_contact_day47 <- ''
eip25$naccho_contact_day48 <- ''
eip25$naccho_contact_day49 <- ''
eip25$naccho_contact_day50 <- ''
eip25$naccho_contact_confirm_tx1 <- ''
eip25$naccho_contact_confirm_tx2 <- ''
eip25$naccho_contact_confirm_tx3 <- ''
eip25$naccho_contact_confirm_tx4 <- ''
eip25$naccho_contact_confirm_tx5 <- ''
eip25$naccho_contact_confirm_tx6 <- ''
eip25$naccho_contact_confirm_tx7 <- ''
eip25$naccho_contact_confirm_tx8 <- ''
eip25$naccho_contact_confirm_tx9 <- ''
eip25$naccho_contact_confirm_tx10 <- ''
eip25$naccho_contact_confirm_tx11 <- ''
eip25$naccho_contact_confirm_tx12 <- ''
eip25$naccho_contact_confirm_tx13 <- ''
eip25$naccho_contact_confirm_tx14 <- ''
eip25$naccho_contact_confirm_tx15 <- ''
eip25$naccho_contact_confirm_tx16 <- ''
eip25$naccho_contact_confirm_tx17 <- ''
eip25$naccho_contact_confirm_tx18 <- ''
eip25$naccho_contact_confirm_tx19 <- ''
eip25$naccho_contact_confirm_tx20 <- ''
eip25$naccho_contact_confirm_tx21 <- ''
eip25$naccho_contact_confirm_tx22 <- ''
eip25$naccho_contact_confirm_tx23 <- ''
eip25$naccho_contact_confirm_tx24 <- ''
eip25$naccho_contact_confirm_tx25 <- ''
eip25$naccho_contact_confirm_tx26 <- ''
eip25$naccho_contact_confirm_tx27 <- ''
eip25$naccho_contact_confirm_tx28 <- ''
eip25$naccho_contact_confirm_tx29 <- ''
eip25$naccho_contact_confirm_tx30 <- ''
eip25$naccho_contact_confirm_tx31 <- ''
eip25$naccho_contact_confirm_tx32 <- ''
eip25$naccho_contact_confirm_tx33 <- ''
eip25$naccho_contact_confirm_tx34 <- ''
eip25$naccho_contact_confirm_tx35 <- ''
eip25$naccho_contact_confirm_tx36 <- ''
eip25$naccho_contact_confirm_tx37 <- ''
eip25$naccho_contact_confirm_tx38 <- ''
eip25$naccho_contact_confirm_tx39 <- ''
eip25$naccho_contact_confirm_tx40 <- ''
eip25$naccho_contact_confirm_tx41 <- ''
eip25$naccho_contact_confirm_tx42 <- ''
eip25$naccho_contact_confirm_tx43 <- ''
eip25$naccho_contact_confirm_tx44 <- ''
eip25$naccho_contact_confirm_tx45 <- ''
eip25$naccho_contact_confirm_tx46 <- ''
eip25$naccho_contact_confirm_tx47 <- ''
eip25$naccho_contact_confirm_tx48 <- ''
eip25$naccho_contact_confirm_tx49 <- ''
eip25$naccho_contact_confirm_tx50 <- ''
eip25$ltc_hcv_referral_uc_pharmacy_telehealth___1 <- ''
eip25$ltc_hcv_referral_uc_pharmacy_telehealth___2 <- ''
eip25$ltc_hcv_referral_uc_pharmacy_telehealth___3 <- ''
eip25$ltc_coordinator_per_case___2 <- ''
eip25$ltc_coordinator_per_case___12 <- ''
eip25$ltc_coordinator_per_case___61 <- ''
eip25$ltc_coordinator_per_case___54 <- ''
eip25$ltc_coordinator_per_case___24 <- ''
eip25$ltc_coordinator_per_case___64 <- ''
eip25$ltc_coordinator_per_case___28 <- ''
eip25$ltc_coordinator_per_case___63 <- ''
eip25$ltc_coordinator_per_case___49 <- ''
eip25$ltc_coordinator_per_case___69 <- ''
eip25$ltc_coordinator_per_case___30 <- ''
eip25$offer_outcome_declined_peer___1 <- ''
eip25$offer_outcome_declined_peer___2 <- ''
eip25$offer_outcome_declined_peer___4 <- ''
eip25$offer_outcome_declined_peer___11 <- ''
eip25$offer_outcome_declined_peer___12 <- ''
eip25$offer_outcome_declined_peer___13 <- ''
eip25$offer_outcome_declined_peer___14 <- ''
eip25$offer_outcome_declined_peer___15 <- ''
eip25$offer_outcome_declined_peer___16 <- ''
eip25$offer_outcome_declined_peer___17 <- ''
eip25$offer_outcome_declined_peer___18 <- ''
eip25$offer_outcome_declined_peer___19 <- ''
eip25$offer_outcome_declined_peer___20 <- ''
eip25$offer_outcome_declined_peer___21 <- ''
eip25$offer_outcome_declined_peer___22 <- ''
eip25$offer_outcome_declined_peer___24 <- ''
eip25$offer_outcome_declined_peer___25 <- ''
eip25$offer_outcome_declined_peer___26 <- ''

# Adding variables added to 2026 database as blank values
eip25$enc_location_street_med <- ''
eip25$xts_provided <- ''
eip25$xts_number <- ''
eip25$ltc_services___6 <- ''
eip25$ltc_peer_final_ltc_status <- ''
eip25$ltc_peer_declined_rsn___23 <- ''
eip25$ltc_peer_declined_rsn___27 <- ''
eip25$ltc_peer_declined_rsn___3 <- ''
eip25$ltc_peer_declined_rsn___5 <- ''
eip25$ltc_peer_declined_rsn___6 <- ''
eip25$ltc_peer_declined_rsn___7 <- ''
eip25$ltc_peer_declined_rsn___8 <- ''
eip25$ltc_peer_declined_rsn___9 <- ''
eip25$ltc_peer_declined_rsn___10 <- ''
eip25$ltc_peer_declined_rsn___28 <- ''
eip25$ltc_peer_declined_rsn___29 <- ''
eip25$ltc_peer_declined_rsn___30 <- ''
eip25$ltc_peer_declined_rsn___36 <- ''
eip25$ltc_peer_declined_rsn___33 <- ''
eip25$ltc_peer_declined_rsn___34 <- ''
eip25$ltc_peer_declined_rsn___35 <- ''
eip25$ltc_peer_declined_rsn___0 <- ''
eip25$ltc_peer_declined_rsn_other <- ''
eip25$ltc_peer_prevented_rsn___1 <- ''
eip25$ltc_peer_prevented_rsn___2 <- ''
eip25$ltc_peer_prevented_rsn___11 <- ''
eip25$ltc_peer_prevented_rsn___3 <- ''
eip25$ltc_peer_prevented_rsn___4 <- ''
eip25$ltc_peer_prevented_rsn___5 <- ''
eip25$ltc_peer_prevented_rsn___6 <- ''
eip25$ltc_peer_prevented_rsn___8 <- ''
eip25$ltc_peer_prevented_rsn___9 <- ''
eip25$ltc_peer_prevented_rsn___12 <- ''
eip25$ltc_peer_prevented_rsn___19 <- ''
eip25$ltc_peer_prevented_rsn___20 <- ''
eip25$ltc_peer_prevented_rsn___16 <- ''
eip25$ltc_peer_prevented_rsn___17 <- ''
eip25$ltc_peer_prevented_rsn___18 <- ''
eip25$ltc_peer_prevented_rsn___0 <- ''
eip25$ltc_peer_prevented_rsn_other <- ''
eip25$peer_link_eip <- ''
eip25$ltc_peer_success_story <- ''
eip25$close_case_peer <- ''
eip25$close_case_peer_date <- ''
eip25$hiv_next_follow_up_date <- ''
eip25$hcv_next_follow_up_date <- ''
eip25$sud_next_follow_up_date <- ''
eip25$peer_next_follow_up_date <- ''
eip25$add_next_follow_up_date <- ''
eip25$ltc_sud_referral_hopeline <- ''
eip25$ltc_sud_referral_hopeline_date <- ''
eip25$ltc_sud_referral_uc_inpt <- ''
eip25$ltc_sud_referral_uc_inpt_date <- ''
eip25$counselor_ref_sud_specific___60 <- ''
eip25$counselor_ref_sud_specific___61 <- ''
eip25$ltc_sud_referral_hopeline___1 <- ''
eip25$ltc_sud_referral_hopeline___2 <- ''
eip25$ltc_sud_referral_hopeline___3 <- ''
eip25$ltc_sud_referral_hopeline___0 <- ''
eip25$ltc_sud_referral_uc_inpt___1 <- ''
eip25$ltc_sud_referral_uc_inpt___2 <- ''
eip25$ltc_sud_referral_uc_inpt___3 <- ''
eip25$ltc_sud_referral_uc_inpt___0 <- ''
eip25$mgen_sr <- ''
eip25$mgen_treat <- ''


#####  Updating 2026 Dataset  #####

# Adding variables removed in 2026 database from 2024/2025 database as blank values
eip26$peer_navigator_id___14 <- ''
eip26$peer_navigator_id___67 <- ''
eip26$peer_navigator_id___14 <- ''
eip26$peer_navigator_id___67               
eip26$eligible_blackard_icf <- ''
eip26$naccho_day14_contact_date <- ''
eip26$naccho_day30_contact_date <- ''
eip26$partner_status_1___1 <- ''
eip26$partner_status_1___2 <- ''
eip26$partner_status_1___3 <- ''
eip26$partner_status_1___4 <- ''
eip26$partner_status_1___5 <- ''
eip26$partner_status_1___6 <- ''
eip26$partner_status_1___7 <- ''
eip26$partner_status_1___8 <- ''
eip26$partner_status_2___1 <- ''
eip26$partner_status_2___2 <- ''
eip26$partner_status_2___3 <- ''
eip26$partner_status_2___4 <- ''
eip26$partner_status_2___5 <- ''
eip26$partner_status_2___6 <- ''
eip26$partner_status_2___7 <- ''
eip26$partner_status_2___8 <- ''
eip26$partner_status_3___1 <- ''
eip26$partner_status_3___2 <- ''
eip26$partner_status_3___3 <- ''
eip26$partner_status_3___4 <- ''
eip26$partner_status_3___5 <- ''
eip26$partner_status_3___6 <- ''
eip26$partner_status_3___7 <- ''
eip26$partner_status_3___8 <- ''
eip26$partner_status_4___1 <- ''
eip26$partner_status_4___2 <- ''
eip26$partner_status_4___3 <- ''
eip26$partner_status_4___4 <- ''
eip26$partner_status_4___5 <- ''
eip26$partner_status_4___6 <- ''
eip26$partner_status_4___7 <- ''
eip26$partner_status_4___8 <- ''
eip26$partner_status_5___1 <- ''
eip26$partner_status_5___2 <- ''
eip26$partner_status_5___3 <- ''
eip26$partner_status_5___4 <- ''
eip26$partner_status_5___5 <- ''
eip26$partner_status_5___6 <- ''
eip26$partner_status_5___7 <- ''
eip26$partner_status_5___8 <- ''
eip26$counselor_ref_sti_specific___6 <- ''
eip26$ltc_coordinator_per_case___5 <- ''
eip26$ltc_coordinator_per_case___6 <- ''
eip26$ltc_coordinator_per_case___8 <- ''
eip26$ltc_coordinator_per_case___73 <- ''
eip26$ltc_coordinator_per_case___14 <- ''
eip26$ltc_coordinator_per_case___65 <- ''
eip26$ltc_coordinator_per_case___59 <- ''
eip26$ltc_coordinator_per_case___67 <- ''
eip26$ltc_coordinator_per_case___72 <- ''
eip26$ltc_coordinator_per_case___47 <- ''
eip26$ltc_coordinator_per_case___66 <- ''
eip26$ltc_coordinator_per_case___76 <- ''
eip26$ltc_coordinator_per_case___40 <- ''
eip26$ltc_coordinator_per_case___41 <- ''
eip26$ltc_coordinator_per_case___75 <- ''
eip26$ltc_coordinator_per_case___1 <- ''
eip26$ltc_coordinator_per_case___48 <- ''
eip26$ltc_sud_oud_fu <- ''
eip26$ltc_sud_oud_pos_fu <- ''
eip26$ltc_service1___6 <- ''
eip26$ltc_service2___6 <- ''
eip26$ltc_service3___6 <- ''
eip26$ltc_service4___6 <- ''
eip26$ltc_service5___6 <- ''
eip26$ltc_service6___6 <- ''
eip26$ltc_service7___6 <- ''
eip26$ltc_service8___6 <- ''
eip26$ltc_service9___6 <- ''
eip26$ltc_service10___6 <- ''
eip26$ltc_service11___6 <- ''
eip26$ltc_service12___6 <- ''
eip26$ltc_service13___6 <- ''
eip26$ltc_service14___6 <- ''
eip26$ltc_service15___6 <- ''
eip26$ltc_service16___6 <- ''
eip26$ltc_service17___6 <- ''
eip26$ltc_service18___6 <- ''
eip26$ltc_service19___6 <- ''
eip26$ltc_service20___6 <- ''
eip26$ltc_service21___6 <- ''
eip26$ltc_service22___6 <- ''
eip26$ltc_service23___6 <- ''
eip26$ltc_service24___6 <- ''
eip26$ltc_service25___6 <- ''
eip26$ltc_service26___6 <- ''
eip26$ltc_service27___6 <- ''
eip26$ltc_service28___6 <- ''
eip26$ltc_service29___6 <- ''
eip26$ltc_service30___6 <- ''
eip26$ltc_service31___6 <- ''
eip26$ltc_service32___6 <- ''
eip26$ltc_service33___6 <- ''
eip26$ltc_service34___6 <- ''
eip26$ltc_service35___6 <- ''
eip26$ltc_service36___6 <- ''
eip26$ltc_service37___6 <- ''
eip26$ltc_service38___6 <- ''
eip26$ltc_service39___6 <- ''
eip26$ltc_service40___6 <- ''
eip26$ltc_service41___6 <- ''
eip26$ltc_service42___6 <- ''
eip26$ltc_service43___6 <- ''
eip26$ltc_service44___6 <- ''
eip26$ltc_service45___6 <- ''
eip26$ltc_service46___6 <- ''
eip26$ltc_service47___6 <- ''
eip26$ltc_service48___6 <- ''
eip26$ltc_service49___6 <- ''
eip26$ltc_service50___6 <- ''
eip26$ltc_service1___8 <- ''
eip26$ltc_service2___8 <- ''
eip26$ltc_service3___8 <- ''
eip26$ltc_service4___8 <- ''
eip26$ltc_service5___8 <- ''
eip26$ltc_service6___8 <- ''
eip26$ltc_service7___8 <- ''
eip26$ltc_service8___8 <- ''
eip26$ltc_service9___8 <- ''
eip26$ltc_service10___8 <- ''
eip26$ltc_service11___8 <- ''
eip26$ltc_service12___8 <- ''
eip26$ltc_service13___8 <- ''
eip26$ltc_service14___8 <- ''
eip26$ltc_service15___8 <- ''
eip26$ltc_service16___8 <- ''
eip26$ltc_service17___8 <- ''
eip26$ltc_service18___8 <- ''
eip26$ltc_service19___8 <- ''
eip26$ltc_service20___8 <- ''
eip26$ltc_service21___8 <- ''
eip26$ltc_service22___8 <- ''
eip26$ltc_service23___8 <- ''
eip26$ltc_service24___8 <- ''
eip26$ltc_service25___8 <- ''
eip26$ltc_service26___8 <- ''
eip26$ltc_service27___8 <- ''
eip26$ltc_service28___8 <- ''
eip26$ltc_service29___8 <- ''
eip26$ltc_service30___8 <- ''
eip26$ltc_service31___8 <- ''
eip26$ltc_service32___8 <- ''
eip26$ltc_service33___8 <- ''
eip26$ltc_service34___8 <- ''
eip26$ltc_service35___8 <- ''
eip26$ltc_service36___8 <- ''
eip26$ltc_service37___8 <- ''
eip26$ltc_service38___8 <- ''
eip26$ltc_service39___8 <- ''
eip26$ltc_service40___8 <- ''
eip26$ltc_service41___8 <- ''
eip26$ltc_service42___8 <- ''
eip26$ltc_service43___8 <- ''
eip26$ltc_service44___8 <- ''
eip26$ltc_service45___8 <- ''
eip26$ltc_service46___8 <- ''
eip26$ltc_service47___8 <- ''
eip26$ltc_service48___8 <- ''
eip26$ltc_service49___8 <- ''
eip26$ltc_service50___8 <- ''
eip26$naccho_contact_day1 <- ''
eip26$naccho_contact_day2 <- ''
eip26$naccho_contact_day3 <- ''
eip26$naccho_contact_day4 <- ''
eip26$naccho_contact_day5 <- ''
eip26$naccho_contact_day6 <- ''
eip26$naccho_contact_day7 <- ''
eip26$naccho_contact_day8 <- ''
eip26$naccho_contact_day9 <- ''
eip26$naccho_contact_day10 <- ''
eip26$naccho_contact_day11 <- ''
eip26$naccho_contact_day12 <- ''
eip26$naccho_contact_day13 <- ''
eip26$naccho_contact_day14 <- ''
eip26$naccho_contact_day15 <- ''
eip26$naccho_contact_day16 <- ''
eip26$naccho_contact_day17 <- ''
eip26$naccho_contact_day18 <- ''
eip26$naccho_contact_day19 <- ''
eip26$naccho_contact_day20 <- ''
eip26$naccho_contact_day21 <- ''
eip26$naccho_contact_day22 <- ''
eip26$naccho_contact_day23 <- ''
eip26$naccho_contact_day24 <- ''
eip26$naccho_contact_day25 <- ''
eip26$naccho_contact_day26 <- ''
eip26$naccho_contact_day27 <- ''
eip26$naccho_contact_day28 <- ''
eip26$naccho_contact_day29 <- ''
eip26$naccho_contact_day30 <- ''
eip26$naccho_contact_day31 <- ''
eip26$naccho_contact_day32 <- ''
eip26$naccho_contact_day33 <- ''
eip26$naccho_contact_day34 <- ''
eip26$naccho_contact_day35 <- ''
eip26$naccho_contact_day36 <- ''
eip26$naccho_contact_day37 <- ''
eip26$naccho_contact_day38 <- ''
eip26$naccho_contact_day39 <- ''
eip26$naccho_contact_day40 <- ''
eip26$naccho_contact_day41 <- ''
eip26$naccho_contact_day42 <- ''
eip26$naccho_contact_day43 <- ''
eip26$naccho_contact_day44 <- ''
eip26$naccho_contact_day45 <- ''
eip26$naccho_contact_day46 <- ''
eip26$naccho_contact_day47 <- ''
eip26$naccho_contact_day48 <- ''
eip26$naccho_contact_day49 <- ''
eip26$naccho_contact_day50 <- ''
eip26$naccho_contact_confirm_tx1 <- ''
eip26$naccho_contact_confirm_tx2 <- ''
eip26$naccho_contact_confirm_tx3 <- ''
eip26$naccho_contact_confirm_tx4 <- ''
eip26$naccho_contact_confirm_tx5 <- ''
eip26$naccho_contact_confirm_tx6 <- ''
eip26$naccho_contact_confirm_tx7 <- ''
eip26$naccho_contact_confirm_tx8 <- ''
eip26$naccho_contact_confirm_tx9 <- ''
eip26$naccho_contact_confirm_tx10 <- ''
eip26$naccho_contact_confirm_tx11 <- ''
eip26$naccho_contact_confirm_tx12 <- ''
eip26$naccho_contact_confirm_tx13 <- ''
eip26$naccho_contact_confirm_tx14 <- ''
eip26$naccho_contact_confirm_tx15 <- ''
eip26$naccho_contact_confirm_tx16 <- ''
eip26$naccho_contact_confirm_tx17 <- ''
eip26$naccho_contact_confirm_tx18 <- ''
eip26$naccho_contact_confirm_tx19 <- ''
eip26$naccho_contact_confirm_tx20 <- ''
eip26$naccho_contact_confirm_tx21 <- ''
eip26$naccho_contact_confirm_tx22 <- ''
eip26$naccho_contact_confirm_tx23 <- ''
eip26$naccho_contact_confirm_tx24 <- ''
eip26$naccho_contact_confirm_tx25 <- ''
eip26$naccho_contact_confirm_tx26 <- ''
eip26$naccho_contact_confirm_tx27 <- ''
eip26$naccho_contact_confirm_tx28 <- ''
eip26$naccho_contact_confirm_tx29 <- ''
eip26$naccho_contact_confirm_tx30 <- ''
eip26$naccho_contact_confirm_tx31 <- ''
eip26$naccho_contact_confirm_tx32 <- ''
eip26$naccho_contact_confirm_tx33 <- ''
eip26$naccho_contact_confirm_tx34 <- ''
eip26$naccho_contact_confirm_tx35 <- ''
eip26$naccho_contact_confirm_tx36 <- ''
eip26$naccho_contact_confirm_tx37 <- ''
eip26$naccho_contact_confirm_tx38 <- ''
eip26$naccho_contact_confirm_tx39 <- ''
eip26$naccho_contact_confirm_tx40 <- ''
eip26$naccho_contact_confirm_tx41 <- ''
eip26$naccho_contact_confirm_tx42 <- ''
eip26$naccho_contact_confirm_tx43 <- ''
eip26$naccho_contact_confirm_tx44 <- ''
eip26$naccho_contact_confirm_tx45 <- ''
eip26$naccho_contact_confirm_tx46 <- ''
eip26$naccho_contact_confirm_tx47 <- ''
eip26$naccho_contact_confirm_tx48 <- ''
eip26$naccho_contact_confirm_tx49 <- ''
eip26$naccho_contact_confirm_tx50 <- ''
eip26$ltc_hcv_referral_uc_pharmacy_telehealth___1 <- ''
eip26$ltc_hcv_referral_uc_pharmacy_telehealth___2 <- ''
eip26$ltc_hcv_referral_uc_pharmacy_telehealth___3 <- ''
eip26$ltc_coordinator_per_case___2 <- ''
eip26$ltc_coordinator_per_case___12 <- ''
eip26$ltc_coordinator_per_case___61 <- ''
eip26$ltc_coordinator_per_case___54 <- ''
eip26$ltc_coordinator_per_case___24 <- ''
eip26$ltc_coordinator_per_case___64 <- ''
eip26$ltc_coordinator_per_case___28 <- ''
eip26$ltc_coordinator_per_case___63 <- ''
eip26$ltc_coordinator_per_case___49 <- ''
eip26$ltc_coordinator_per_case___69 <- ''
eip26$ltc_coordinator_per_case___30 <- ''
eip26$offer_outcome_declined_peer___1 <- ''
eip26$offer_outcome_declined_peer___2 <- ''
eip26$offer_outcome_declined_peer___4 <- ''
eip26$offer_outcome_declined_peer___11 <- ''
eip26$offer_outcome_declined_peer___12 <- ''
eip26$offer_outcome_declined_peer___13 <- ''
eip26$offer_outcome_declined_peer___14 <- ''
eip26$offer_outcome_declined_peer___15 <- ''
eip26$offer_outcome_declined_peer___16 <- ''
eip26$offer_outcome_declined_peer___17 <- ''
eip26$offer_outcome_declined_peer___18 <- ''
eip26$offer_outcome_declined_peer___19 <- ''
eip26$offer_outcome_declined_peer___20 <- ''
eip26$offer_outcome_declined_peer___21 <- ''
eip26$offer_outcome_declined_peer___22 <- ''
eip26$offer_outcome_declined_peer___24 <- ''
eip26$offer_outcome_declined_peer___25 <- ''
eip26$offer_outcome_declined_peer___26 <- ''

eip26$enc_location_urc <- ''
eip26$appalachian <- ''
eip26$appalachian_family <- ''
eip26$fts_knowledge <- ''
eip26$fts_use <- ''
eip26$fts_offered <- ''
eip26$fts_not_provided_rsn___1 <- ''
eip26$fts_not_provided_rsn___2 <- ''
eip26$fts_not_provided_rsn___3 <- ''
eip26$fts_not_provided_rsn___4 <- ''
eip26$fts_not_provided_rsn___5 <- ''
eip26$fts_not_provided_rsn___6 <- ''
eip26$fts_not_provided_rsn___7 <- ''
eip26$fts_not_provided_rsn___8 <- ''
eip26$fts_not_provided_rsn___9 <- ''
eip26$fts_not_provided_rsn___10 <- ''
eip26$fts_not_provided_rsn_other <- ''
eip26$fts_declined_rsn___1 <- ''
eip26$fts_declined_rsn___2 <- ''
eip26$fts_declined_rsn___3 <- ''
eip26$fts_declined_rsn___4 <- ''
eip26$fts_declined_rsn_other <- ''
eip26$prep_assessment_rsn <- ''
eip26$prep_counsel_edu <- ''
eip26$prep_referral <- ''
eip26$prep_referral_accept <- ''
eip26$prep_pre_counsel_edu_rsn <- ''
eip26$prep_pre_counsel_edu_rsn_other <- ''
eip26$prep_referral_rsn <- ''
eip26$prep_referral_rsn_other <- ''
eip26$prep_referral_decline_rsn <- ''
eip26$prep_referral_decline_rsn_other <- ''
eip26$reduction_plan <- ''
eip26$staff_start_peer <- ''
eip26$date_start_peer <- ''
eip26$peer_referred_by <- ''
eip26$peer_reason_for_offer_category <- ''
eip26$peer_reason_for_offer_self_req___1 <- ''
eip26$peer_reason_for_offer_self_req___2 <- ''
eip26$peer_reason_for_offer_self_req___3 <- ''
eip26$peer_reason_for_offer_self_req___5 <- ''
eip26$peer_reason_for_offer_self_req___6 <- ''
eip26$peer_reason_for_offer_self_req___7 <- ''
eip26$peer_reason_for_offer_self_req___8 <- ''
eip26$peer_reason_for_offer_self_req___9 <- ''
eip26$peer_reason_for_offer_self_req___4 <- ''
eip26$peer_reason_for_offer_routine_freq <- ''
eip26$peer_reason_for_offer_self_req_other <- ''
eip26$peer_reason_for_offer_diagnostic___1 <- ''
eip26$peer_reason_for_offer_diagnostic___2 <- ''
eip26$peer_reason_for_offer_diagnostic___3 <- ''
eip26$peer_reason_for_offer_diagnostic___4 <- ''
eip26$peer_reason_for_offer_diagnostic___5 <- ''
eip26$peer_reason_for_offer_diagnostic___6 <- ''
eip26$peer_reason_for_offer_diagnostic___7 <- ''
eip26$peer_reason_for_offer_diagnostic___8 <- ''
eip26$peer_reason_for_offer_diagnostic___9 <- ''
eip26$peer_reason_for_offer_diagnostic___10 <- ''
eip26$peer_reason_for_offer_diagnostic___11 <- ''
eip26$peer_reason_for_offer_diagnostic___12 <- ''
eip26$peer_reason_for_offer_diagnostic___13 <- ''
eip26$peer_reason_for_offer_diagnostic___14 <- ''
eip26$peer_reason_for_offer_diagnostic___15 <- ''
eip26$peer_reason_for_offer_diagnostic___16 <- ''
eip26$peer_reason_for_offer_diagnostic___17 <- ''
eip26$peer_reason_for_offer_diagnostic___18 <- ''
eip26$peer_reason_for_offer_diagnostic___19 <- ''
eip26$peer_reason_for_offer_diagnostic___20 <- ''
eip26$peer_reason_for_offer_diagnostic___21 <- ''
eip26$peer_reason_for_offer_diagnostic___22 <- ''
eip26$peer_reason_for_offer_diagnostic___23 <- ''
eip26$peer_reason_for_offer_diagnostic___24 <- ''
eip26$peer_reason_for_offer_diagnostic___25 <- ''
eip26$peer_reason_for_offer_diagnostic___26 <- ''
eip26$peer_reason_for_offer_diagnostic___27 <- ''
eip26$peer_reason_for_offer_diagnostic___28 <- ''
eip26$peer_reason_for_offer_diagnostic___29 <- ''
eip26$peer_reason_for_offer_diagnostic___30 <- ''
eip26$peer_reason_for_offer_diagnostic___31 <- ''
eip26$peer_reason_for_offer_diagnostic___32 <- ''
eip26$peer_reason_for_offer_diagnostic___33 <- ''
eip26$peer_reason_for_offer_diagnostic_other <- ''
eip26$peer_reason_for_offer_clinical___1 <- ''
eip26$peer_reason_for_offer_clinical___2 <- ''
eip26$peer_reason_for_offer_clinical___3 <- ''
eip26$peer_reason_for_offer_clinical___4 <- ''
eip26$peer_reason_for_offer_clinical___5 <- ''
eip26$peer_reason_for_offer_clinical___7 <- ''
eip26$peer_reason_for_offer_clinical___8 <- ''
eip26$peer_reason_for_offer_clinical___9 <- ''
eip26$peer_reason_for_offer_clinical___10 <- ''
eip26$peer_reason_for_offer_clinical___11 <- ''
eip26$peer_reason_for_offer_clinical___12 <- ''
eip26$peer_reason_for_offer_clinical___13 <- ''
eip26$peer_reason_for_offer_clinical___14 <- ''
eip26$peer_reason_for_offer_clinical___15 <- ''
eip26$peer_reason_for_offer_clinical___16 <- ''
eip26$peer_reason_for_offer_clinical___17 <- ''
eip26$peer_reason_for_offer_clinical___18 <- ''
eip26$peer_reason_for_offer_clinical___19 <- ''
eip26$peer_reason_for_offer_clinical___20 <- ''
eip26$peer_reason_for_offer_clinical___21 <- ''
eip26$peer_reason_for_offer_clinical___22 <- ''
eip26$peer_reason_for_offer_clinical___23 <- ''
eip26$peer_reason_for_offer_clinical___24 <- ''
eip26$peer_reason_for_offer_clinical___25 <- ''
eip26$peer_reason_for_offer_clinical___26 <- ''
eip26$peer_reason_for_offer_clinical___27 <- ''
eip26$peer_reason_for_offer_clinical___28 <- ''
eip26$peer_reason_for_offer_clinical___29 <- ''
eip26$peer_reason_for_offer_clinical___30 <- ''
eip26$peer_reason_for_offer_clinical___31 <- ''
eip26$peer_reason_for_offer_clinical_other <- ''
eip26$peer_reason_for_offer_counselor___1 <- ''
eip26$peer_reason_for_offer_counselor___2 <- ''
eip26$peer_reason_for_offer_counselor___3 <- ''
eip26$peer_reason_for_offer_counselor___4 <- ''
eip26$peer_reason_for_offer_counselor___5 <- ''
eip26$peer_reason_for_offer_counselor___6 <- ''
eip26$peer_reason_for_offer_counselor___7 <- ''
eip26$peer_reason_for_offer_counselor___8 <- ''
eip26$peer_reason_for_offer_counselor___9 <- ''
eip26$peer_reason_for_offer_counselor___10 <- ''
eip26$peer_reason_for_offer_counselor___11 <- ''
eip26$peer_reason_for_offer_counselor___12 <- ''
eip26$peer_reason_for_offer_counselor___13 <- ''
eip26$peer_reason_for_offer_counselor___14 <- ''
eip26$peer_reason_for_offer_counselor___15 <- ''
eip26$peer_reason_for_offer_counselor___16 <- ''
eip26$peer_reason_for_offer_counselor___17 <- ''
eip26$peer_reason_for_offer_counselor___18 <- ''
eip26$peer_reason_for_offer_counselor___19 <- ''
eip26$peer_reason_for_offer_counselor___20 <- ''
eip26$peer_reason_for_offer_counselor___21 <- ''
eip26$peer_reason_for_offer_counselor___22 <- ''
eip26$peer_reason_for_offer_counselor___23 <- ''
eip26$peer_reason_for_offer_counselor___24 <- ''
eip26$peer_reason_for_offer_counselor___25 <- ''
eip26$peer_reason_for_offer_counselor___26 <- ''
eip26$peer_reason_for_offer_counselor___27 <- ''
eip26$peer_reason_for_offer_counselor___28 <- ''
eip26$peer_reason_for_offer_counselor___29 <- ''
eip26$peer_reason_for_offer_counselor___30 <- ''
eip26$peer_reason_for_offer_counselor_other <- ''
eip26$peer_reason_for_offer_demographics___1 <- ''
eip26$peer_reason_for_offer_demographics___2 <- ''
eip26$peer_reason_for_offer_demographics___3 <- ''
eip26$peer_reason_for_offer_demographics___4 <- ''
eip26$peer_reason_for_offer_tnt___1 <- ''
eip26$peer_reason_for_offer_tnt___2 <- ''
eip26$peer_reason_for_offer_tnt___3 <- ''
eip26$peer_reason_for_offer_tnt_number <- ''
eip26$peer_reason_for_offer_tnt_relation <- ''
eip26$offer_outcome_time_peer <- ''
eip26$offer_outcome_location_peer <- ''
eip26$offer_outcome_room_peer <- ''
eip26$offer_outcome_approach_peer___1 <- ''
eip26$offer_outcome_approach_peer___2 <- ''
eip26$offer_outcome_approach_peer___3 <- ''
eip26$offer_outcome_approach_peer___4 <- ''
eip26$offer_outcome_approach_peer___5 <- ''
eip26$offer_outcome_approach_peer___6 <- ''
eip26$offer_outcome_approach_peer___7 <- ''
eip26$offer_outcome_approach_peer___8 <- ''
eip26$offer_outcome_peer <- ''
eip26$offer_outcome_declined_peer___23 <- ''
eip26$offer_outcome_declined_peer___27 <- ''
eip26$offer_outcome_declined_peer___3 <- ''
eip26$offer_outcome_declined_peer___5 <- ''
eip26$offer_outcome_declined_peer___6 <- ''
eip26$offer_outcome_declined_peer___7 <- ''
eip26$offer_outcome_declined_peer___8 <- ''
eip26$offer_outcome_declined_peer___9 <- ''
eip26$offer_outcome_declined_peer___10 <- ''
eip26$offer_outcome_declined_peer___28 <- ''
eip26$offer_outcome_declined_peer___29 <- ''
eip26$offer_outcome_declined_peer___30 <- ''
eip26$offer_outcome_declined_peer___36 <- ''
eip26$offer_outcome_declined_peer___33 <- ''
eip26$offer_outcome_declined_peer___34 <- ''
eip26$offer_outcome_declined_peer___35 <- ''
eip26$offer_outcome_declined_peer___0 <- ''
eip26$offer_outcome_declined_other_peer <- ''
eip26$offer_outcome_prevented_peer___1 <- ''
eip26$offer_outcome_prevented_peer___2 <- ''
eip26$offer_outcome_prevented_peer___3 <- ''
eip26$offer_outcome_prevented_peer___4 <- ''
eip26$offer_outcome_prevented_peer___5 <- ''
eip26$offer_outcome_prevented_peer___6 <- ''
eip26$offer_outcome_prevented_peer___7 <- ''
eip26$offer_outcome_prevented_peer___8 <- ''
eip26$offer_outcome_prevented_peer___9 <- ''
eip26$offer_outcome_prevented_peer___10 <- ''
eip26$offer_outcome_prevented_other_peer <- ''
eip26$peer_fts_number_other <- ''
eip26$peer_fu_yn <- ''
eip26$peer_next_fu_date <- ''
eip26$peer_fu_closed <- ''
eip26$peer_support_complete <- ''
eip26$offer_outcome_location_hiv <- ''
eip26$offer_outcome_room_hiv <- ''
eip26$offer_outcome_location_hiv_2 <- ''
eip26$offer_outcome_room_hiv_2 <- ''
eip26$offer_outcome_location_hiv_3 <- ''
eip26$offer_outcome_room_hiv_3 <- ''
eip26$offer_outcome_location_hcv <- ''
eip26$offer_outcome_room_hcv <- ''
eip26$offer_outcome_location_hcv_2 <- ''
eip26$offer_outcome_room_hcv_2 <- ''
eip26$offer_outcome_location_hcv_3 <- ''
eip26$offer_outcome_room_hcv_3 <- ''
eip26$offer_outcome_location_sti <- ''
eip26$offer_outcome_room_sti <- ''
eip26$offer_outcome_location_sti_2 <- ''
eip26$offer_outcome_room_sti_2 <- ''
eip26$offer_outcome_location_sti_3 <- ''
eip26$offer_outcome_room_sti_3 <- ''
eip26$ltc_services___5 <- ''
eip26$ltc_coordinator_per_case___70 <- ''
eip26$ltc_coordinator_per_case___79 <- ''
eip26$ltc_coordinator_per_case___78 <- ''
eip26$ltc_coordinator_per_case___71 <- ''
eip26$anderson_ltc_open_calc <- ''
eip26$counselor_ref_sud_specific___12 <- ''
eip26$ltc_sud_referral_hopeline <- ''
eip26$ltc_sud_referral_uc_inpt <- ''


#####  Combining matched datasets  #####

setdiff(names(eip23), names(eip24))
setdiff(names(eip24), names(eip23))

setdiff(names(eip24), names(eip25))
setdiff(names(eip25), names(eip24))

setdiff(names(eip25), names(eip26))
setdiff(names(eip26), names(eip25))

dim(eip23)
dim(eip24)
dim(eip25)
dim(eip26)

eip <- rbind(eip23, eip24, eip25, eip26)
dim(eip)


```

```{r Patient Information, include=FALSE}

# Formatting variables

summary(eip$enc_date)
eip$enc_date <- as.Date(eip$enc_date, format = '%m/%d/%Y')
summary(eip$enc_date)

summary(eip$dob)
eip$dob <- as.Date(eip$dob, format = '%m/%d/%Y')
summary(eip$dob)


table(eip$race___1)
White <- eip[which(eip$race___1 == 1), ]
dim(White)
White <- select(White, record_id)
White$White <- 1
table(White$White)
White <- distinct(White)
dim(White)
head(White)

table(eip$race___2)
Black <- eip[which(eip$race___2 == 1), ]
dim(Black)
Black <- select(Black, record_id)
Black$Black <- 1
table(Black$Black)
Black <- distinct(Black)
dim(Black)
head(Black)

table(eip$race___3)
Asian <- eip[which(eip$race___3 == 1), ]
dim(Asian)
Asian <- select(Asian, record_id)
Asian$Asian <- 1
table(Asian$Asian)
Asian <- distinct(Asian)
dim(Asian)
head(Asian)

table(eip$race___4)
AmIn <- eip[which(eip$race___4 == 1), ]
dim(AmIn)
AmIn <- select(AmIn, record_id)
AmIn$AmIn <- 1
table(AmIn$AmIn)
AmIn <- distinct(AmIn)
dim(AmIn)
head(AmIn)

table(eip$race___5)
RaceOther <- eip[which(eip$race___5 == 1), ]
dim(RaceOther)
RaceOther <- select(RaceOther, record_id)
RaceOther$RaceOther <- 1
table(RaceOther$RaceOther)
RaceOther <- distinct(RaceOther)
dim(RaceOther)
head(RaceOther)

table(eip$race___6)
RaceUnk <- eip[which(eip$race___6 == 1), ]
dim(RaceUnk)
RaceUnk <- select(RaceUnk, record_id)
RaceUnk$RaceUnk <- 1
table(RaceUnk$RaceUnk)
RaceUnk <- distinct(RaceUnk)
dim(RaceUnk)
head(RaceUnk)

table(eip$ethnicity)
RaceHisp <- eip[which(eip$ethnicity == 1), ]
dim(RaceHisp)
RaceHisp <- select(RaceHisp, record_id)
RaceHisp$RaceHisp <- 1
table(RaceHisp$RaceHisp)
RaceHisp <- distinct(RaceHisp)
dim(RaceHisp)
head(RaceHisp)


race <- select(eip, record_id)
race <- distinct(race)
dim(race)


dim(race)
race <- merge(race, White, by = 'record_id', all.x = T)
race <- merge(race, Black, by = 'record_id', all.x = T)
race <- merge(race, Asian, by = 'record_id', all.x = T)
race <- merge(race, AmIn, by = 'record_id', all.x = T)
race <- merge(race, RaceOther, by = 'record_id', all.x = T)
race <- merge(race, RaceUnk, by = 'record_id', all.x = T)
race <- merge(race, RaceHisp, by = 'record_id', all.x = T)
dim(race)
head(race)

race$White[is.na(race$White)] <- 0
race$Black[is.na(race$Black)] <- 0
race$Asian[is.na(race$Asian)] <- 0
race$AmIn[is.na(race$AmIn)] <- 0
race$RaceOther[is.na(race$RaceOther)] <- 0
race$RaceUnk[is.na(race$RaceUnk)] <- 0
race$RaceHisp[is.na(race$RaceHisp)] <- 0

race$RaceNumber <- race$White + race$Black + race$Asian + race$AmIn + race$RaceOther + race$RaceUnk + race$RaceHisp
table(race$RaceNumber)
head(race)

race$race[race$RaceNumber == 1 & race$Black == 1] <- 'Black/African American'
race$race[race$RaceNumber == 1 & race$White == 1] <- 'White'
race$race[race$RaceNumber == 1 & race$Asian == 1] <- 'Asian/Pacific Islander'
race$race[race$RaceNumber == 1 & race$AmIn == 1] <- 'American Indian/Alaska native'
race$race[race$RaceNumber == 1 & race$RaceOther == 1] <- 'Other'
race$race[(race$RaceNumber == 1 & race$RaceHisp == 1) |
            (race$RaceNumber > 1 & race$RaceHisp == 1)] <- 'Hispanic/Latinx'
race$race[race$RaceNumber > 1 & race$RaceHisp != 1] <- 'Biracial/Multiracial'
race$race[race$RaceNumber == 0 | is.na(race$RaceNumber) | race$RaceUnk == 1] <- 'Unknown'
table(race$race)

dim(eip)
dim(race)
eip <- merge(eip, race, by = 'record_id', all.x = T)
dim(eip)
table(eip$race)




table(eip$sex_raised)
eip$sex[eip$sex_raised == 1] <- 'Male'
eip$sex[eip$sex_raised == 2] <- 'Female'
eip$sex[eip$sex_raised == 3 | is.na(eip$sex_raised) | eip$sex_raised == ''] <- 'Unknown/Unassigned'
table(eip$sex)




table(eip$sex_raised, eip$sex_selfdefined)
eip$gender[(eip$sex_raised == 1 & eip$sex_selfdefined == 1) |
             (eip$sex_raised == 1 & eip$sex_selfdefined == 3) |
             (eip$sex_raised == 1 & is.na(eip$sex_selfdefined))] <- 'Male'
eip$gender[(eip$sex_raised == 2 & eip$sex_selfdefined == 2) |
             (eip$sex_raised == 2 & eip$sex_selfdefined == 3) |
             (eip$sex_raised == 2 & is.na(eip$sex_selfdefined))] <- 'Female'
eip$gender[(eip$sex_selfdefined == 4) |
             (eip$sex_raised == 1 & eip$sex_selfdefined == 2) |
             (eip$sex_raised == 2 & eip$sex_selfdefined == 1)] <- 'Transgender/Nonbinary'
eip$gender[(is.na(eip$sex_raised) & is.na(eip$sex_selfdefined))] <- 'Unknown'
table(eip$gender)




table(eip$insurance)
eip$insurance[eip$insurance == 1] <- 'None'
eip$insurance[eip$insurance == 2] <- 'UC Health (Levy)'
eip$insurance[eip$insurance == 3] <- 'Medicaid'
eip$insurance[eip$insurance == 4] <- 'Medicare'
eip$insurance[eip$insurance == 5] <- 'Military/VA'
eip$insurance[eip$insurance == 6] <- 'Private'
eip$insurance[eip$insurance == 7] <- 'Dual Medicaid/Medicare'
eip$insurance[is.na(eip$insurance)] <- 'Unknown'
table(eip$insurance)



# Populations of Interest
### WOC, Youth (18-29), MSM, IDU, HRHS, PLWHA

table(eip$race, eip$gender)
eip$WOC[(eip$race != 'White' & eip$race != 'Unknown') & eip$gender == 'Female'] <- 1
table(eip$WOC)


table(eip$age)
eip$Youth[eip$age >= 13 & eip$age <= 29] <- 1
table(eip$Youth)


eip$MSM[eip$gender == 'Male' &
          ((eip$sex_orientation == 2 | eip$sex_orientation == 4) |
             (eip$sex_w_man___1 == 1 | eip$sex_w_man___2 == 1 | eip$sex_w_man___3 == 1) |
             (eip$sex_w_ftm___1 == 1 | eip$sex_w_ftm___2 == 1 | eip$sex_w_ftm___3 == 1) |
             (eip$sex_msm___1 == 1 | eip$sex_msm___2 == 1 | eip$sex_msm___3 == 1) |
             (eip$hiv_dx_risks___2 == 1))] <- 1
table(eip$MSM)


eip$IDU[eip$idu_calc == 1 | eip$hiv_dx_risks___3 == 1] <- 1
table(eip$IDU)


# For HRHS, all sexual behavior is within the previous 12 months
### Heterosexual males that have unprotected sex with women
### Heterosexual women that have unprotected sex with men
### Heterosexual women that have sex with MSM
### Heterosexual men/women that have sex with IDU
### Heterosexual men/women that have sex with HIV+ partner
### Heterosexual men/women that exchange money/drugs for sex
### Heterosexual men/women that have sex with STD+ partner
### Heterosexual men/women that have more than 3 partners

eip$Hetero[(eip$gender == 'Male' &
              (eip$sex_w_woman___1 == 1 | eip$sex_w_woman___2 == 1 |
                 eip$sex_w_woman___3 == 1 | eip$sex_orientation == 1)) |
             (eip$gender == 'Female' &
                (eip$sex_w_man___1 == 1 | eip$sex_w_man___2 == 1 |
                   eip$sex_w_man___3 == 1 | eip$sex_orientation == 1))] <- 1
table(eip$Hetero)


eip$HRHS[((eip$Hetero == 1) &
            ((((eip$sex_w_woman___6 == 1 | eip$sex_w_woman___7 == 1) |
                 (is.na(eip$sex_w_woman___6) & is.na(eip$sex_w_woman___7) &
                    is.na(eip$sex_w_woman___8)))) |
               (((eip$sex_w_man___6 == 1 | eip$sex_w_man___7 == 1) |
                   (is.na(eip$sex_w_man___6) & is.na(eip$sex_w_man___7) &
                      is.na(eip$sex_w_man___8)))) |
               (eip$sex_msm___1 == 1 | eip$sex_msm___2 == 1 | eip$sex_msm___3 == 1) |
               (eip$sex_idu___1 == 1 | eip$sex_idu___2 == 1 | eip$sex_idu___3 == 1) |
               (eip$sex_hiv_pos___1 == 1 | eip$sex_hiv_pos___2 == 1 |
                  eip$sex_hiv_pos___3 == 1) |
               (eip$sex_receivemoney___1 == 1 | eip$sex_receivemoney___2 == 1 |
                  eip$sex_receivemoney___3 == 1 | eip$sex_receivedrugs___1 == 1 |
                  eip$sex_receivedrugs___2 == 1 | eip$sex_receivedrugs___3 == 1 |
                  eip$sex_paymoney___1 == 1 | eip$sex_paymoney___2 == 1 |
                  eip$sex_paymoney___3 == 1 | eip$sex_paydrugs___1 == 1 |
                  eip$sex_paydrugs___2 == 1 | eip$sex_paydrugs___3 == 1)  |
               (eip$sex_sti_pos___1 == 1 | eip$sex_sti_pos___2 == 1 |
                  eip$sex_sti_pos___3 == 1) | (eip$sex_partners_past_year >= 3))) |
           (eip$hiv_dx_risks___1 == 1)] <- 1
table(eip$HRHS)




# Appalachian

eip$appalachian_pt[eip$address_zip_code == 43006 | eip$address_zip_code == 43056 |
                     eip$address_zip_code == 43076 | eip$address_zip_code == 43101 |
                     eip$address_zip_code == 43102 | eip$address_zip_code == 43107 |
                     eip$address_zip_code == 43111 | eip$address_zip_code == 43115 |
                     eip$address_zip_code == 43127 | eip$address_zip_code == 43135 |
                     eip$address_zip_code == 43138 | eip$address_zip_code == 43144 |
                     eip$address_zip_code == 43148 | eip$address_zip_code == 43149 |
                     eip$address_zip_code == 43150 | eip$address_zip_code == 43152 |
                     eip$address_zip_code == 43155 | eip$address_zip_code == 43158 |
                     eip$address_zip_code == 43160 | eip$address_zip_code == 43164 |
                     eip$address_zip_code == 43701 | eip$address_zip_code == 43702 |
                     eip$address_zip_code == 43711 | eip$address_zip_code == 43713 |
                     eip$address_zip_code == 43716 | eip$address_zip_code == 43717 |
                     eip$address_zip_code == 43718 | eip$address_zip_code == 43719 |
                     eip$address_zip_code == 43720 | eip$address_zip_code == 43722 |
                     eip$address_zip_code == 43723 | eip$address_zip_code == 43724 |
                     eip$address_zip_code == 43725 | eip$address_zip_code == 43727 |
                     eip$address_zip_code == 43728 | eip$address_zip_code == 43730 |
                     eip$address_zip_code == 43731 | eip$address_zip_code == 43732 |
                     eip$address_zip_code == 43733 | eip$address_zip_code == 43734 |
                     eip$address_zip_code == 43735 | eip$address_zip_code == 43736 |
                     eip$address_zip_code == 43738 | eip$address_zip_code == 43739 |
                     eip$address_zip_code == 43746 | eip$address_zip_code == 43747 |
                     eip$address_zip_code == 43748 | eip$address_zip_code == 43749 |
                     eip$address_zip_code == 43750 | eip$address_zip_code == 43752 |
                     eip$address_zip_code == 43754 | eip$address_zip_code == 43755 |
                     eip$address_zip_code == 43756 | eip$address_zip_code == 43757 |
                     eip$address_zip_code == 43758 | eip$address_zip_code == 43759 |
                     eip$address_zip_code == 43760 | eip$address_zip_code == 43761 |
                     eip$address_zip_code == 43762 | eip$address_zip_code == 43764 |
                     eip$address_zip_code == 43766 | eip$address_zip_code == 43767 |
                     eip$address_zip_code == 43768 | eip$address_zip_code == 43771 |
                     eip$address_zip_code == 43772 | eip$address_zip_code == 43773 |
                     eip$address_zip_code == 43777 | eip$address_zip_code == 43778 |
                     eip$address_zip_code == 43779 | eip$address_zip_code == 43780 |
                     eip$address_zip_code == 43782 | eip$address_zip_code == 43783 |
                     eip$address_zip_code == 43786 | eip$address_zip_code == 43787 |
                     eip$address_zip_code == 43788 | eip$address_zip_code == 43791 |
                     eip$address_zip_code == 43793 | eip$address_zip_code == 43802 |
                     eip$address_zip_code == 43803 | eip$address_zip_code == 43804 |
                     eip$address_zip_code == 43805 | eip$address_zip_code == 43811 |
                     eip$address_zip_code == 43812 | eip$address_zip_code == 43821 |
                     eip$address_zip_code == 43822 | eip$address_zip_code == 43824 |
                     eip$address_zip_code == 43828 | eip$address_zip_code == 43830 |
                     eip$address_zip_code == 43832 | eip$address_zip_code == 43836 |
                     eip$address_zip_code == 43837 | eip$address_zip_code == 43840 |
                     eip$address_zip_code == 43842 | eip$address_zip_code == 43843 |
                     eip$address_zip_code == 43844 | eip$address_zip_code == 43845 |
                     eip$address_zip_code == 43901 | eip$address_zip_code == 43902 |
                     eip$address_zip_code == 43903 | eip$address_zip_code == 43905 |
                     eip$address_zip_code == 43906 | eip$address_zip_code == 43907 |
                     eip$address_zip_code == 43908 | eip$address_zip_code == 43909 |
                     eip$address_zip_code == 43910 | eip$address_zip_code == 43912 |
                     eip$address_zip_code == 43913 | eip$address_zip_code == 43914 |
                     eip$address_zip_code == 43915 | eip$address_zip_code == 43916 |
                     eip$address_zip_code == 43917 | eip$address_zip_code == 43920 |
                     eip$address_zip_code == 43925 | eip$address_zip_code == 43926 |
                     eip$address_zip_code == 43927 | eip$address_zip_code == 43928 |
                     eip$address_zip_code == 43930 | eip$address_zip_code == 43931 |
                     eip$address_zip_code == 43932 | eip$address_zip_code == 43933 |
                     eip$address_zip_code == 43934 | eip$address_zip_code == 43935 |
                     eip$address_zip_code == 43937 | eip$address_zip_code == 43938 |
                     eip$address_zip_code == 43939 | eip$address_zip_code == 43940 |
                     eip$address_zip_code == 43941 | eip$address_zip_code == 43942 |
                     eip$address_zip_code == 43943 | eip$address_zip_code == 43944 |
                     eip$address_zip_code == 43945 | eip$address_zip_code == 43946 |
                     eip$address_zip_code == 43947 | eip$address_zip_code == 43948 |
                     eip$address_zip_code == 43950 | eip$address_zip_code == 43951 |
                     eip$address_zip_code == 43952 | eip$address_zip_code == 43953 |
                     eip$address_zip_code == 43961 | eip$address_zip_code == 43962 |
                     eip$address_zip_code == 43963 | eip$address_zip_code == 43964 |
                     eip$address_zip_code == 43967 | eip$address_zip_code == 43968 |
                     eip$address_zip_code == 43970 | eip$address_zip_code == 43971 |
                     eip$address_zip_code == 43972 | eip$address_zip_code == 43973 |
                     eip$address_zip_code == 43974 | eip$address_zip_code == 43976 |
                     eip$address_zip_code == 43977 | eip$address_zip_code == 43981 |
                     eip$address_zip_code == 43983 | eip$address_zip_code == 43984 |
                     eip$address_zip_code == 43985 | eip$address_zip_code == 43986 |
                     eip$address_zip_code == 43988 | eip$address_zip_code == 44003 |
                     eip$address_zip_code == 44004 | eip$address_zip_code == 44005 |
                     eip$address_zip_code == 44010 | eip$address_zip_code == 44030 |
                     eip$address_zip_code == 44032 | eip$address_zip_code == 44041 |
                     eip$address_zip_code == 44046 | eip$address_zip_code == 44047 |
                     eip$address_zip_code == 44048 | eip$address_zip_code == 44057 |
                     eip$address_zip_code == 44062 | eip$address_zip_code == 44064 |
                     eip$address_zip_code == 44068 | eip$address_zip_code == 44076 |
                     eip$address_zip_code == 44082 | eip$address_zip_code == 44084 |
                     eip$address_zip_code == 44085 | eip$address_zip_code == 44086 |
                     eip$address_zip_code == 44088 | eip$address_zip_code == 44093 |
                     eip$address_zip_code == 44099 | eip$address_zip_code == 44231 |
                     eip$address_zip_code == 44288 | eip$address_zip_code == 44401 |
                     eip$address_zip_code == 44402 | eip$address_zip_code == 44403 |
                     eip$address_zip_code == 44404 | eip$address_zip_code == 44405 |
                     eip$address_zip_code == 44406 | eip$address_zip_code == 44408 |
                     eip$address_zip_code == 44410 | eip$address_zip_code == 44411 |
                     eip$address_zip_code == 44412 | eip$address_zip_code == 44413 |
                     eip$address_zip_code == 44415 | eip$address_zip_code == 44416 |
                     eip$address_zip_code == 44417 | eip$address_zip_code == 44418 |
                     eip$address_zip_code == 44420 | eip$address_zip_code == 44422 |
                     eip$address_zip_code == 44423 | eip$address_zip_code == 44424 |
                     eip$address_zip_code == 44425 | eip$address_zip_code == 44427 |
                     eip$address_zip_code == 44428 | eip$address_zip_code == 44429 |
                     eip$address_zip_code == 44430 | eip$address_zip_code == 44431 |
                     eip$address_zip_code == 44432 | eip$address_zip_code == 44436 |
                     eip$address_zip_code == 44437 | eip$address_zip_code == 44438 |
                     eip$address_zip_code == 44439 | eip$address_zip_code == 44440 |
                     eip$address_zip_code == 44441 | eip$address_zip_code == 44442 |
                     eip$address_zip_code == 44443 | eip$address_zip_code == 44444 |
                     eip$address_zip_code == 44445 | eip$address_zip_code == 44446 |
                     eip$address_zip_code == 44449 | eip$address_zip_code == 44450 |
                     eip$address_zip_code == 44451 | eip$address_zip_code == 44452 |
                     eip$address_zip_code == 44453 | eip$address_zip_code == 44454 |
                     eip$address_zip_code == 44455 | eip$address_zip_code == 44460 |
                     eip$address_zip_code == 44470 | eip$address_zip_code == 44471 |
                     eip$address_zip_code == 44473 | eip$address_zip_code == 44481 |
                     eip$address_zip_code == 44482 | eip$address_zip_code == 44483 |
                     eip$address_zip_code == 44484 | eip$address_zip_code == 44485 |
                     eip$address_zip_code == 44486 | eip$address_zip_code == 44490 |
                     eip$address_zip_code == 44491 | eip$address_zip_code == 44492 |
                     eip$address_zip_code == 44493 | eip$address_zip_code == 44501 |
                     eip$address_zip_code == 44502 | eip$address_zip_code == 44503 |
                     eip$address_zip_code == 44504 | eip$address_zip_code == 44505 |
                     eip$address_zip_code == 44506 | eip$address_zip_code == 44507 |
                     eip$address_zip_code == 44509 | eip$address_zip_code == 44510 |
                     eip$address_zip_code == 44511 | eip$address_zip_code == 44512 |
                     eip$address_zip_code == 44513 | eip$address_zip_code == 44514 |
                     eip$address_zip_code == 44515 | eip$address_zip_code == 44555 |
                     eip$address_zip_code == 44601 | eip$address_zip_code == 44607 |
                     eip$address_zip_code == 44608 | eip$address_zip_code == 44609 |
                     eip$address_zip_code == 44610 | eip$address_zip_code == 44611 |
                     eip$address_zip_code == 44612 | eip$address_zip_code == 44615 |
                     eip$address_zip_code == 44617 | eip$address_zip_code == 44619 |
                     eip$address_zip_code == 44620 | eip$address_zip_code == 44621 |
                     eip$address_zip_code == 44622 | eip$address_zip_code == 44624 |
                     eip$address_zip_code == 44625 | eip$address_zip_code == 44626 |
                     eip$address_zip_code == 44627 | eip$address_zip_code == 44628 |
                     eip$address_zip_code == 44629 | eip$address_zip_code == 44633 |
                     eip$address_zip_code == 44634 | eip$address_zip_code == 44637 |
                     eip$address_zip_code == 44638 | eip$address_zip_code == 44639 |
                     eip$address_zip_code == 44643 | eip$address_zip_code == 44644 |
                     eip$address_zip_code == 44651 | eip$address_zip_code == 44653 |
                     eip$address_zip_code == 44654 | eip$address_zip_code == 44656 |
                     eip$address_zip_code == 44657 | eip$address_zip_code == 44660 |
                     eip$address_zip_code == 44661 | eip$address_zip_code == 44663 |
                     eip$address_zip_code == 44665 | eip$address_zip_code == 44671 |
                     eip$address_zip_code == 44672 | eip$address_zip_code == 44675 |
                     eip$address_zip_code == 44676 | eip$address_zip_code == 44678 |
                     eip$address_zip_code == 44679 | eip$address_zip_code == 44680 |
                     eip$address_zip_code == 44681 | eip$address_zip_code == 44682 |
                     eip$address_zip_code == 44683 | eip$address_zip_code == 44687 |
                     eip$address_zip_code == 44688 | eip$address_zip_code == 44689 |
                     eip$address_zip_code == 44690 | eip$address_zip_code == 44693 |
                     eip$address_zip_code == 44695 | eip$address_zip_code == 44697 |
                     eip$address_zip_code == 44699 | eip$address_zip_code == 44730 |
                     eip$address_zip_code == 44842 | eip$address_zip_code == 45101 |
                     eip$address_zip_code == 45102 | eip$address_zip_code == 45103 |
                     eip$address_zip_code == 45105 | eip$address_zip_code == 45106 |
                     eip$address_zip_code == 45107 | eip$address_zip_code == 45112 |
                     eip$address_zip_code == 45115 | eip$address_zip_code == 45118 |
                     eip$address_zip_code == 45119 | eip$address_zip_code == 45120 |
                     eip$address_zip_code == 45121 | eip$address_zip_code == 45122 |
                     eip$address_zip_code == 45123 | eip$address_zip_code == 45130 |
                     eip$address_zip_code == 45131 | eip$address_zip_code == 45132 |
                     eip$address_zip_code == 45133 | eip$address_zip_code == 45135 |
                     eip$address_zip_code == 45140 | eip$address_zip_code == 45142 |
                     eip$address_zip_code == 45144 | eip$address_zip_code == 45147 |
                     eip$address_zip_code == 45148 | eip$address_zip_code == 45150 |
                     eip$address_zip_code == 45153 | eip$address_zip_code == 45154 |
                     eip$address_zip_code == 45155 | eip$address_zip_code == 45156 |
                     eip$address_zip_code == 45157 | eip$address_zip_code == 45158 |
                     eip$address_zip_code == 45159 | eip$address_zip_code == 45160 |
                     eip$address_zip_code == 45162 | eip$address_zip_code == 45167 |
                     eip$address_zip_code == 45168 | eip$address_zip_code == 45171 |
                     eip$address_zip_code == 45172 | eip$address_zip_code == 45176 |
                     eip$address_zip_code == 45244 | eip$address_zip_code == 45245 |
                     eip$address_zip_code == 45255 | eip$address_zip_code == 45601 |
                     eip$address_zip_code == 45612 | eip$address_zip_code == 45613 |
                     eip$address_zip_code == 45614 | eip$address_zip_code == 45616 |
                     eip$address_zip_code == 45617 | eip$address_zip_code == 45618 |
                     eip$address_zip_code == 45619 | eip$address_zip_code == 45620 |
                     eip$address_zip_code == 45621 | eip$address_zip_code == 45622 |
                     eip$address_zip_code == 45623 | eip$address_zip_code == 45624 |
                     eip$address_zip_code == 45628 | eip$address_zip_code == 45629 |
                     eip$address_zip_code == 45630 | eip$address_zip_code == 45631 |
                     eip$address_zip_code == 45633 | eip$address_zip_code == 45634 |
                     eip$address_zip_code == 45636 | eip$address_zip_code == 45638 |
                     eip$address_zip_code == 45640 | eip$address_zip_code == 45642 |
                     eip$address_zip_code == 45643 | eip$address_zip_code == 45644 |
                     eip$address_zip_code == 45645 | eip$address_zip_code == 45646 |
                     eip$address_zip_code == 45647 | eip$address_zip_code == 45648 |
                     eip$address_zip_code == 45650 | eip$address_zip_code == 45651 |
                     eip$address_zip_code == 45652 | eip$address_zip_code == 45653 |
                     eip$address_zip_code == 45654 | eip$address_zip_code == 45656 |
                     eip$address_zip_code == 45657 | eip$address_zip_code == 45658 |
                     eip$address_zip_code == 45659 | eip$address_zip_code == 45660 |
                     eip$address_zip_code == 45661 | eip$address_zip_code == 45662 |
                     eip$address_zip_code == 45663 | eip$address_zip_code == 45669 |
                     eip$address_zip_code == 45671 | eip$address_zip_code == 45672 |
                     eip$address_zip_code == 45673 | eip$address_zip_code == 45674 |
                     eip$address_zip_code == 45675 | eip$address_zip_code == 45677 |
                     eip$address_zip_code == 45678 | eip$address_zip_code == 45679 |
                     eip$address_zip_code == 45680 | eip$address_zip_code == 45681 |
                     eip$address_zip_code == 45682 | eip$address_zip_code == 45683 |
                     eip$address_zip_code == 45684 | eip$address_zip_code == 45685 |
                     eip$address_zip_code == 45686 | eip$address_zip_code == 45687 |
                     eip$address_zip_code == 45688 | eip$address_zip_code == 45690 |
                     eip$address_zip_code == 45692 | eip$address_zip_code == 45693 |
                     eip$address_zip_code == 45694 | eip$address_zip_code == 45695 |
                     eip$address_zip_code == 45696 | eip$address_zip_code == 45697 |
                     eip$address_zip_code == 45698 | eip$address_zip_code == 45699 |
                     eip$address_zip_code == 45701 | eip$address_zip_code == 45710 |
                     eip$address_zip_code == 45711 | eip$address_zip_code == 45712 |
                     eip$address_zip_code == 45713 | eip$address_zip_code == 45714 |
                     eip$address_zip_code == 45715 | eip$address_zip_code == 45716 |
                     eip$address_zip_code == 45717 | eip$address_zip_code == 45719 |
                     eip$address_zip_code == 45720 | eip$address_zip_code == 45721 |
                     eip$address_zip_code == 45723 | eip$address_zip_code == 45724 |
                     eip$address_zip_code == 45727 | eip$address_zip_code == 45729 |
                     eip$address_zip_code == 45732 | eip$address_zip_code == 45734 |
                     eip$address_zip_code == 45735 | eip$address_zip_code == 45739 |
                     eip$address_zip_code == 45740 | eip$address_zip_code == 45741 |
                     eip$address_zip_code == 45742 | eip$address_zip_code == 45743 |
                     eip$address_zip_code == 45744 | eip$address_zip_code == 45745 |
                     eip$address_zip_code == 45746 | eip$address_zip_code == 45750 |
                     eip$address_zip_code == 45760 | eip$address_zip_code == 45761 |
                     eip$address_zip_code == 45764 | eip$address_zip_code == 45766 |
                     eip$address_zip_code == 45767 | eip$address_zip_code == 45768 |
                     eip$address_zip_code == 45769 | eip$address_zip_code == 45770 |
                     eip$address_zip_code == 45771 | eip$address_zip_code == 45772 |
                     eip$address_zip_code == 45773 | eip$address_zip_code == 45775 |
                     eip$address_zip_code == 45776 | eip$address_zip_code == 45777 |
                     eip$address_zip_code == 45778 | eip$address_zip_code == 45779 |
                     eip$address_zip_code == 45780 | eip$address_zip_code == 45782 |
                     eip$address_zip_code == 45783 | eip$address_zip_code == 45784 |
                     eip$address_zip_code == 45786 | eip$address_zip_code == 45787 |
                     eip$address_zip_code == 45788 | eip$address_zip_code == 45789 |
                     (eip$appalachian == 1 | eip$appalachian_family == 1)] <- 1
table(eip$appalachian_pt)



# EIP unique patients
dim(eip)
eip_pts <- select(eip, record_id)
dim(eip_pts)
eip_pts <- distinct(eip_pts)
dim(eip_pts)

eip_patients <- nrow(eip_pts)
eip_patients



# PLWHA
eip$plwha[(eip$history_hiv_test_result == 1 |
             eip$reason_for_offer_category_hiv_test == 7 |
             eip$reason_for_offer_category_hiv_test == 8 |
             eip$offer_outcome_declined_hiv___21 == 1 |
             eip$offer_outcome_declined_hiv_2___21 == 1 |
             eip$offer_outcome_declined_hiv_3___21 == 1 |
             eip$final_test_status_hiv == 1 |
             eip$diagnosis_hiv == 1 |
             eip$diagnosis_hiv == 2)] <- 1
table(eip$plwha)


table(eip$plwha)
plwha <- eip[which(eip$plwha == 1), ]
dim(plwha)
plwha <- nrow(plwha)
plwha

```

```{r HIV Testing and Linkage to Care, include=FALSE}

###########################################################################################################
#########################################  Creating Encounter Dataset  ####################################
###########################################################################################################

##########  CTR Testing  ##########

table(eip$ctr_calc)
ctr_tests <- eip[which(eip$ctr_calc == 1), ]
ctr_tests <- nrow(ctr_tests)
ctr_tests

table(eip$ctr_calc, eip$final_test_status_hiv)
ctr_positive <- eip[which(eip$ctr_calc == 1 & eip$final_test_status_hiv == 1), ]
ctr_positive <- nrow(ctr_positive)
ctr_positive

table(eip$ctr_calc, eip$final_test_status_hiv, eip$diagnosis_hiv)
ctr_new_positive <- eip[which(eip$ctr_calc == 1 & eip$final_test_status_hiv == 1 & eip$diagnosis_hiv == 1), ]
ctr_new_positive <- nrow(ctr_new_positive)
ctr_new_positive

ctr_positivity_rate <- percent(ctr_new_positive/ctr_tests, accuracy = 0.01)
ctr_positivity_rate


#####  CTR Deliverables

# HIV Status
table(eip$ltc_services___1, eip$diagnosis_hiv)
eip$hiv_status[eip$ltc_services___1 == 1 & eip$diagnosis_hiv == 1] <- 'New HIV Diagnosis'
eip$hiv_status[eip$ltc_services___1 == 1 & eip$diagnosis_hiv == 2] <- 'Previous HIV Diagnosis'
eip$hiv_status[eip$ltc_services___1 == 1 & is.na(eip$diagnosis_hiv)] <- 'Unknown HIV Status'
table(eip$hiv_status)




##########  EHE Testing  ##########
table(eip$ehe_calc)
ehe_tests <- eip[which(eip$ehe_calc == 1), ]
ehe_tests <- nrow(ehe_tests)
ehe_tests

table(eip$ehe_calc, eip$final_test_status_hiv)
ehe_positive <- eip[which(eip$ehe_calc == 1 & eip$final_test_status_hiv == 1), ]
ehe_positive <- nrow(ehe_positive)
ehe_positive

table(eip$ehe_calc, eip$final_test_status_hiv, eip$diagnosis_hiv)
ehe_new_positive <- eip[which(eip$ehe_calc == 1 & eip$final_test_status_hiv == 1 & eip$diagnosis_hiv == 1), ]
ehe_new_positive <- nrow(ehe_new_positive)
ehe_new_positive

ehe_positivity_rate <- percent(ehe_new_positive/ehe_tests, accuracy = 0.01)
ehe_positivity_rate


# Overall Positivity Rate for Rapid-testing
eip_total_hiv_tests <- ctr_tests + ehe_tests
eip_total_hiv_tests

eip_total_pos_hiv_tests <- ctr_positive + ehe_positive
eip_total_pos_hiv_tests

eip_total_new_pos_hiv_tests <- ctr_new_positive + ehe_new_positive
eip_total_new_pos_hiv_tests

eip_positivity_rate <- percent(eip_total_new_pos_hiv_tests/eip_total_hiv_tests, accuracy = 0.01)
eip_positivity_rate


# Daily Testing NUmbers
daily_hiv_testing <- select(eip, enc_date, record_id, ctr_calc, ehe_calc)
daily_hiv_testing <- daily_hiv_testing[which(daily_hiv_testing$ctr_calc == 1 | daily_hiv_testing$ehe_calc == 1), ]
head(daily_hiv_testing)
daily_hiv_testing <- select(daily_hiv_testing, -record_id)
head(daily_hiv_testing)
colnames(daily_hiv_testing)[2] <- 'ctr_tests'
colnames(daily_hiv_testing)[3] <- 'ehe_tests'
head(daily_hiv_testing)

daily_hiv_tests <- aggregate(x = daily_hiv_testing[c("ctr_tests","ehe_tests")],
                             FUN = sum,
                             by = list(Date = daily_hiv_testing$enc_date))
daily_hiv_tests$ctr_tests[is.na(daily_hiv_tests$ctr_tests)] <- 0
daily_hiv_tests$ehe_tests[is.na(daily_hiv_tests$ehe_tests)] <- 0
head(daily_hiv_tests)
daily_hiv_tests


# Monthly Testing Numbers
monthly_hiv_testing <- select(eip, enc_date, record_id, ctr_calc, ehe_calc)
monthly_hiv_testing <- monthly_hiv_testing[which(monthly_hiv_testing$ctr_calc == 1 | monthly_hiv_testing$ehe_calc == 1), ]
head(monthly_hiv_testing)
monthly_hiv_testing <- select(monthly_hiv_testing, -record_id)
head(monthly_hiv_testing)
colnames(monthly_hiv_testing)[2] <- 'ctr_tests'
colnames(monthly_hiv_testing)[3] <- 'ehe_tests'
monthly_hiv_testing$ctr_tests[is.na(monthly_hiv_testing$ctr_tests)] <- 0
monthly_hiv_testing$ehe_tests[is.na(monthly_hiv_testing$ehe_tests)] <- 0
head(monthly_hiv_testing)

monthly_hiv_testing$Date <- format(as.Date(monthly_hiv_testing$enc_date, format="%d/%m/%Y"),"%m/%Y")
head(monthly_hiv_testing)


monthly_hiv_tests <- aggregate(cbind(ctr_tests, ehe_tests) ~ Date,
                               monthly_hiv_testing,
                               FUN = sum)
head(monthly_hiv_tests)
monthly_hiv_tests


# Annual Testing Numbers
annual_hiv_testing <- select(eip, enc_date, record_id, ctr_calc, ehe_calc)
annual_hiv_testing <- annual_hiv_testing[which(annual_hiv_testing$ctr_calc == 1 | annual_hiv_testing$ehe_calc == 1), ]
head(annual_hiv_testing)
annual_hiv_testing <- select(annual_hiv_testing, -record_id)
head(annual_hiv_testing)
colnames(annual_hiv_testing)[2] <- 'ctr_tests'
colnames(annual_hiv_testing)[3] <- 'ehe_tests'
annual_hiv_testing$ctr_tests[is.na(annual_hiv_testing$ctr_tests)] <- 0
annual_hiv_testing$ehe_tests[is.na(annual_hiv_testing$ehe_tests)] <- 0
head(annual_hiv_testing)

annual_hiv_testing$Date <- format(as.Date(annual_hiv_testing$enc_date, format="%d/%m/%Y"),"%Y")
head(annual_hiv_testing)


annual_hiv_tests <- aggregate(cbind(ctr_tests, ehe_tests) ~ Date,
                              annual_hiv_testing,
                              FUN = sum)
head(annual_hiv_tests)
annual_hiv_tests




###########################################################################################################
#########################################  HIV LTC Data  ##################################################
###########################################################################################################

####################  Total HIV Linkage Data  ####################

# HIV Linkage Data
table(eip$ltc_services___1)
eip$hiv_ltc[eip$ltc_services___1 == 1] <- 1
table(eip$hiv_ltc)

table(eip$hiv_ltc)
hiv_ltc <- eip[which(eip$hiv_ltc == 1), ]
dim(hiv_ltc)
hiv_ltc <- nrow(hiv_ltc)
hiv_ltc

hiv_ltc_percent <- percent(hiv_ltc/plwha, accuracy = 0.1)
hiv_ltc_percent



# Ineligible HIV Linkage - Already Linked
table(eip$ltc_hiv_declined_rsn___23)
table(eip$ltc_hiv_prevented_rsn___16)
eip$hiv_already_linked[eip$hiv_ltc == 1 &
                         (eip$ltc_hiv_declined_rsn___23 == 1 |
                            eip$ltc_hiv_prevented_rsn___16 == 1)] <- 1
table(eip$hiv_already_linked)

table(eip$hiv_already_linked)
hiv_already_linked <- eip[which(eip$hiv_already_linked == 1), ]
dim(hiv_already_linked)
hiv_already_linked <- nrow(hiv_already_linked)
hiv_already_linked



# Ineligible HIV Linkage - Deceased
table(eip$ltc_hiv_declined_rsn___35)
table(eip$ltc_hiv_prevented_rsn___17)
eip$hiv_deceased[eip$hiv_ltc == 1 &
                   (eip$ltc_hiv_declined_rsn___35 == 1 |
                      eip$ltc_hiv_prevented_rsn___17 == 1)] <- 1
table(eip$hiv_deceased)

table(eip$hiv_deceased)
hiv_deceased <- eip[which(eip$hiv_deceased == 1), ]
dim(hiv_deceased)
hiv_deceased <- nrow(hiv_deceased)
hiv_deceased



# Ineligible HIV Linkage - Incarcerated
table(eip$ltc_hiv_prevented_rsn___12)
eip$hiv_incarcerated[eip$hiv_ltc == 1 &
                       eip$ltc_hiv_prevented_rsn___12 == 1] <- 1
table(eip$hiv_incarcerated)

table(eip$hiv_incarcerated)
hiv_incarcerated <- eip[which(eip$hiv_incarcerated == 1), ]
dim(hiv_incarcerated)
hiv_incarcerated <- nrow(hiv_incarcerated)
hiv_incarcerated




# Ineligible HIV Linkage - Inability to Contact
table(eip$ltc_hiv_final_ltc_status)
eip$hiv_inability_to_contact[eip$hiv_ltc == 1 &
                               eip$ltc_hiv_prevented_rsn___19 == 1] <- 1
table(eip$hiv_inability_to_contact)

table(eip$hiv_inability_to_contact)
hiv_inability_to_contact <- eip[which(eip$hiv_inability_to_contact == 1), ]
dim(hiv_inability_to_contact)
hiv_inability_to_contact <- nrow(hiv_inability_to_contact)
hiv_inability_to_contact




# Ineligible HIV Linkage - Declined Linkage Service
table(eip$ltc_hiv_final_ltc_status)
eip$hiv_linkage_declined[(eip$hiv_ltc == 1 &
                            eip$ltc_hiv_final_ltc_status == 2) &
                           (is.na(eip$hiv_already_linked) &
                              is.na(eip$hiv_deceased) &
                              is.na(eip$hiv_incarcerated) &
                              is.na(eip$hiv_inability_to_contact))] <- 1
table(eip$hiv_linkage_declined)

table(eip$hiv_linkage_declined)
hiv_linkage_declined <- eip[which(eip$hiv_linkage_declined == 1), ]
dim(hiv_linkage_declined)
hiv_linkage_declined <- nrow(hiv_linkage_declined)
hiv_linkage_declined




# Ineligible HIV Linkage - Linkage in Progress
table(eip$ltc_hiv_prevented_rsn___18)
eip$hiv_ongoing_linkage[eip$hiv_ltc == 1 &
                          eip$ltc_hiv_prevented_rsn___18 == 1] <- 1
table(eip$hiv_ongoing_linkage)

table(eip$hiv_ongoing_linkage)
hiv_ongoing_linkage <- eip[which(eip$hiv_ongoing_linkage == 1), ]
dim(hiv_ongoing_linkage)
hiv_ongoing_linkage <- nrow(hiv_ongoing_linkage)
hiv_ongoing_linkage




# HIV Ineligible Cases
eip$hiv_ineligible_ltc[eip$hiv_already_linked == 1 |
                         eip$hiv_deceased == 1 |
                         eip$hiv_incarcerated == 1 |
                         eip$hiv_inability_to_contact == 1 |
                         eip$hiv_linkage_declined == 1 |
                         eip$hiv_ongoing_linkage == 1] <- 1
table(eip$hiv_ineligible_ltc)

table(eip$hiv_ineligible_ltc)
hiv_ineligible_ltc <- eip[which(eip$hiv_ineligible_ltc == 1), ]
dim(hiv_ineligible_ltc)
hiv_ineligible_ltc <- nrow(hiv_ineligible_ltc)
hiv_ineligible_ltc

hiv_ineligible_ltc_percent <- percent(hiv_ineligible_ltc/hiv_ltc, accuracy = 0.1)
hiv_ineligible_ltc_percent

hiv_already_linked_percent <- percent(hiv_already_linked/hiv_ineligible_ltc, accuracy = 0.1)
hiv_already_linked_percent

hiv_deceased_percent <- percent(hiv_deceased/hiv_ineligible_ltc, accuracy = 0.1)
hiv_deceased_percent

hiv_incarcerated_percent <- percent(hiv_incarcerated/hiv_ineligible_ltc, accuracy = 0.1)
hiv_incarcerated_percent

hiv_inability_to_contact_percent <- percent(hiv_inability_to_contact/hiv_ineligible_ltc, accuracy = 0.1)
hiv_inability_to_contact_percent

hiv_linkage_declined_percent <- percent(hiv_linkage_declined/hiv_ineligible_ltc, accuracy = 0.1)
hiv_linkage_declined_percent

hiv_ongoing_linkage_percent <- percent(hiv_ongoing_linkage/hiv_ineligible_ltc, accuracy = 0.1)
hiv_ongoing_linkage_percent




# HIV Eligibility to be Linked
eip$hiv_eligible_ltc[eip$hiv_ltc == 1 &
                       (is.na(eip$hiv_already_linked) &
                          is.na(eip$hiv_deceased) &
                          is.na(eip$hiv_incarcerated) &
                          is.na(eip$hiv_linkage_declined) &
                          is.na(eip$hiv_linkage_declined) &
                          is.na(eip$hiv_ongoing_linkage))] <- 1
table(eip$hiv_eligible_ltc)

table(eip$hiv_eligible_ltc)
hiv_eligible_ltc <- eip[which(eip$hiv_eligible_ltc == 1), ]
dim(hiv_eligible_ltc)
hiv_eligible_ltc <- nrow(hiv_eligible_ltc)
hiv_eligible_ltc

hiv_eligible_ltc_percent <- percent(hiv_eligible_ltc/hiv_ltc, accuracy = 0.1)
hiv_eligible_ltc_percent



table(eip$hiv_eligible_ltc, eip$hiv_status)
eip$hiv_new_eligible_ltc[eip$hiv_eligible_ltc == 1 &
                           eip$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip$hiv_new_eligible_ltc)

table(eip$hiv_new_eligible_ltc)
hiv_new_eligible_ltc <- eip[which(eip$hiv_new_eligible_ltc == 1), ]
dim(hiv_new_eligible_ltc)
hiv_new_eligible_ltc <- nrow(hiv_new_eligible_ltc)
hiv_new_eligible_ltc

hiv_new_eligible_ltc_percent <- percent(hiv_new_eligible_ltc/hiv_eligible_ltc, accuracy = 0.1)
hiv_new_eligible_ltc_percent




table(eip$hiv_eligible_ltc, eip$hiv_status)
eip$hiv_prev_eligible_ltc[eip$hiv_eligible_ltc == 1 &
                            eip$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip$hiv_prev_eligible_ltc)

table(eip$hiv_prev_eligible_ltc)
hiv_prev_eligible_ltc <- eip[which(eip$hiv_prev_eligible_ltc == 1), ]
dim(hiv_prev_eligible_ltc)
hiv_prev_eligible_ltc <- nrow(hiv_prev_eligible_ltc)
hiv_prev_eligible_ltc

hiv_prev_eligible_ltc_percent <- percent(hiv_prev_eligible_ltc/hiv_eligible_ltc, accuracy = 0.1)
hiv_prev_eligible_ltc_percent



table(eip$hiv_eligible_ltc, eip$hiv_status)
eip$hiv_unk_eligible_ltc[(eip$hiv_eligible_ltc == 1 &
                            (eip$hiv_status == 'Unknown HIV Status' |
                               is.na(eip$hiv_status)))] <- 1
table(eip$hiv_unk_eligible_ltc)

table(eip$hiv_unk_eligible_ltc)
hiv_unk_eligible_ltc <- eip[which(eip$hiv_unk_eligible_ltc == 1), ]
dim(hiv_unk_eligible_ltc)
hiv_unk_eligible_ltc <- nrow(hiv_unk_eligible_ltc)
hiv_unk_eligible_ltc

hiv_unk_eligible_ltc_percent <- percent(hiv_unk_eligible_ltc/hiv_eligible_ltc, accuracy = 0.1)
hiv_unk_eligible_ltc_percent




# HIV Open/Closed Cases
table(eip$ltc_hiv_open_case_calc)
eip$hiv_in_progress[eip$hiv_eligible_ltc == 1 &
                      eip$ltc_hiv_open_case_calc == 1] <- 1
table(eip$hiv_in_progress)

table(eip$hiv_in_progress)
hiv_in_progress <- eip[which(eip$hiv_in_progress == 1), ]
dim(hiv_in_progress)
hiv_in_progress <- nrow(hiv_in_progress)
hiv_in_progress

hiv_in_progress_percent <- percent(hiv_in_progress/hiv_eligible_ltc, accuracy = 0.1)
hiv_in_progress_percent



table(eip$hiv_in_progress, eip$hiv_status)
eip$hiv_new_in_progress[eip$hiv_in_progress == 1 &
                          eip$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip$hiv_new_in_progress)

table(eip$hiv_new_in_progress)
hiv_new_in_progress <- eip[which(eip$hiv_new_in_progress == 1), ]
dim(hiv_new_in_progress)
hiv_new_in_progress <- nrow(hiv_new_in_progress)
hiv_new_in_progress

hiv_new_in_progress_percent <- percent(hiv_new_in_progress/hiv_new_eligible_ltc, accuracy = 0.1)
hiv_new_in_progress_percent



table(eip$hiv_in_progress, eip$hiv_status)
eip$hiv_prev_in_progress[eip$hiv_in_progress == 1 &
                           eip$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip$hiv_prev_in_progress)

table(eip$hiv_prev_in_progress)
hiv_prev_in_progress <- eip[which(eip$hiv_prev_in_progress == 1), ]
dim(hiv_prev_in_progress)
hiv_prev_in_progress <- nrow(hiv_prev_in_progress)
hiv_prev_in_progress

hiv_prev_in_progress_percent <- percent(hiv_prev_in_progress/hiv_prev_eligible_ltc, accuracy = 0.1)
hiv_prev_in_progress_percent



table(eip$hiv_in_progress, eip$hiv_status)
eip$hiv_unk_in_progress[eip$hiv_in_progress == 1 &
                          (eip$hiv_status == 'Unknown HIV Status' |
                             is.na(eip$hiv_status))] <- 1
table(eip$hiv_unk_in_progress)

table(eip$hiv_unk_in_progress)
hiv_unk_in_progress <- eip[which(eip$hiv_unk_in_progress == 1), ]
dim(hiv_unk_in_progress)
hiv_unk_in_progress <- nrow(hiv_unk_in_progress)
hiv_unk_in_progress

hiv_unk_in_progress_percent <- percent(hiv_unk_in_progress/hiv_unk_eligible_ltc, accuracy = 0.1)
hiv_unk_in_progress_percent



table(eip$hiv_eligible_ltc, eip$hiv_in_progress)
eip$hiv_closed_case[eip$hiv_eligible_ltc == 1 &
                      is.na(eip$hiv_in_progress)] <- 1
table(eip$hiv_closed_case)

table(eip$hiv_closed_case)
hiv_closed_case <- eip[which(eip$hiv_closed_case == 1), ]
dim(hiv_closed_case)
hiv_closed_case <- nrow(hiv_closed_case)
hiv_closed_case

hiv_closed_case_percent <- percent(hiv_closed_case/hiv_eligible_ltc, accuracy = 0.1)
hiv_closed_case_percent




table(eip$hiv_in_progress)
eip$hiv_ltc_days_open <- difftime(Sys.Date(), eip$enc_date, units="days")
table(eip$hiv_ltc_days_open)
eip$hiv_in_progress_90days[eip$hiv_in_progress == 1 &
                             (eip$hiv_ltc_days_open > 90)] <- 1
table(eip$hiv_in_progress_90days)

table(eip$hiv_in_progress_90days)
hiv_in_progress_90days <- eip[which(eip$hiv_in_progress_90days == 1), ]
dim(hiv_in_progress_90days)
hiv_in_progress_90days <- nrow(hiv_in_progress_90days)
hiv_in_progress_90days

hiv_in_progress_90days_percent <- percent(hiv_in_progress_90days/hiv_in_progress, accuracy = 0.1)
hiv_in_progress_90days_percent




# HIV Cases Linked to Care
table(eip$hiv_closed_case, eip$ltc_hiv_final_ltc_status)
eip$hiv_linked[eip$hiv_closed_case == 1 &
                 eip$ltc_hiv_final_ltc_status == 1] <- 1
table(eip$hiv_linked)

table(eip$hiv_linked)
hiv_linked <- eip[which(eip$hiv_linked == 1), ]
dim(hiv_linked)
hiv_linked <- nrow(hiv_linked)
hiv_linked

hiv_linked_gauge <- (hiv_linked/hiv_closed_case)*100
hiv_linked_gauge
hiv_linked_percent <- percent(hiv_linked/hiv_closed_case, accuracy = 0.1)
hiv_linked_percent



table(eip$hiv_status, eip$hiv_eligible_ltc)
table(eip$hiv_linked, eip$hiv_status)
eip$hiv_new_linked[eip$hiv_linked == 1 &
                     eip$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip$hiv_new_linked)

table(eip$hiv_new_linked)
hiv_new_linked <- eip[which(eip$hiv_new_linked == 1), ]
dim(hiv_new_linked)
hiv_new_linked <- nrow(hiv_new_linked)
hiv_new_linked

hiv_new_linked_percent <- percent(hiv_new_linked/hiv_new_eligible_ltc, accuracy = 0.1)
hiv_new_linked_percent



table(eip$hiv_status, eip$hiv_eligible_ltc)
table(eip$hiv_linked, eip$hiv_status)
eip$hiv_prev_linked[eip$hiv_linked == 1 &
                      eip$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip$hiv_prev_linked)

table(eip$hiv_prev_linked)
hiv_prev_linked <- eip[which(eip$hiv_prev_linked == 1), ]
dim(hiv_prev_linked)
hiv_prev_linked <- nrow(hiv_prev_linked)
hiv_prev_linked

hiv_prev_linked_percent <- percent(hiv_prev_linked/hiv_prev_eligible_ltc, accuracy = 0.1)
hiv_prev_linked_percent




eip$hiv_not_linked[eip$hiv_eligible_ltc == 1 & is.na(eip$hiv_in_progress) & is.na(eip$hiv_linked)] <- 1
table(eip$hiv_not_linked)

table(eip$hiv_not_linked)
hiv_not_linked <- eip[which(eip$hiv_not_linked == 1), ]
dim(hiv_not_linked)
hiv_not_linked <- nrow(hiv_not_linked)
hiv_not_linked

hiv_not_linked_percent <- percent(hiv_not_linked/hiv_closed_case, accuracy = 0.1)
hiv_not_linked_percent



table(eip$hiv_not_linked, eip$hiv_status)
eip$hiv_new_not_linked[eip$hiv_not_linked == 1 &
                         eip$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip$hiv_new_not_linked)

table(eip$hiv_new_not_linked)
hiv_new_not_linked <- eip[which(eip$hiv_new_not_linked == 1), ]
dim(hiv_new_not_linked)
hiv_new_not_linked <- nrow(hiv_new_not_linked)
hiv_new_not_linked

hiv_new_not_linked_percent <- percent(hiv_new_not_linked/hiv_new_eligible_ltc, accuracy = 0.1)
hiv_new_not_linked_percent



table(eip$hiv_not_linked, eip$hiv_status)
eip$hiv_prev_not_linked[eip$hiv_not_linked == 1 &
                          eip$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip$hiv_prev_not_linked)

table(eip$hiv_prev_not_linked)
hiv_prev_not_linked <- eip[which(eip$hiv_prev_not_linked == 1), ]
dim(hiv_prev_not_linked)
hiv_prev_not_linked <- nrow(hiv_prev_not_linked)
hiv_prev_not_linked

hiv_prev_not_linked_percent <- percent(hiv_prev_not_linked/hiv_prev_eligible_ltc, accuracy = 0.1)
hiv_prev_not_linked_percent




# HIV Reasons Not Linked to Care
eip$hiv_not_linked_med_staff[(eip$hiv_closed_case == 1 & is.na(eip$hiv_linked)) &
                               (eip$ltc_hiv_prevented_rsn___1 == 1 |
                                  eip$ltc_hiv_prevented_rsn___2 == 1 |
                                  eip$ltc_hiv_prevented_rsn___11 == 1)] <- 1
table(eip$hiv_not_linked_med_staff)

table(eip$hiv_not_linked_med_staff)
hiv_not_linked_med_staff <- eip[which(eip$hiv_not_linked_med_staff == 1), ]
dim(hiv_not_linked_med_staff)
hiv_not_linked_med_staff <- nrow(hiv_not_linked_med_staff)
hiv_not_linked_med_staff

hiv_not_linked_med_staff_percent <- percent(hiv_not_linked_med_staff/hiv_not_linked, accuracy = 0.1)
hiv_not_linked_med_staff_percent



eip$hiv_not_linked_family[(eip$hiv_closed_case == 1 & is.na(eip$hiv_linked)) &
                            (eip$ltc_hiv_prevented_rsn___3 == 1)] <- 1
table(eip$hiv_not_linked_family)

table(eip$hiv_not_linked_family)
hiv_not_linked_family <- eip[which(eip$hiv_not_linked_family == 1), ]
dim(hiv_not_linked_family)
hiv_not_linked_family <- nrow(hiv_not_linked_family)
hiv_not_linked_family

hiv_not_linked_family_percent <- percent(hiv_not_linked_family/hiv_not_linked, accuracy = 0.1)
hiv_not_linked_family_percent



eip$hiv_not_linked_not_talking[(eip$hiv_closed_case == 1 & is.na(eip$hiv_linked)) &
                                 (eip$ltc_hiv_prevented_rsn___4 == 1)] <- 1
table(eip$hiv_not_linked_not_talking)

table(eip$hiv_not_linked_not_talking)
hiv_not_linked_not_talking <- eip[which(eip$hiv_not_linked_not_talking == 1), ]
dim(hiv_not_linked_not_talking)
hiv_not_linked_not_talking <- nrow(hiv_not_linked_not_talking)
hiv_not_linked_not_talking

hiv_not_linked_not_talking_percent <- percent(hiv_not_linked_not_talking/hiv_not_linked, accuracy = 0.1)
hiv_not_linked_not_talking_percent



eip$hiv_not_linked_safety[(eip$hiv_closed_case == 1 & is.na(eip$hiv_linked)) &
                            (eip$ltc_hiv_prevented_rsn___5 == 1)] <- 1
table(eip$hiv_not_linked_safety)

table(eip$hiv_not_linked_safety)
hiv_not_linked_safety <- eip[which(eip$hiv_not_linked_safety == 1), ]
dim(hiv_not_linked_safety)
hiv_not_linked_safety <- nrow(hiv_not_linked_safety)
hiv_not_linked_safety

hiv_not_linked_safety_percent <- percent(hiv_not_linked_safety/hiv_not_linked, accuracy = 0.1)
hiv_not_linked_safety_percent



eip$hiv_not_linked_medical[(eip$hiv_closed_case == 1 & is.na(eip$hiv_linked)) &
                             (eip$ltc_hiv_prevented_rsn___6 == 1 |
                                eip$ltc_hiv_prevented_rsn___8)] <- 1
table(eip$hiv_not_linked_medical)

table(eip$hiv_not_linked_medical)
hiv_not_linked_medical <- eip[which(eip$hiv_not_linked_medical == 1), ]
dim(hiv_not_linked_medical)
hiv_not_linked_medical <- nrow(hiv_not_linked_medical)
hiv_not_linked_medical

hiv_not_linked_medical_percent <- percent(hiv_not_linked_medical/hiv_not_linked, accuracy = 0.1)
hiv_not_linked_medical_percent



eip$hiv_not_linked_contact[(eip$hiv_closed_case == 1 & is.na(eip$hiv_linked)) &
                             (eip$ltc_hiv_prevented_rsn___20 == 1)] <- 1
table(eip$hiv_not_linked_contact)

table(eip$hiv_not_linked_contact)
hiv_not_linked_contact <- eip[which(eip$hiv_not_linked_contact == 1), ]
dim(hiv_not_linked_contact)
hiv_not_linked_contact <- nrow(hiv_not_linked_contact)
hiv_not_linked_contact

hiv_not_linked_contact_percent <- percent(hiv_not_linked_contact/hiv_not_linked, accuracy = 0.1)
hiv_not_linked_contact_percent



eip$hiv_not_linked_language[(eip$hiv_closed_case == 1 & is.na(eip$hiv_linked)) &
                              (eip$ltc_hiv_prevented_rsn___9 == 1)] <- 1
table(eip$hiv_not_linked_language)

table(eip$hiv_not_linked_language)
hiv_not_linked_language <- eip[which(eip$hiv_not_linked_language == 1), ]
dim(hiv_not_linked_language)
hiv_not_linked_language <- nrow(hiv_not_linked_language)
hiv_not_linked_language

hiv_not_linked_language_percent <- percent(hiv_not_linked_language/hiv_not_linked, accuracy = 0.1)
hiv_not_linked_language_percent



eip$hiv_not_linked_other[(eip$hiv_closed_case == 1 & is.na(eip$hiv_linked)) &
                           (eip$ltc_hiv_prevented_rsn___0 == 1)] <- 1
table(eip$hiv_not_linked_other)

table(eip$hiv_not_linked_other)
hiv_not_linked_other <- eip[which(eip$hiv_not_linked_other == 1), ]
dim(hiv_not_linked_other)
hiv_not_linked_other <- nrow(hiv_not_linked_other)
hiv_not_linked_other

hiv_not_linked_other_percent <- percent(hiv_not_linked_other/hiv_not_linked, accuracy = 0.1)
hiv_not_linked_other_percent




####################  2023 HIV Linkage Data  ####################

summary(eip$enc_date)
eip_2023 <- eip[which(eip$enc_date >= '2023-01-01' & eip$enc_date <= '2023-12-31'), ]
summary(eip_2023$enc_date)

table(eip_2023$plwha)
plwha_2023 <- eip_2023[which(eip_2023$plwha == 1), ]
dim(plwha_2023)
plwha_2023 <- nrow(plwha_2023)
plwha_2023


# HIV Linkage Data
table(eip_2023$ltc_services___1)
eip_2023$hiv_ltc_2023[eip_2023$ltc_services___1 == 1] <- 1
table(eip_2023$hiv_ltc_2023)

table(eip_2023$hiv_ltc_2023)
hiv_ltc_2023 <- eip_2023[which(eip_2023$hiv_ltc_2023 == 1), ]
dim(hiv_ltc_2023)
hiv_ltc_2023 <- nrow(hiv_ltc_2023)
hiv_ltc_2023

hiv_ltc_2023_percent <- percent(hiv_ltc_2023/plwha_2023, accuracy = 0.1)
hiv_ltc_2023_percent


# Ineligible HIV Linkage - Already Linked
table(eip_2023$ltc_hiv_declined_rsn___23)
table(eip_2023$ltc_hiv_prevented_rsn___16)
eip_2023$hiv_already_linked_2023[eip_2023$hiv_ltc_2023 == 1 &
                                   (eip_2023$ltc_hiv_declined_rsn___23 == 1 |
                                      eip_2023$ltc_hiv_prevented_rsn___16 == 1)] <- 1
table(eip_2023$hiv_already_linked_2023)

table(eip_2023$hiv_already_linked_2023)
hiv_already_linked_2023 <- eip_2023[which(eip_2023$hiv_already_linked_2023 == 1), ]
dim(hiv_already_linked_2023)
hiv_already_linked_2023 <- nrow(hiv_already_linked_2023)
hiv_already_linked_2023


# Ineligible HIV Linkage - Deceased
table(eip_2023$ltc_hiv_declined_rsn___35)
table(eip_2023$ltc_hiv_prevented_rsn___17)
eip_2023$hiv_deceased_2023[eip_2023$hiv_ltc_2023 == 1 &
                             (eip_2023$ltc_hiv_declined_rsn___35 == 1 |
                                eip_2023$ltc_hiv_prevented_rsn___17 == 1)] <- 1
table(eip_2023$hiv_deceased_2023)

table(eip_2023$hiv_deceased_2023)
hiv_deceased_2023 <- eip_2023[which(eip_2023$hiv_deceased_2023 == 1), ]
dim(hiv_deceased_2023)
hiv_deceased_2023 <- nrow(hiv_deceased_2023)
hiv_deceased_2023


# Ineligible HIV Linkage - Incarcerated
table(eip_2023$ltc_hiv_prevented_rsn___12)
eip_2023$hiv_incarcerated_2023[eip_2023$hiv_ltc_2023 == 1 &
                                 eip_2023$ltc_hiv_prevented_rsn___12 == 1] <- 1
table(eip_2023$hiv_incarcerated_2023)

table(eip_2023$hiv_incarcerated_2023)
hiv_incarcerated_2023 <- eip_2023[which(eip_2023$hiv_incarcerated_2023 == 1), ]
dim(hiv_incarcerated_2023)
hiv_incarcerated_2023 <- nrow(hiv_incarcerated_2023)
hiv_incarcerated_2023


# Ineligible HIV Linkage - Inability to Contact
table(eip_2023$ltc_hiv_final_ltc_status)
eip_2023$hiv_inability_to_contact_2023[eip_2023$hiv_ltc_2023 == 1 &
                                         eip_2023$ltc_hiv_prevented_rsn___19 == 1] <- 1
table(eip_2023$hiv_inability_to_contact_2023)

table(eip_2023$hiv_inability_to_contact_2023)
hiv_inability_to_contact_2023 <- eip_2023[which(eip_2023$hiv_inability_to_contact_2023 == 1), ]
dim(hiv_inability_to_contact_2023)
hiv_inability_to_contact_2023 <- nrow(hiv_inability_to_contact_2023)
hiv_inability_to_contact_2023


# Ineligible HIV Linkage - Declined Linkage Service
table(eip_2023$ltc_hiv_final_ltc_status)
eip_2023$hiv_linkage_declined_2023[(eip_2023$hiv_ltc_2023 == 1 &
                                      eip_2023$ltc_hiv_final_ltc_status == 2) &
                                     (is.na(eip_2023$hiv_already_linked_2023) &
                                        is.na(eip_2023$hiv_deceased_2023) &
                                        is.na(eip_2023$hiv_incarcerated_2023) &
                                        is.na(eip_2023$hiv_inability_to_contact_2023))] <- 1
table(eip_2023$hiv_linkage_declined_2023)

table(eip_2023$hiv_linkage_declined_2023)
hiv_linkage_declined_2023 <- eip_2023[which(eip_2023$hiv_linkage_declined_2023 == 1), ]
dim(hiv_linkage_declined_2023)
hiv_linkage_declined_2023 <- nrow(hiv_linkage_declined_2023)
hiv_linkage_declined_2023


# Ineligible HIV Linkage - Linkage in Progress
table(eip_2023$ltc_hiv_prevented_rsn___18)
eip_2023$hiv_ongoing_linkage_2023[eip_2023$hiv_ltc_2023 == 1 &
                                    eip_2023$ltc_hiv_prevented_rsn___18 == 1] <- 1
table(eip_2023$hiv_ongoing_linkage_2023)

table(eip_2023$hiv_ongoing_linkage_2023)
hiv_ongoing_linkage_2023 <- eip_2023[which(eip_2023$hiv_ongoing_linkage_2023 == 1), ]
dim(hiv_ongoing_linkage_2023)
hiv_ongoing_linkage_2023 <- nrow(hiv_ongoing_linkage_2023)
hiv_ongoing_linkage_2023


# HIV Ineligible Cases
eip_2023$hiv_ineligible_ltc_2023[eip_2023$hiv_already_linked_2023 == 1 |
                                   eip_2023$hiv_deceased_2023 == 1 |
                                   eip_2023$hiv_incarcerated_2023 == 1 |
                                   eip_2023$hiv_inability_to_contact_2023 == 1 |
                                   eip_2023$hiv_linkage_declined_2023 == 1 |
                                   eip_2023$hiv_ongoing_linkage_2023 == 1] <- 1
table(eip_2023$hiv_ineligible_ltc_2023)

table(eip_2023$hiv_ineligible_ltc_2023)
hiv_ineligible_ltc_2023 <- eip_2023[which(eip_2023$hiv_ineligible_ltc_2023 == 1), ]
dim(hiv_ineligible_ltc_2023)
hiv_ineligible_ltc_2023 <- nrow(hiv_ineligible_ltc_2023)
hiv_ineligible_ltc_2023

hiv_ineligible_ltc_2023_percent <- percent(hiv_ineligible_ltc_2023/hiv_ltc_2023, accuracy = 0.1)
hiv_ineligible_ltc_2023_percent

hiv_already_linked_2023_percent <- percent(hiv_already_linked_2023/hiv_ineligible_ltc_2023, accuracy = 0.1)
hiv_already_linked_2023_percent

hiv_deceased_2023_percent <- percent(hiv_deceased_2023/hiv_ineligible_ltc_2023, accuracy = 0.1)
hiv_deceased_2023_percent

hiv_incarcerated_2023_percent <- percent(hiv_incarcerated_2023/hiv_ineligible_ltc_2023, accuracy = 0.1)
hiv_incarcerated_2023_percent

hiv_inability_to_contact_2023_percent <- percent(hiv_inability_to_contact_2023/hiv_ineligible_ltc_2023, accuracy = 0.1)
hiv_inability_to_contact_2023_percent

hiv_linkage_declined_2023_percent <- percent(hiv_linkage_declined_2023/hiv_ineligible_ltc_2023, accuracy = 0.1)
hiv_linkage_declined_2023_percent

hiv_ongoing_linkage_2023_percent <- percent(hiv_ongoing_linkage_2023/hiv_ineligible_ltc_2023, accuracy = 0.1)
hiv_ongoing_linkage_2023_percent


# HIV Eligibility to be Linked
eip_2023$hiv_eligible_ltc_2023[eip_2023$hiv_ltc_2023 == 1 &
                                 (is.na(eip_2023$hiv_already_linked_2023) &
                                    is.na(eip_2023$hiv_deceased_2023) &
                                    is.na(eip_2023$hiv_incarcerated_2023) &
                                    is.na(eip_2023$hiv_inability_to_contact_2023) &
                                    is.na(eip_2023$hiv_linkage_declined_2023) &
                                    is.na(eip_2023$hiv_ongoing_linkage_2023))] <- 1
table(eip_2023$hiv_eligible_ltc_2023)

table(eip_2023$hiv_eligible_ltc_2023)
hiv_eligible_ltc_2023 <- eip_2023[which(eip_2023$hiv_eligible_ltc_2023 == 1), ]
dim(hiv_eligible_ltc_2023)
hiv_eligible_ltc_2023 <- nrow(hiv_eligible_ltc_2023)
hiv_eligible_ltc_2023

hiv_eligible_ltc_2023_percent <- percent(hiv_eligible_ltc_2023/hiv_ltc_2023, accuracy = 0.1)
hiv_eligible_ltc_2023_percent



table(eip_2023$hiv_eligible_ltc_2023, eip_2023$hiv_status)
eip_2023$hiv_new_eligible_ltc_2023[eip_2023$hiv_eligible_ltc_2023 == 1 &
                                     eip_2023$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2023$hiv_new_eligible_ltc_2023)

table(eip_2023$hiv_new_eligible_ltc_2023)
hiv_new_eligible_ltc_2023 <- eip_2023[which(eip_2023$hiv_new_eligible_ltc_2023 == 1), ]
dim(hiv_new_eligible_ltc_2023)
hiv_new_eligible_ltc_2023 <- nrow(hiv_new_eligible_ltc_2023)
hiv_new_eligible_ltc_2023

hiv_new_eligible_ltc_2023_percent <- percent(hiv_new_eligible_ltc_2023/hiv_eligible_ltc_2023, accuracy = 0.1)
hiv_new_eligible_ltc_2023_percent



table(eip_2023$hiv_eligible_ltc_2023, eip_2023$hiv_status)
eip_2023$hiv_prev_eligible_ltc_2023[eip_2023$hiv_eligible_ltc_2023 == 1 &
                                      eip_2023$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2023$hiv_prev_eligible_ltc_2023)

table(eip_2023$hiv_prev_eligible_ltc_2023)
hiv_prev_eligible_ltc_2023 <- eip_2023[which(eip_2023$hiv_prev_eligible_ltc_2023 == 1), ]
dim(hiv_prev_eligible_ltc_2023)
hiv_prev_eligible_ltc_2023 <- nrow(hiv_prev_eligible_ltc_2023)
hiv_prev_eligible_ltc_2023

hiv_prev_eligible_ltc_2023_percent <- percent(hiv_prev_eligible_ltc_2023/hiv_eligible_ltc_2023, accuracy = 0.1)
hiv_prev_eligible_ltc_2023_percent



table(eip_2023$hiv_eligible_ltc_2023, eip_2023$hiv_status)
eip_2023$hiv_unk_eligible_ltc_2023[(eip_2023$hiv_eligible_ltc_2023 == 1 &
                                      (eip_2023$hiv_status == 'Unknown HIV Status' |
                                         is.na(eip_2023$hiv_status)))] <- 1
table(eip_2023$hiv_unk_eligible_ltc_2023)

table(eip_2023$hiv_unk_eligible_ltc_2023)
hiv_unk_eligible_ltc_2023 <- eip_2023[which(eip_2023$hiv_unk_eligible_ltc_2023 == 1), ]
dim(hiv_unk_eligible_ltc_2023)
hiv_unk_eligible_ltc_2023 <- nrow(hiv_unk_eligible_ltc_2023)
hiv_unk_eligible_ltc_2023

hiv_unk_eligible_ltc_2023_percent <- percent(hiv_unk_eligible_ltc_2023/hiv_eligible_ltc_2023, accuracy = 0.1)
hiv_unk_eligible_ltc_2023_percent


# HIV Open/Closed Cases
table(eip_2023$ltc_hiv_open_case_calc)
eip_2023$hiv_in_progress_2023[eip_2023$hiv_eligible_ltc_2023 == 1 &
                                eip_2023$ltc_hiv_open_case_calc == 1] <- 1
table(eip_2023$hiv_in_progress_2023)

table(eip_2023$hiv_in_progress_2023)
hiv_in_progress_2023 <- eip_2023[which(eip_2023$hiv_in_progress_2023 == 1), ]
dim(hiv_in_progress_2023)
hiv_in_progress_2023 <- nrow(hiv_in_progress_2023)
hiv_in_progress_2023

hiv_in_progress_2023_percent <- percent(hiv_in_progress_2023/hiv_eligible_ltc_2023, accuracy = 0.1)
hiv_in_progress_2023_percent



table(eip_2023$hiv_in_progress_2023, eip_2023$hiv_status)
eip_2023$hiv_new_in_progress_2023[eip_2023$hiv_in_progress_2023 == 1 &
                                    eip_2023$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2023$hiv_new_in_progress_2023)

table(eip_2023$hiv_new_in_progress_2023)
hiv_new_in_progress_2023 <- eip_2023[which(eip_2023$hiv_new_in_progress_2023 == 1), ]
dim(hiv_new_in_progress_2023)
hiv_new_in_progress_2023 <- nrow(hiv_new_in_progress_2023)
hiv_new_in_progress_2023

hiv_new_in_progress_2023_percent <- percent(hiv_new_in_progress_2023/hiv_new_eligible_ltc_2023, accuracy = 0.1)
hiv_new_in_progress_2023_percent



table(eip_2023$hiv_in_progress_2023, eip_2023$hiv_status)
eip_2023$hiv_prev_in_progress_2023[eip_2023$hiv_in_progress_2023 == 1 &
                                     eip_2023$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2023$hiv_prev_in_progress_2023)

table(eip_2023$hiv_prev_in_progress_2023)
hiv_prev_in_progress_2023 <- eip_2023[which(eip_2023$hiv_prev_in_progress_2023 == 1), ]
dim(hiv_prev_in_progress_2023)
hiv_prev_in_progress_2023 <- nrow(hiv_prev_in_progress_2023)
hiv_prev_in_progress_2023

hiv_prev_in_progress_2023_percent <- percent(hiv_prev_in_progress_2023/hiv_prev_eligible_ltc_2023, accuracy = 0.1)
hiv_prev_in_progress_2023_percent



table(eip_2023$hiv_in_progress_2023, eip_2023$hiv_status)
eip_2023$hiv_unk_in_progress_2023[eip_2023$hiv_in_progress_2023 == 1 &
                                    (eip_2023$hiv_status == 'Unknown HIV Status' |
                                       is.na(eip_2023$hiv_status))] <- 1
table(eip_2023$hiv_unk_in_progress_2023)

table(eip_2023$hiv_unk_in_progress_2023)
hiv_unk_in_progress_2023 <- eip_2023[which(eip_2023$hiv_unk_in_progress_2023 == 1), ]
dim(hiv_unk_in_progress_2023)
hiv_unk_in_progress_2023 <- nrow(hiv_unk_in_progress_2023)
hiv_unk_in_progress_2023

hiv_unk_in_progress_2023_percent <- percent(hiv_unk_in_progress_2023/hiv_unk_eligible_ltc_2023, accuracy = 0.1)
hiv_unk_in_progress_2023_percent



table(eip_2023$hiv_eligible_ltc_2023, eip_2023$hiv_in_progress_2023)
eip_2023$hiv_closed_case_2023[eip_2023$hiv_eligible_ltc_2023 == 1 &
                                is.na(eip_2023$hiv_in_progress_2023)] <- 1
table(eip_2023$hiv_closed_case_2023)

table(eip_2023$hiv_closed_case_2023)
hiv_closed_case_2023 <- eip_2023[which(eip_2023$hiv_closed_case_2023 == 1), ]
dim(hiv_closed_case_2023)
hiv_closed_case_2023 <- nrow(hiv_closed_case_2023)
hiv_closed_case_2023

hiv_closed_case_2023_percent <- percent(hiv_closed_case_2023/hiv_eligible_ltc_2023, accuracy = 0.1)
hiv_closed_case_2023_percent



table(eip_2023$hiv_in_progress_2023)
eip_2023$hiv_ltc_days_open_2023 <- difftime(Sys.Date(), eip_2023$enc_date, units="days")
table(eip_2023$hiv_ltc_days_open_2023)
eip_2023$hiv_in_progress_90days_2023[eip_2023$hiv_in_progress_2023 == 1 &
                                       (eip_2023$hiv_ltc_days_open_2023 > 90)] <- 1
table(eip_2023$hiv_in_progress_90days_2023)

table(eip_2023$hiv_in_progress_90days_2023)
hiv_in_progress_90days_2023 <- eip_2023[which(eip_2023$hiv_in_progress_90days_2023 == 1), ]
dim(hiv_in_progress_90days_2023)
hiv_in_progress_90days_2023 <- nrow(hiv_in_progress_90days_2023)
hiv_in_progress_90days_2023

hiv_in_progress_90days_2023_percent <- percent(hiv_in_progress_90days_2023/hiv_in_progress_2023, accuracy = 0.1)
hiv_in_progress_90days_2023_percent


# HIV Cases Linked to Care
table(eip_2023$hiv_closed_case_2023, eip_2023$ltc_hiv_final_ltc_status)
eip_2023$hiv_linked_2023[eip_2023$hiv_closed_case_2023 == 1 &
                           eip_2023$ltc_hiv_final_ltc_status == 1] <- 1
table(eip_2023$hiv_linked_2023)

table(eip_2023$hiv_linked_2023)
hiv_linked_2023 <- eip_2023[which(eip_2023$hiv_linked_2023 == 1), ]
dim(hiv_linked_2023)
hiv_linked_2023 <- nrow(hiv_linked_2023)
hiv_linked_2023

hiv_linked_2023_gauge <- (hiv_linked_2023/hiv_closed_case_2023)*100
hiv_linked_2023_gauge
hiv_linked_2023_percent <- percent(hiv_linked_2023/hiv_closed_case_2023, accuracy = 0.1)
hiv_linked_2023_percent



table(eip_2023$hiv_status, eip_2023$hiv_eligible_ltc_2023)
table(eip_2023$hiv_linked_2023, eip_2023$hiv_status)
eip_2023$hiv_new_linked_2023[eip_2023$hiv_linked_2023 == 1 &
                               eip_2023$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2023$hiv_new_linked_2023)

table(eip_2023$hiv_new_linked_2023)
hiv_new_linked_2023 <- eip_2023[which(eip_2023$hiv_new_linked_2023 == 1), ]
dim(hiv_new_linked_2023)
hiv_new_linked_2023 <- nrow(hiv_new_linked_2023)
hiv_new_linked_2023

hiv_new_linked_2023_percent <- percent(hiv_new_linked_2023/hiv_new_eligible_ltc_2023, accuracy = 0.1)
hiv_new_linked_2023_percent



table(eip_2023$hiv_status, eip_2023$hiv_eligible_ltc_2023)
table(eip_2023$hiv_linked_2023, eip_2023$hiv_status)
eip_2023$hiv_prev_linked_2023[eip_2023$hiv_linked_2023 == 1 &
                                eip_2023$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2023$hiv_prev_linked_2023)

table(eip_2023$hiv_prev_linked_2023)
hiv_prev_linked_2023 <- eip_2023[which(eip_2023$hiv_prev_linked_2023 == 1), ]
dim(hiv_prev_linked_2023)
hiv_prev_linked_2023 <- nrow(hiv_prev_linked_2023)
hiv_prev_linked_2023

hiv_prev_linked_2023_percent <- percent(hiv_prev_linked_2023/hiv_prev_eligible_ltc_2023, accuracy = 0.1)
hiv_prev_linked_2023_percent



eip_2023$hiv_not_linked_2023[eip_2023$hiv_eligible_ltc_2023 == 1 & is.na(eip_2023$hiv_in_progress_2023) & is.na(eip_2023$hiv_linked_2023)] <- 1
table(eip_2023$hiv_not_linked_2023)

table(eip_2023$hiv_not_linked_2023)
hiv_not_linked_2023 <- eip_2023[which(eip_2023$hiv_not_linked_2023 == 1), ]
dim(hiv_not_linked_2023)
hiv_not_linked_2023 <- nrow(hiv_not_linked_2023)
hiv_not_linked_2023

hiv_not_linked_2023_percent <- percent(hiv_not_linked_2023/hiv_closed_case_2023, accuracy = 0.1)
hiv_not_linked_2023_percent



table(eip_2023$hiv_not_linked_2023, eip_2023$hiv_status)
eip_2023$hiv_new_not_linked_2023[eip_2023$hiv_not_linked_2023 == 1 &
                                   eip_2023$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2023$hiv_new_not_linked_2023)

table(eip_2023$hiv_new_not_linked_2023)
hiv_new_not_linked_2023 <- eip_2023[which(eip_2023$hiv_new_not_linked_2023 == 1), ]
dim(hiv_new_not_linked_2023)
hiv_new_not_linked_2023 <- nrow(hiv_new_not_linked_2023)
hiv_new_not_linked_2023

hiv_new_not_linked_2023_percent <- percent(hiv_new_not_linked_2023/hiv_new_eligible_ltc_2023, accuracy = 0.1)
hiv_new_not_linked_2023_percent



table(eip_2023$hiv_not_linked_2023, eip_2023$hiv_status)
eip_2023$hiv_prev_not_linked_2023[eip_2023$hiv_not_linked_2023 == 1 &
                                    eip_2023$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2023$hiv_prev_not_linked_2023)

table(eip_2023$hiv_prev_not_linked_2023)
hiv_prev_not_linked_2023 <- eip_2023[which(eip_2023$hiv_prev_not_linked_2023 == 1), ]
dim(hiv_prev_not_linked_2023)
hiv_prev_not_linked_2023 <- nrow(hiv_prev_not_linked_2023)
hiv_prev_not_linked_2023

hiv_prev_not_linked_2023_percent <- percent(hiv_prev_not_linked_2023/hiv_prev_eligible_ltc_2023, accuracy = 0.1)
hiv_prev_not_linked_2023_percent


# HIV Reasons Not Linked to Care
eip_2023$hiv_not_linked_med_staff_2023[(eip_2023$hiv_closed_case_2023 == 1 & is.na(eip_2023$hiv_linked_2023)) &
                                         (eip_2023$ltc_hiv_prevented_rsn___1 == 1 |
                                            eip_2023$ltc_hiv_prevented_rsn___2 == 1 |
                                            eip_2023$ltc_hiv_prevented_rsn___11 == 1)] <- 1
table(eip_2023$hiv_not_linked_med_staff_2023)

table(eip_2023$hiv_not_linked_med_staff_2023)
hiv_not_linked_med_staff_2023 <- eip_2023[which(eip_2023$hiv_not_linked_med_staff_2023 == 1), ]
dim(hiv_not_linked_med_staff_2023)
hiv_not_linked_med_staff_2023 <- nrow(hiv_not_linked_med_staff_2023)
hiv_not_linked_med_staff_2023

hiv_not_linked_med_staff_2023_percent <- percent(hiv_not_linked_med_staff_2023/hiv_not_linked_2023, accuracy = 0.1)
hiv_not_linked_med_staff_2023_percent



eip_2023$hiv_not_linked_family_2023[(eip_2023$hiv_closed_case_2023 == 1 & is.na(eip_2023$hiv_linked_2023)) &
                                      (eip_2023$ltc_hiv_prevented_rsn___3 == 1)] <- 1
table(eip_2023$hiv_not_linked_family_2023)

table(eip_2023$hiv_not_linked_family_2023)
hiv_not_linked_family_2023 <- eip_2023[which(eip_2023$hiv_not_linked_family_2023 == 1), ]
dim(hiv_not_linked_family_2023)
hiv_not_linked_family_2023 <- nrow(hiv_not_linked_family_2023)
hiv_not_linked_family_2023

hiv_not_linked_family_2023_percent <- percent(hiv_not_linked_family_2023/hiv_not_linked_2023, accuracy = 0.1)
hiv_not_linked_family_2023_percent



eip_2023$hiv_not_linked_not_talking_2023[(eip_2023$hiv_closed_case_2023 == 1 & is.na(eip_2023$hiv_linked_2023)) &
                                           (eip_2023$ltc_hiv_prevented_rsn___4 == 1)] <- 1
table(eip_2023$hiv_not_linked_not_talking_2023)

table(eip_2023$hiv_not_linked_not_talking_2023)
hiv_not_linked_not_talking_2023 <- eip_2023[which(eip_2023$hiv_not_linked_not_talking_2023 == 1), ]
dim(hiv_not_linked_not_talking_2023)
hiv_not_linked_not_talking_2023 <- nrow(hiv_not_linked_not_talking_2023)
hiv_not_linked_not_talking_2023

hiv_not_linked_not_talking_2023_percent <- percent(hiv_not_linked_not_talking_2023/hiv_not_linked_2023, accuracy = 0.1)
hiv_not_linked_not_talking_2023_percent



eip_2023$hiv_not_linked_safety_2023[(eip_2023$hiv_closed_case_2023 == 1 & is.na(eip_2023$hiv_linked_2023)) &
                                      (eip_2023$ltc_hiv_prevented_rsn___5 == 1)] <- 1
table(eip_2023$hiv_not_linked_safety_2023)

table(eip_2023$hiv_not_linked_safety_2023)
hiv_not_linked_safety_2023 <- eip_2023[which(eip_2023$hiv_not_linked_safety_2023 == 1), ]
dim(hiv_not_linked_safety_2023)
hiv_not_linked_safety_2023 <- nrow(hiv_not_linked_safety_2023)
hiv_not_linked_safety_2023

hiv_not_linked_safety_2023_percent <- percent(hiv_not_linked_safety_2023/hiv_not_linked_2023, accuracy = 0.1)
hiv_not_linked_safety_2023_percent



eip_2023$hiv_not_linked_medical_2023[(eip_2023$hiv_closed_case_2023 == 1 & is.na(eip_2023$hiv_linked_2023)) &
                                       (eip_2023$ltc_hiv_prevented_rsn___6 == 1 |
                                          eip_2023$ltc_hiv_prevented_rsn___8)] <- 1
table(eip_2023$hiv_not_linked_medical_2023)

table(eip_2023$hiv_not_linked_medical_2023)
hiv_not_linked_medical_2023 <- eip_2023[which(eip_2023$hiv_not_linked_medical_2023 == 1), ]
dim(hiv_not_linked_medical_2023)
hiv_not_linked_medical_2023 <- nrow(hiv_not_linked_medical_2023)
hiv_not_linked_medical_2023

hiv_not_linked_medical_2023_percent <- percent(hiv_not_linked_medical_2023/hiv_not_linked_2023, accuracy = 0.1)
hiv_not_linked_medical_2023_percent



eip_2023$hiv_not_linked_contact_2023[(eip_2023$hiv_closed_case_2023 == 1 & is.na(eip_2023$hiv_linked_2023)) &
                                       (eip_2023$ltc_hiv_prevented_rsn___20 == 1)] <- 1
table(eip_2023$hiv_not_linked_contact_2023)

table(eip_2023$hiv_not_linked_contact_2023)
hiv_not_linked_contact_2023 <- eip_2023[which(eip_2023$hiv_not_linked_contact_2023 == 1), ]
dim(hiv_not_linked_contact_2023)
hiv_not_linked_contact_2023 <- nrow(hiv_not_linked_contact_2023)
hiv_not_linked_contact_2023

hiv_not_linked_contact_2023_percent <- percent(hiv_not_linked_contact_2023/hiv_not_linked_2023, accuracy = 0.1)
hiv_not_linked_contact_2023_percent



eip_2023$hiv_not_linked_language_2023[(eip_2023$hiv_closed_case_2023 == 1 & is.na(eip_2023$hiv_linked_2023)) &
                                        (eip_2023$ltc_hiv_prevented_rsn___9 == 1)] <- 1
table(eip_2023$hiv_not_linked_language_2023)

table(eip_2023$hiv_not_linked_language_2023)
hiv_not_linked_language_2023 <- eip_2023[which(eip_2023$hiv_not_linked_language_2023 == 1), ]
dim(hiv_not_linked_language_2023)
hiv_not_linked_language_2023 <- nrow(hiv_not_linked_language_2023)
hiv_not_linked_language_2023

hiv_not_linked_language_2023_percent <- percent(hiv_not_linked_language_2023/hiv_not_linked_2023, accuracy = 0.1)
hiv_not_linked_language_2023_percent



eip_2023$hiv_not_linked_other_2023[(eip_2023$hiv_closed_case_2023 == 1 & is.na(eip_2023$hiv_linked_2023)) &
                                     (eip_2023$ltc_hiv_prevented_rsn___0 == 1)] <- 1
table(eip_2023$hiv_not_linked_other_2023)

table(eip_2023$hiv_not_linked_other_2023)
hiv_not_linked_other_2023 <- eip_2023[which(eip_2023$hiv_not_linked_other_2023 == 1), ]
dim(hiv_not_linked_other_2023)
hiv_not_linked_other_2023 <- nrow(hiv_not_linked_other_2023)
hiv_not_linked_other_2023

hiv_not_linked_other_2023_percent <- percent(hiv_not_linked_other_2023/hiv_not_linked_2023, accuracy = 0.1)
hiv_not_linked_other_2023_percent




####################  2024 HIV Linkage Data  ####################

summary(eip$enc_date)
eip_2024 <- eip[which(eip$enc_date >= '2024-01-01' & eip$enc_date <= '2024-12-31'), ]
summary(eip_2024$enc_date)

table(eip_2024$plwha)
plwha_2024 <- eip_2024[which(eip_2024$plwha == 1), ]
dim(plwha_2024)
plwha_2024 <- nrow(plwha_2024)
plwha_2024


# HIV Linkage Data
table(eip_2024$ltc_services___1)
eip_2024$hiv_ltc_2024[eip_2024$ltc_services___1 == 1] <- 1
table(eip_2024$hiv_ltc_2024)

table(eip_2024$hiv_ltc_2024)
hiv_ltc_2024 <- eip_2024[which(eip_2024$hiv_ltc_2024 == 1), ]
dim(hiv_ltc_2024)
hiv_ltc_2024 <- nrow(hiv_ltc_2024)
hiv_ltc_2024

hiv_ltc_2024_percent <- percent(hiv_ltc_2024/plwha_2024, accuracy = 0.1)
hiv_ltc_2024_percent


# Ineligible HIV Linkage - Already Linked
table(eip_2024$ltc_hiv_declined_rsn___23)
table(eip_2024$ltc_hiv_prevented_rsn___16)
eip_2024$hiv_already_linked_2024[eip_2024$hiv_ltc_2024 == 1 &
                                   (eip_2024$ltc_hiv_declined_rsn___23 == 1 |
                                      eip_2024$ltc_hiv_prevented_rsn___16 == 1)] <- 1
table(eip_2024$hiv_already_linked_2024)

table(eip_2024$hiv_already_linked_2024)
hiv_already_linked_2024 <- eip_2024[which(eip_2024$hiv_already_linked_2024 == 1), ]
dim(hiv_already_linked_2024)
hiv_already_linked_2024 <- nrow(hiv_already_linked_2024)
hiv_already_linked_2024


# Ineligible HIV Linkage - Deceased
table(eip_2024$ltc_hiv_declined_rsn___35)
table(eip_2024$ltc_hiv_prevented_rsn___17)
eip_2024$hiv_deceased_2024[eip_2024$hiv_ltc_2024 == 1 &
                             (eip_2024$ltc_hiv_declined_rsn___35 == 1 |
                                eip_2024$ltc_hiv_prevented_rsn___17 == 1)] <- 1
table(eip_2024$hiv_deceased_2024)

table(eip_2024$hiv_deceased_2024)
hiv_deceased_2024 <- eip_2024[which(eip_2024$hiv_deceased_2024 == 1), ]
dim(hiv_deceased_2024)
hiv_deceased_2024 <- nrow(hiv_deceased_2024)
hiv_deceased_2024


# Ineligible HIV Linkage - Incarcerated
table(eip_2024$ltc_hiv_prevented_rsn___12)
eip_2024$hiv_incarcerated_2024[eip_2024$hiv_ltc_2024 == 1 &
                                 eip_2024$ltc_hiv_prevented_rsn___12 == 1] <- 1
table(eip_2024$hiv_incarcerated_2024)

table(eip_2024$hiv_incarcerated_2024)
hiv_incarcerated_2024 <- eip_2024[which(eip_2024$hiv_incarcerated_2024 == 1), ]
dim(hiv_incarcerated_2024)
hiv_incarcerated_2024 <- nrow(hiv_incarcerated_2024)
hiv_incarcerated_2024


# Ineligible HIV Linkage - Inability to Contact
table(eip_2024$ltc_hiv_final_ltc_status)
eip_2024$hiv_inability_to_contact_2024[eip_2024$hiv_ltc_2024 == 1 &
                                         eip_2024$ltc_hiv_prevented_rsn___19 == 1] <- 1
table(eip_2024$hiv_inability_to_contact_2024)

table(eip_2024$hiv_inability_to_contact_2024)
hiv_inability_to_contact_2024 <- eip_2024[which(eip_2024$hiv_inability_to_contact_2024 == 1), ]
dim(hiv_inability_to_contact_2024)
hiv_inability_to_contact_2024 <- nrow(hiv_inability_to_contact_2024)
hiv_inability_to_contact_2024


# Ineligible HIV Linkage - Declined Linkage Service
table(eip_2024$ltc_hiv_final_ltc_status)
eip_2024$hiv_linkage_declined_2024[(eip_2024$hiv_ltc_2024 == 1 &
                                      eip_2024$ltc_hiv_final_ltc_status == 2) &
                                     (is.na(eip_2024$hiv_already_linked_2024) &
                                        is.na(eip_2024$hiv_deceased_2024) &
                                        is.na(eip_2024$hiv_incarcerated_2024) &
                                        is.na(eip_2024$hiv_inability_to_contact_2024))] <- 1
table(eip_2024$hiv_linkage_declined_2024)

table(eip_2024$hiv_linkage_declined_2024)
hiv_linkage_declined_2024 <- eip_2024[which(eip_2024$hiv_linkage_declined_2024 == 1), ]
dim(hiv_linkage_declined_2024)
hiv_linkage_declined_2024 <- nrow(hiv_linkage_declined_2024)
hiv_linkage_declined_2024


# Ineligible HIV Linkage - Linkage in Progress
table(eip_2024$ltc_hiv_prevented_rsn___18)
eip_2024$hiv_ongoing_linkage_2024[eip_2024$hiv_ltc_2024 == 1 &
                                    eip_2024$ltc_hiv_prevented_rsn___18 == 1] <- 1
table(eip_2024$hiv_ongoing_linkage_2024)

table(eip_2024$hiv_ongoing_linkage_2024)
hiv_ongoing_linkage_2024 <- eip_2024[which(eip_2024$hiv_ongoing_linkage_2024 == 1), ]
dim(hiv_ongoing_linkage_2024)
hiv_ongoing_linkage_2024 <- nrow(hiv_ongoing_linkage_2024)
hiv_ongoing_linkage_2024


# HIV Ineligible Cases
eip_2024$hiv_ineligible_ltc_2024[eip_2024$hiv_already_linked_2024 == 1 |
                                   eip_2024$hiv_deceased_2024 == 1 |
                                   eip_2024$hiv_incarcerated_2024 == 1 |
                                   eip_2024$hiv_inability_to_contact_2024 == 1 |
                                   eip_2024$hiv_linkage_declined_2024 == 1 |
                                   eip_2024$hiv_ongoing_linkage_2024 == 1] <- 1
table(eip_2024$hiv_ineligible_ltc_2024)

table(eip_2024$hiv_ineligible_ltc_2024)
hiv_ineligible_ltc_2024 <- eip_2024[which(eip_2024$hiv_ineligible_ltc_2024 == 1), ]
dim(hiv_ineligible_ltc_2024)
hiv_ineligible_ltc_2024 <- nrow(hiv_ineligible_ltc_2024)
hiv_ineligible_ltc_2024

hiv_ineligible_ltc_2024_percent <- percent(hiv_ineligible_ltc_2024/hiv_ltc_2024, accuracy = 0.1)
hiv_ineligible_ltc_2024_percent

hiv_already_linked_2024_percent <- percent(hiv_already_linked_2024/hiv_ineligible_ltc_2024, accuracy = 0.1)
hiv_already_linked_2024_percent

hiv_deceased_2024_percent <- percent(hiv_deceased_2024/hiv_ineligible_ltc_2024, accuracy = 0.1)
hiv_deceased_2024_percent

hiv_incarcerated_2024_percent <- percent(hiv_incarcerated_2024/hiv_ineligible_ltc_2024, accuracy = 0.1)
hiv_incarcerated_2024_percent

hiv_inability_to_contact_2024_percent <- percent(hiv_inability_to_contact_2024/hiv_ineligible_ltc_2024, accuracy = 0.1)
hiv_inability_to_contact_2024_percent

hiv_linkage_declined_2024_percent <- percent(hiv_linkage_declined_2024/hiv_ineligible_ltc_2024, accuracy = 0.1)
hiv_linkage_declined_2024_percent

hiv_ongoing_linkage_2024_percent <- percent(hiv_ongoing_linkage_2024/hiv_ineligible_ltc_2024, accuracy = 0.1)
hiv_ongoing_linkage_2024_percent


# HIV Eligibility to be Linked
eip_2024$hiv_eligible_ltc_2024[eip_2024$hiv_ltc_2024 == 1 &
                                 (is.na(eip_2024$hiv_already_linked_2024) &
                                    is.na(eip_2024$hiv_deceased_2024) &
                                    is.na(eip_2024$hiv_incarcerated_2024) &
                                    is.na(eip_2024$hiv_inability_to_contact_2024) &
                                    is.na(eip_2024$hiv_linkage_declined_2024) &
                                    is.na(eip_2024$hiv_ongoing_linkage_2024))] <- 1
table(eip_2024$hiv_eligible_ltc_2024)

table(eip_2024$hiv_eligible_ltc_2024)
hiv_eligible_ltc_2024 <- eip_2024[which(eip_2024$hiv_eligible_ltc_2024 == 1), ]
dim(hiv_eligible_ltc_2024)
hiv_eligible_ltc_2024 <- nrow(hiv_eligible_ltc_2024)
hiv_eligible_ltc_2024

hiv_eligible_ltc_2024_percent <- percent(hiv_eligible_ltc_2024/hiv_ltc_2024, accuracy = 0.1)
hiv_eligible_ltc_2024_percent



table(eip_2024$hiv_eligible_ltc_2024, eip_2024$hiv_status)
eip_2024$hiv_new_eligible_ltc_2024[eip_2024$hiv_eligible_ltc_2024 == 1 &
                                     eip_2024$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2024$hiv_new_eligible_ltc_2024)

table(eip_2024$hiv_new_eligible_ltc_2024)
hiv_new_eligible_ltc_2024 <- eip_2024[which(eip_2024$hiv_new_eligible_ltc_2024 == 1), ]
dim(hiv_new_eligible_ltc_2024)
hiv_new_eligible_ltc_2024 <- nrow(hiv_new_eligible_ltc_2024)
hiv_new_eligible_ltc_2024

hiv_new_eligible_ltc_2024_percent <- percent(hiv_new_eligible_ltc_2024/hiv_eligible_ltc_2024, accuracy = 0.1)
hiv_new_eligible_ltc_2024_percent



table(eip_2024$hiv_eligible_ltc_2024, eip_2024$hiv_status)
eip_2024$hiv_prev_eligible_ltc_2024[eip_2024$hiv_eligible_ltc_2024 == 1 &
                                      eip_2024$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2024$hiv_prev_eligible_ltc_2024)

table(eip_2024$hiv_prev_eligible_ltc_2024)
hiv_prev_eligible_ltc_2024 <- eip_2024[which(eip_2024$hiv_prev_eligible_ltc_2024 == 1), ]
dim(hiv_prev_eligible_ltc_2024)
hiv_prev_eligible_ltc_2024 <- nrow(hiv_prev_eligible_ltc_2024)
hiv_prev_eligible_ltc_2024

hiv_prev_eligible_ltc_2024_percent <- percent(hiv_prev_eligible_ltc_2024/hiv_eligible_ltc_2024, accuracy = 0.1)
hiv_prev_eligible_ltc_2024_percent



table(eip_2024$hiv_eligible_ltc_2024, eip_2024$hiv_status)
eip_2024$hiv_unk_eligible_ltc_2024[(eip_2024$hiv_eligible_ltc_2024 == 1 &
                                      (eip_2024$hiv_status == 'Unknown HIV Status' |
                                         is.na(eip_2024$hiv_status)))] <- 1
table(eip_2024$hiv_unk_eligible_ltc_2024)

table(eip_2024$hiv_unk_eligible_ltc_2024)
hiv_unk_eligible_ltc_2024 <- eip_2024[which(eip_2024$hiv_unk_eligible_ltc_2024 == 1), ]
dim(hiv_unk_eligible_ltc_2024)
hiv_unk_eligible_ltc_2024 <- nrow(hiv_unk_eligible_ltc_2024)
hiv_unk_eligible_ltc_2024

hiv_unk_eligible_ltc_2024_percent <- percent(hiv_unk_eligible_ltc_2024/hiv_eligible_ltc_2024, accuracy = 0.1)
hiv_unk_eligible_ltc_2024_percent


# HIV Open/Closed Cases
table(eip_2024$ltc_hiv_open_case_calc)
eip_2024$hiv_in_progress_2024[eip_2024$hiv_eligible_ltc_2024 == 1 &
                                eip_2024$ltc_hiv_open_case_calc == 1] <- 1
table(eip_2024$hiv_in_progress_2024)

table(eip_2024$hiv_in_progress_2024)
hiv_in_progress_2024 <- eip_2024[which(eip_2024$hiv_in_progress_2024 == 1), ]
dim(hiv_in_progress_2024)
hiv_in_progress_2024 <- nrow(hiv_in_progress_2024)
hiv_in_progress_2024

hiv_in_progress_2024_percent <- percent(hiv_in_progress_2024/hiv_eligible_ltc_2024, accuracy = 0.1)
hiv_in_progress_2024_percent



table(eip_2024$hiv_in_progress_2024, eip_2024$hiv_status)
eip_2024$hiv_new_in_progress_2024[eip_2024$hiv_in_progress_2024 == 1 &
                                    eip_2024$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2024$hiv_new_in_progress_2024)

table(eip_2024$hiv_new_in_progress_2024)
hiv_new_in_progress_2024 <- eip_2024[which(eip_2024$hiv_new_in_progress_2024 == 1), ]
dim(hiv_new_in_progress_2024)
hiv_new_in_progress_2024 <- nrow(hiv_new_in_progress_2024)
hiv_new_in_progress_2024

hiv_new_in_progress_2024_percent <- percent(hiv_new_in_progress_2024/hiv_new_eligible_ltc_2024, accuracy = 0.1)
hiv_new_in_progress_2024_percent



table(eip_2024$hiv_in_progress_2024, eip_2024$hiv_status)
eip_2024$hiv_prev_in_progress_2024[eip_2024$hiv_in_progress_2024 == 1 &
                                     eip_2024$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2024$hiv_prev_in_progress_2024)

table(eip_2024$hiv_prev_in_progress_2024)
hiv_prev_in_progress_2024 <- eip_2024[which(eip_2024$hiv_prev_in_progress_2024 == 1), ]
dim(hiv_prev_in_progress_2024)
hiv_prev_in_progress_2024 <- nrow(hiv_prev_in_progress_2024)
hiv_prev_in_progress_2024

hiv_prev_in_progress_2024_percent <- percent(hiv_prev_in_progress_2024/hiv_prev_eligible_ltc_2024, accuracy = 0.1)
hiv_prev_in_progress_2024_percent



table(eip_2024$hiv_in_progress_2024, eip_2024$hiv_status)
eip_2024$hiv_unk_in_progress_2024[eip_2024$hiv_in_progress_2024 == 1 &
                                    (eip_2024$hiv_status == 'Unknown HIV Status' |
                                       is.na(eip_2024$hiv_status))] <- 1
table(eip_2024$hiv_unk_in_progress_2024)

table(eip_2024$hiv_unk_in_progress_2024)
hiv_unk_in_progress_2024 <- eip_2024[which(eip_2024$hiv_unk_in_progress_2024 == 1), ]
dim(hiv_unk_in_progress_2024)
hiv_unk_in_progress_2024 <- nrow(hiv_unk_in_progress_2024)
hiv_unk_in_progress_2024

hiv_unk_in_progress_2024_percent <- percent(hiv_unk_in_progress_2024/hiv_unk_eligible_ltc_2024, accuracy = 0.1)
hiv_unk_in_progress_2024_percent



table(eip_2024$hiv_eligible_ltc_2024, eip_2024$hiv_in_progress_2024)
eip_2024$hiv_closed_case_2024[eip_2024$hiv_eligible_ltc_2024 == 1 &
                                is.na(eip_2024$hiv_in_progress_2024)] <- 1
table(eip_2024$hiv_closed_case_2024)

table(eip_2024$hiv_closed_case_2024)
hiv_closed_case_2024 <- eip_2024[which(eip_2024$hiv_closed_case_2024 == 1), ]
dim(hiv_closed_case_2024)
hiv_closed_case_2024 <- nrow(hiv_closed_case_2024)
hiv_closed_case_2024

hiv_closed_case_2024_percent <- percent(hiv_closed_case_2024/hiv_eligible_ltc_2024, accuracy = 0.1)
hiv_closed_case_2024_percent



table(eip_2024$hiv_in_progress_2024)
eip_2024$hiv_ltc_days_open_2024 <- difftime(Sys.Date(), eip_2024$enc_date, units="days")
table(eip_2024$hiv_ltc_days_open_2024)
eip_2024$hiv_in_progress_90days_2024[eip_2024$hiv_in_progress_2024 == 1 &
                                       (eip_2024$hiv_ltc_days_open_2024 > 90)] <- 1
table(eip_2024$hiv_in_progress_90days_2024)

table(eip_2024$hiv_in_progress_90days_2024)
hiv_in_progress_90days_2024 <- eip_2024[which(eip_2024$hiv_in_progress_90days_2024 == 1), ]
dim(hiv_in_progress_90days_2024)
hiv_in_progress_90days_2024 <- nrow(hiv_in_progress_90days_2024)
hiv_in_progress_90days_2024

hiv_in_progress_90days_2024_percent <- percent(hiv_in_progress_90days_2024/hiv_in_progress_2024, accuracy = 0.1)
hiv_in_progress_90days_2024_percent


# HIV Cases Linked to Care
table(eip_2024$hiv_closed_case_2024, eip_2024$ltc_hiv_final_ltc_status)
eip_2024$hiv_linked_2024[eip_2024$hiv_closed_case_2024 == 1 &
                           eip_2024$ltc_hiv_final_ltc_status == 1] <- 1
table(eip_2024$hiv_linked_2024)

table(eip_2024$hiv_linked_2024)
hiv_linked_2024 <- eip_2024[which(eip_2024$hiv_linked_2024 == 1), ]
dim(hiv_linked_2024)
hiv_linked_2024 <- nrow(hiv_linked_2024)
hiv_linked_2024

hiv_linked_2024_gauge <- (hiv_linked_2024/hiv_closed_case_2024)*100
hiv_linked_2024_gauge
hiv_linked_2024_percent <- percent(hiv_linked_2024/hiv_closed_case_2024, accuracy = 0.1)
hiv_linked_2024_percent



table(eip_2024$hiv_status, eip_2024$hiv_eligible_ltc_2024)
table(eip_2024$hiv_linked_2024, eip_2024$hiv_status)
eip_2024$hiv_new_linked_2024[eip_2024$hiv_linked_2024 == 1 &
                               eip_2024$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2024$hiv_new_linked_2024)

table(eip_2024$hiv_new_linked_2024)
hiv_new_linked_2024 <- eip_2024[which(eip_2024$hiv_new_linked_2024 == 1), ]
dim(hiv_new_linked_2024)
hiv_new_linked_2024 <- nrow(hiv_new_linked_2024)
hiv_new_linked_2024

hiv_new_linked_2024_percent <- percent(hiv_new_linked_2024/hiv_new_eligible_ltc_2024, accuracy = 0.1)
hiv_new_linked_2024_percent



table(eip_2024$hiv_status, eip_2024$hiv_eligible_ltc_2024)
table(eip_2024$hiv_linked_2024, eip_2024$hiv_status)
eip_2024$hiv_prev_linked_2024[eip_2024$hiv_linked_2024 == 1 &
                                eip_2024$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2024$hiv_prev_linked_2024)

table(eip_2024$hiv_prev_linked_2024)
hiv_prev_linked_2024 <- eip_2024[which(eip_2024$hiv_prev_linked_2024 == 1), ]
dim(hiv_prev_linked_2024)
hiv_prev_linked_2024 <- nrow(hiv_prev_linked_2024)
hiv_prev_linked_2024

hiv_prev_linked_2024_percent <- percent(hiv_prev_linked_2024/hiv_prev_eligible_ltc_2024, accuracy = 0.1)
hiv_prev_linked_2024_percent



eip_2024$hiv_not_linked_2024[eip_2024$hiv_eligible_ltc_2024 == 1 & is.na(eip_2024$hiv_in_progress_2024) & is.na(eip_2024$hiv_linked_2024)] <- 1
table(eip_2024$hiv_not_linked_2024)

table(eip_2024$hiv_not_linked_2024)
hiv_not_linked_2024 <- eip_2024[which(eip_2024$hiv_not_linked_2024 == 1), ]
dim(hiv_not_linked_2024)
hiv_not_linked_2024 <- nrow(hiv_not_linked_2024)
hiv_not_linked_2024

hiv_not_linked_2024_percent <- percent(hiv_not_linked_2024/hiv_closed_case_2024, accuracy = 0.1)
hiv_not_linked_2024_percent



table(eip_2024$hiv_not_linked_2024, eip_2024$hiv_status)
eip_2024$hiv_new_not_linked_2024[eip_2024$hiv_not_linked_2024 == 1 &
                                   eip_2024$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2024$hiv_new_not_linked_2024)

table(eip_2024$hiv_new_not_linked_2024)
hiv_new_not_linked_2024 <- eip_2024[which(eip_2024$hiv_new_not_linked_2024 == 1), ]
dim(hiv_new_not_linked_2024)
hiv_new_not_linked_2024 <- nrow(hiv_new_not_linked_2024)
hiv_new_not_linked_2024

hiv_new_not_linked_2024_percent <- percent(hiv_new_not_linked_2024/hiv_new_eligible_ltc_2024, accuracy = 0.1)
hiv_new_not_linked_2024_percent



table(eip_2024$hiv_not_linked_2024, eip_2024$hiv_status)
eip_2024$hiv_prev_not_linked_2024[eip_2024$hiv_not_linked_2024 == 1 &
                                    eip_2024$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2024$hiv_prev_not_linked_2024)

table(eip_2024$hiv_prev_not_linked_2024)
hiv_prev_not_linked_2024 <- eip_2024[which(eip_2024$hiv_prev_not_linked_2024 == 1), ]
dim(hiv_prev_not_linked_2024)
hiv_prev_not_linked_2024 <- nrow(hiv_prev_not_linked_2024)
hiv_prev_not_linked_2024

hiv_prev_not_linked_2024_percent <- percent(hiv_prev_not_linked_2024/hiv_prev_eligible_ltc_2024, accuracy = 0.1)
hiv_prev_not_linked_2024_percent


# HIV Reasons Not Linked to Care
eip_2024$hiv_not_linked_med_staff_2024[(eip_2024$hiv_closed_case_2024 == 1 & is.na(eip_2024$hiv_linked_2024)) &
                                         (eip_2024$ltc_hiv_prevented_rsn___1 == 1 |
                                            eip_2024$ltc_hiv_prevented_rsn___2 == 1 |
                                            eip_2024$ltc_hiv_prevented_rsn___11 == 1)] <- 1
table(eip_2024$hiv_not_linked_med_staff_2024)

table(eip_2024$hiv_not_linked_med_staff_2024)
hiv_not_linked_med_staff_2024 <- eip_2024[which(eip_2024$hiv_not_linked_med_staff_2024 == 1), ]
dim(hiv_not_linked_med_staff_2024)
hiv_not_linked_med_staff_2024 <- nrow(hiv_not_linked_med_staff_2024)
hiv_not_linked_med_staff_2024

hiv_not_linked_med_staff_2024_percent <- percent(hiv_not_linked_med_staff_2024/hiv_not_linked_2024, accuracy = 0.1)
hiv_not_linked_med_staff_2024_percent



eip_2024$hiv_not_linked_family_2024[(eip_2024$hiv_closed_case_2024 == 1 & is.na(eip_2024$hiv_linked_2024)) &
                                      (eip_2024$ltc_hiv_prevented_rsn___3 == 1)] <- 1
table(eip_2024$hiv_not_linked_family_2024)

table(eip_2024$hiv_not_linked_family_2024)
hiv_not_linked_family_2024 <- eip_2024[which(eip_2024$hiv_not_linked_family_2024 == 1), ]
dim(hiv_not_linked_family_2024)
hiv_not_linked_family_2024 <- nrow(hiv_not_linked_family_2024)
hiv_not_linked_family_2024

hiv_not_linked_family_2024_percent <- percent(hiv_not_linked_family_2024/hiv_not_linked_2024, accuracy = 0.1)
hiv_not_linked_family_2024_percent



eip_2024$hiv_not_linked_not_talking_2024[(eip_2024$hiv_closed_case_2024 == 1 & is.na(eip_2024$hiv_linked_2024)) &
                                           (eip_2024$ltc_hiv_prevented_rsn___4 == 1)] <- 1
table(eip_2024$hiv_not_linked_not_talking_2024)

table(eip_2024$hiv_not_linked_not_talking_2024)
hiv_not_linked_not_talking_2024 <- eip_2024[which(eip_2024$hiv_not_linked_not_talking_2024 == 1), ]
dim(hiv_not_linked_not_talking_2024)
hiv_not_linked_not_talking_2024 <- nrow(hiv_not_linked_not_talking_2024)
hiv_not_linked_not_talking_2024

hiv_not_linked_not_talking_2024_percent <- percent(hiv_not_linked_not_talking_2024/hiv_not_linked_2024, accuracy = 0.1)
hiv_not_linked_not_talking_2024_percent



eip_2024$hiv_not_linked_safety_2024[(eip_2024$hiv_closed_case_2024 == 1 & is.na(eip_2024$hiv_linked_2024)) &
                                      (eip_2024$ltc_hiv_prevented_rsn___5 == 1)] <- 1
table(eip_2024$hiv_not_linked_safety_2024)

table(eip_2024$hiv_not_linked_safety_2024)
hiv_not_linked_safety_2024 <- eip_2024[which(eip_2024$hiv_not_linked_safety_2024 == 1), ]
dim(hiv_not_linked_safety_2024)
hiv_not_linked_safety_2024 <- nrow(hiv_not_linked_safety_2024)
hiv_not_linked_safety_2024

hiv_not_linked_safety_2024_percent <- percent(hiv_not_linked_safety_2024/hiv_not_linked_2024, accuracy = 0.1)
hiv_not_linked_safety_2024_percent



eip_2024$hiv_not_linked_medical_2024[(eip_2024$hiv_closed_case_2024 == 1 & is.na(eip_2024$hiv_linked_2024)) &
                                       (eip_2024$ltc_hiv_prevented_rsn___6 == 1 |
                                          eip_2024$ltc_hiv_prevented_rsn___8)] <- 1
table(eip_2024$hiv_not_linked_medical_2024)

table(eip_2024$hiv_not_linked_medical_2024)
hiv_not_linked_medical_2024 <- eip_2024[which(eip_2024$hiv_not_linked_medical_2024 == 1), ]
dim(hiv_not_linked_medical_2024)
hiv_not_linked_medical_2024 <- nrow(hiv_not_linked_medical_2024)
hiv_not_linked_medical_2024

hiv_not_linked_medical_2024_percent <- percent(hiv_not_linked_medical_2024/hiv_not_linked_2024, accuracy = 0.1)
hiv_not_linked_medical_2024_percent



eip_2024$hiv_not_linked_contact_2024[(eip_2024$hiv_closed_case_2024 == 1 & is.na(eip_2024$hiv_linked_2024)) &
                                       (eip_2024$ltc_hiv_prevented_rsn___20 == 1)] <- 1
table(eip_2024$hiv_not_linked_contact_2024)

table(eip_2024$hiv_not_linked_contact_2024)
hiv_not_linked_contact_2024 <- eip_2024[which(eip_2024$hiv_not_linked_contact_2024 == 1), ]
dim(hiv_not_linked_contact_2024)
hiv_not_linked_contact_2024 <- nrow(hiv_not_linked_contact_2024)
hiv_not_linked_contact_2024

hiv_not_linked_contact_2024_percent <- percent(hiv_not_linked_contact_2024/hiv_not_linked_2024, accuracy = 0.1)
hiv_not_linked_contact_2024_percent



eip_2024$hiv_not_linked_language_2024[(eip_2024$hiv_closed_case_2024 == 1 & is.na(eip_2024$hiv_linked_2024)) &
                                        (eip_2024$ltc_hiv_prevented_rsn___9 == 1)] <- 1
table(eip_2024$hiv_not_linked_language_2024)

table(eip_2024$hiv_not_linked_language_2024)
hiv_not_linked_language_2024 <- eip_2024[which(eip_2024$hiv_not_linked_language_2024 == 1), ]
dim(hiv_not_linked_language_2024)
hiv_not_linked_language_2024 <- nrow(hiv_not_linked_language_2024)
hiv_not_linked_language_2024

hiv_not_linked_language_2024_percent <- percent(hiv_not_linked_language_2024/hiv_not_linked_2024, accuracy = 0.1)
hiv_not_linked_language_2024_percent



eip_2024$hiv_not_linked_other_2024[(eip_2024$hiv_closed_case_2024 == 1 & is.na(eip_2024$hiv_linked_2024)) &
                                     (eip_2024$ltc_hiv_prevented_rsn___0 == 1)] <- 1
table(eip_2024$hiv_not_linked_other_2024)

table(eip_2024$hiv_not_linked_other_2024)
hiv_not_linked_other_2024 <- eip_2024[which(eip_2024$hiv_not_linked_other_2024 == 1), ]
dim(hiv_not_linked_other_2024)
hiv_not_linked_other_2024 <- nrow(hiv_not_linked_other_2024)
hiv_not_linked_other_2024

hiv_not_linked_other_2024_percent <- percent(hiv_not_linked_other_2024/hiv_not_linked_2024, accuracy = 0.1)
hiv_not_linked_other_2024_percent




####################  2025 HIV Linkage Data  ####################

summary(eip$enc_date)
eip_2025 <- eip[which(eip$enc_date >= '2025-01-01' & eip$enc_date <= '2025-12-31'), ]
summary(eip_2025$enc_date)

table(eip_2025$plwha)
plwha_2025 <- eip_2025[which(eip_2025$plwha == 1), ]
dim(plwha_2025)
plwha_2025 <- nrow(plwha_2025)
plwha_2025


# HIV Linkage Data
table(eip_2025$ltc_services___1)
eip_2025$hiv_ltc_2025[eip_2025$ltc_services___1 == 1] <- 1
table(eip_2025$hiv_ltc_2025)

table(eip_2025$hiv_ltc_2025)
hiv_ltc_2025 <- eip_2025[which(eip_2025$hiv_ltc_2025 == 1), ]
dim(hiv_ltc_2025)
hiv_ltc_2025 <- nrow(hiv_ltc_2025)
hiv_ltc_2025

hiv_ltc_2025_percent <- percent(hiv_ltc_2025/plwha_2025, accuracy = 0.1)
hiv_ltc_2025_percent


# Ineligible HIV Linkage - Already Linked
table(eip_2025$ltc_hiv_declined_rsn___23)
table(eip_2025$ltc_hiv_prevented_rsn___16)
eip_2025$hiv_already_linked_2025[eip_2025$hiv_ltc_2025 == 1 &
                                   (eip_2025$ltc_hiv_declined_rsn___23 == 1 |
                                      eip_2025$ltc_hiv_prevented_rsn___16 == 1)] <- 1
table(eip_2025$hiv_already_linked_2025)

table(eip_2025$hiv_already_linked_2025)
hiv_already_linked_2025 <- eip_2025[which(eip_2025$hiv_already_linked_2025 == 1), ]
dim(hiv_already_linked_2025)
hiv_already_linked_2025 <- nrow(hiv_already_linked_2025)
hiv_already_linked_2025


# Ineligible HIV Linkage - Deceased
table(eip_2025$ltc_hiv_declined_rsn___35)
table(eip_2025$ltc_hiv_prevented_rsn___17)
eip_2025$hiv_deceased_2025[eip_2025$hiv_ltc_2025 == 1 &
                             (eip_2025$ltc_hiv_declined_rsn___35 == 1 |
                                eip_2025$ltc_hiv_prevented_rsn___17 == 1)] <- 1
table(eip_2025$hiv_deceased_2025)

table(eip_2025$hiv_deceased_2025)
hiv_deceased_2025 <- eip_2025[which(eip_2025$hiv_deceased_2025 == 1), ]
dim(hiv_deceased_2025)
hiv_deceased_2025 <- nrow(hiv_deceased_2025)
hiv_deceased_2025


# Ineligible HIV Linkage - Incarcerated
table(eip_2025$ltc_hiv_prevented_rsn___12)
eip_2025$hiv_incarcerated_2025[eip_2025$hiv_ltc_2025 == 1 &
                                 eip_2025$ltc_hiv_prevented_rsn___12 == 1] <- 1
table(eip_2025$hiv_incarcerated_2025)

table(eip_2025$hiv_incarcerated_2025)
hiv_incarcerated_2025 <- eip_2025[which(eip_2025$hiv_incarcerated_2025 == 1), ]
dim(hiv_incarcerated_2025)
hiv_incarcerated_2025 <- nrow(hiv_incarcerated_2025)
hiv_incarcerated_2025


# Ineligible HIV Linkage - Inability to Contact
table(eip_2025$ltc_hiv_final_ltc_status)
eip_2025$hiv_inability_to_contact_2025[eip_2025$hiv_ltc_2025 == 1 &
                                         eip_2025$ltc_hiv_prevented_rsn___19 == 1] <- 1
table(eip_2025$hiv_inability_to_contact_2025)

table(eip_2025$hiv_inability_to_contact_2025)
hiv_inability_to_contact_2025 <- eip_2025[which(eip_2025$hiv_inability_to_contact_2025 == 1), ]
dim(hiv_inability_to_contact_2025)
hiv_inability_to_contact_2025 <- nrow(hiv_inability_to_contact_2025)
hiv_inability_to_contact_2025


# Ineligible HIV Linkage - Declined Linkage Service
table(eip_2025$ltc_hiv_final_ltc_status)
eip_2025$hiv_linkage_declined_2025[(eip_2025$hiv_ltc_2025 == 1 &
                                      eip_2025$ltc_hiv_final_ltc_status == 2) &
                                     (is.na(eip_2025$hiv_already_linked_2025) &
                                        is.na(eip_2025$hiv_deceased_2025) &
                                        is.na(eip_2025$hiv_incarcerated_2025) &
                                        is.na(eip_2025$hiv_inability_to_contact_2025))] <- 1
table(eip_2025$hiv_linkage_declined_2025)

table(eip_2025$hiv_linkage_declined_2025)
hiv_linkage_declined_2025 <- eip_2025[which(eip_2025$hiv_linkage_declined_2025 == 1), ]
dim(hiv_linkage_declined_2025)
hiv_linkage_declined_2025 <- nrow(hiv_linkage_declined_2025)
hiv_linkage_declined_2025


# Ineligible HIV Linkage - Linkage in Progress
table(eip_2025$ltc_hiv_prevented_rsn___18)
eip_2025$hiv_ongoing_linkage_2025[eip_2025$hiv_ltc_2025 == 1 &
                                    eip_2025$ltc_hiv_prevented_rsn___18 == 1] <- 1
table(eip_2025$hiv_ongoing_linkage_2025)

table(eip_2025$hiv_ongoing_linkage_2025)
hiv_ongoing_linkage_2025 <- eip_2025[which(eip_2025$hiv_ongoing_linkage_2025 == 1), ]
dim(hiv_ongoing_linkage_2025)
hiv_ongoing_linkage_2025 <- nrow(hiv_ongoing_linkage_2025)
hiv_ongoing_linkage_2025


# HIV Ineligible Cases
eip_2025$hiv_ineligible_ltc_2025[eip_2025$hiv_already_linked_2025 == 1 |
                                   eip_2025$hiv_deceased_2025 == 1 |
                                   eip_2025$hiv_incarcerated_2025 == 1 |
                                   eip_2025$hiv_inability_to_contact_2025 == 1 |
                                   eip_2025$hiv_linkage_declined_2025 == 1 |
                                   eip_2025$hiv_ongoing_linkage_2025 == 1] <- 1
table(eip_2025$hiv_ineligible_ltc_2025)

table(eip_2025$hiv_ineligible_ltc_2025)
hiv_ineligible_ltc_2025 <- eip_2025[which(eip_2025$hiv_ineligible_ltc_2025 == 1), ]
dim(hiv_ineligible_ltc_2025)
hiv_ineligible_ltc_2025 <- nrow(hiv_ineligible_ltc_2025)
hiv_ineligible_ltc_2025

hiv_ineligible_ltc_2025_percent <- percent(hiv_ineligible_ltc_2025/hiv_ltc_2025, accuracy = 0.1)
hiv_ineligible_ltc_2025_percent

hiv_already_linked_2025_percent <- percent(hiv_already_linked_2025/hiv_ineligible_ltc_2025, accuracy = 0.1)
hiv_already_linked_2025_percent

hiv_deceased_2025_percent <- percent(hiv_deceased_2025/hiv_ineligible_ltc_2025, accuracy = 0.1)
hiv_deceased_2025_percent

hiv_incarcerated_2025_percent <- percent(hiv_incarcerated_2025/hiv_ineligible_ltc_2025, accuracy = 0.1)
hiv_incarcerated_2025_percent

hiv_inability_to_contact_2025_percent <- percent(hiv_inability_to_contact_2025/hiv_ineligible_ltc_2025, accuracy = 0.1)
hiv_inability_to_contact_2025_percent

hiv_linkage_declined_2025_percent <- percent(hiv_linkage_declined_2025/hiv_ineligible_ltc_2025, accuracy = 0.1)
hiv_linkage_declined_2025_percent

hiv_ongoing_linkage_2025_percent <- percent(hiv_ongoing_linkage_2025/hiv_ineligible_ltc_2025, accuracy = 0.1)
hiv_ongoing_linkage_2025_percent


# HIV Eligibility to be Linked
eip_2025$hiv_eligible_ltc_2025[eip_2025$hiv_ltc_2025 == 1 &
                                 (is.na(eip_2025$hiv_already_linked_2025) &
                                    is.na(eip_2025$hiv_deceased_2025) &
                                    is.na(eip_2025$hiv_incarcerated_2025) &
                                    is.na(eip_2025$hiv_inability_to_contact_2025) &
                                    is.na(eip_2025$hiv_linkage_declined_2025) &
                                    is.na(eip_2025$hiv_ongoing_linkage_2025))] <- 1
table(eip_2025$hiv_eligible_ltc_2025)

table(eip_2025$hiv_eligible_ltc_2025)
hiv_eligible_ltc_2025 <- eip_2025[which(eip_2025$hiv_eligible_ltc_2025 == 1), ]
dim(hiv_eligible_ltc_2025)
hiv_eligible_ltc_2025 <- nrow(hiv_eligible_ltc_2025)
hiv_eligible_ltc_2025

hiv_eligible_ltc_2025_percent <- percent(hiv_eligible_ltc_2025/hiv_ltc_2025, accuracy = 0.1)
hiv_eligible_ltc_2025_percent



table(eip_2025$hiv_eligible_ltc_2025, eip_2025$hiv_status)
eip_2025$hiv_new_eligible_ltc_2025[eip_2025$hiv_eligible_ltc_2025 == 1 &
                                     eip_2025$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2025$hiv_new_eligible_ltc_2025)

table(eip_2025$hiv_new_eligible_ltc_2025)
hiv_new_eligible_ltc_2025 <- eip_2025[which(eip_2025$hiv_new_eligible_ltc_2025 == 1), ]
dim(hiv_new_eligible_ltc_2025)
hiv_new_eligible_ltc_2025 <- nrow(hiv_new_eligible_ltc_2025)
hiv_new_eligible_ltc_2025

hiv_new_eligible_ltc_2025_percent <- percent(hiv_new_eligible_ltc_2025/hiv_eligible_ltc_2025, accuracy = 0.1)
hiv_new_eligible_ltc_2025_percent



table(eip_2025$hiv_eligible_ltc_2025, eip_2025$hiv_status)
eip_2025$hiv_prev_eligible_ltc_2025[eip_2025$hiv_eligible_ltc_2025 == 1 &
                                      eip_2025$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2025$hiv_prev_eligible_ltc_2025)

table(eip_2025$hiv_prev_eligible_ltc_2025)
hiv_prev_eligible_ltc_2025 <- eip_2025[which(eip_2025$hiv_prev_eligible_ltc_2025 == 1), ]
dim(hiv_prev_eligible_ltc_2025)
hiv_prev_eligible_ltc_2025 <- nrow(hiv_prev_eligible_ltc_2025)
hiv_prev_eligible_ltc_2025

hiv_prev_eligible_ltc_2025_percent <- percent(hiv_prev_eligible_ltc_2025/hiv_eligible_ltc_2025, accuracy = 0.1)
hiv_prev_eligible_ltc_2025_percent



table(eip_2025$hiv_eligible_ltc_2025, eip_2025$hiv_status)
eip_2025$hiv_unk_eligible_ltc_2025[(eip_2025$hiv_eligible_ltc_2025 == 1 &
                                      (eip_2025$hiv_status == 'Unknown HIV Status' |
                                         is.na(eip_2025$hiv_status)))] <- 1
table(eip_2025$hiv_unk_eligible_ltc_2025)

table(eip_2025$hiv_unk_eligible_ltc_2025)
hiv_unk_eligible_ltc_2025 <- eip_2025[which(eip_2025$hiv_unk_eligible_ltc_2025 == 1), ]
dim(hiv_unk_eligible_ltc_2025)
hiv_unk_eligible_ltc_2025 <- nrow(hiv_unk_eligible_ltc_2025)
hiv_unk_eligible_ltc_2025

hiv_unk_eligible_ltc_2025_percent <- percent(hiv_unk_eligible_ltc_2025/hiv_eligible_ltc_2025, accuracy = 0.1)
hiv_unk_eligible_ltc_2025_percent


# HIV Open/Closed Cases
table(eip_2025$ltc_hiv_open_case_calc)
eip_2025$hiv_in_progress_2025[eip_2025$hiv_eligible_ltc_2025 == 1 &
                                eip_2025$ltc_hiv_open_case_calc == 1] <- 1
table(eip_2025$hiv_in_progress_2025)

table(eip_2025$hiv_in_progress_2025)
hiv_in_progress_2025 <- eip_2025[which(eip_2025$hiv_in_progress_2025 == 1), ]
dim(hiv_in_progress_2025)
hiv_in_progress_2025 <- nrow(hiv_in_progress_2025)
hiv_in_progress_2025

hiv_in_progress_2025_percent <- percent(hiv_in_progress_2025/hiv_eligible_ltc_2025, accuracy = 0.1)
hiv_in_progress_2025_percent



table(eip_2025$hiv_in_progress_2025, eip_2025$hiv_status)
eip_2025$hiv_new_in_progress_2025[eip_2025$hiv_in_progress_2025 == 1 &
                                    eip_2025$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2025$hiv_new_in_progress_2025)

table(eip_2025$hiv_new_in_progress_2025)
hiv_new_in_progress_2025 <- eip_2025[which(eip_2025$hiv_new_in_progress_2025 == 1), ]
dim(hiv_new_in_progress_2025)
hiv_new_in_progress_2025 <- nrow(hiv_new_in_progress_2025)
hiv_new_in_progress_2025

hiv_new_in_progress_2025_percent <- percent(hiv_new_in_progress_2025/hiv_new_eligible_ltc_2025, accuracy = 0.1)
hiv_new_in_progress_2025_percent



table(eip_2025$hiv_in_progress_2025, eip_2025$hiv_status)
eip_2025$hiv_prev_in_progress_2025[eip_2025$hiv_in_progress_2025 == 1 &
                                     eip_2025$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2025$hiv_prev_in_progress_2025)

table(eip_2025$hiv_prev_in_progress_2025)
hiv_prev_in_progress_2025 <- eip_2025[which(eip_2025$hiv_prev_in_progress_2025 == 1), ]
dim(hiv_prev_in_progress_2025)
hiv_prev_in_progress_2025 <- nrow(hiv_prev_in_progress_2025)
hiv_prev_in_progress_2025

hiv_prev_in_progress_2025_percent <- percent(hiv_prev_in_progress_2025/hiv_prev_eligible_ltc_2025, accuracy = 0.1)
hiv_prev_in_progress_2025_percent



table(eip_2025$hiv_in_progress_2025, eip_2025$hiv_status)
eip_2025$hiv_unk_in_progress_2025[eip_2025$hiv_in_progress_2025 == 1 &
                                    (eip_2025$hiv_status == 'Unknown HIV Status' |
                                       is.na(eip_2025$hiv_status))] <- 1
table(eip_2025$hiv_unk_in_progress_2025)

table(eip_2025$hiv_unk_in_progress_2025)
hiv_unk_in_progress_2025 <- eip_2025[which(eip_2025$hiv_unk_in_progress_2025 == 1), ]
dim(hiv_unk_in_progress_2025)
hiv_unk_in_progress_2025 <- nrow(hiv_unk_in_progress_2025)
hiv_unk_in_progress_2025

hiv_unk_in_progress_2025_percent <- percent(hiv_unk_in_progress_2025/hiv_unk_eligible_ltc_2025, accuracy = 0.1)
hiv_unk_in_progress_2025_percent



table(eip_2025$hiv_eligible_ltc_2025, eip_2025$hiv_in_progress_2025)
eip_2025$hiv_closed_case_2025[eip_2025$hiv_eligible_ltc_2025 == 1 &
                                is.na(eip_2025$hiv_in_progress_2025)] <- 1
table(eip_2025$hiv_closed_case_2025)

table(eip_2025$hiv_closed_case_2025)
hiv_closed_case_2025 <- eip_2025[which(eip_2025$hiv_closed_case_2025 == 1), ]
dim(hiv_closed_case_2025)
hiv_closed_case_2025 <- nrow(hiv_closed_case_2025)
hiv_closed_case_2025

hiv_closed_case_2025_percent <- percent(hiv_closed_case_2025/hiv_eligible_ltc_2025, accuracy = 0.1)
hiv_closed_case_2025_percent



table(eip_2025$hiv_in_progress_2025)
eip_2025$hiv_ltc_days_open_2025 <- difftime(Sys.Date(), eip_2025$enc_date, units="days")
table(eip_2025$hiv_ltc_days_open_2025)
eip_2025$hiv_in_progress_90days_2025[eip_2025$hiv_in_progress_2025 == 1 &
                                       (eip_2025$hiv_ltc_days_open_2025 > 90)] <- 1
table(eip_2025$hiv_in_progress_90days_2025)

table(eip_2025$hiv_in_progress_90days_2025)
hiv_in_progress_90days_2025 <- eip_2025[which(eip_2025$hiv_in_progress_90days_2025 == 1), ]
dim(hiv_in_progress_90days_2025)
hiv_in_progress_90days_2025 <- nrow(hiv_in_progress_90days_2025)
hiv_in_progress_90days_2025

hiv_in_progress_90days_2025_percent <- percent(hiv_in_progress_90days_2025/hiv_in_progress_2025, accuracy = 0.1)
hiv_in_progress_90days_2025_percent


# HIV Cases Linked to Care
table(eip_2025$hiv_closed_case_2025, eip_2025$ltc_hiv_final_ltc_status)
eip_2025$hiv_linked_2025[eip_2025$hiv_closed_case_2025 == 1 &
                           eip_2025$ltc_hiv_final_ltc_status == 1] <- 1
table(eip_2025$hiv_linked_2025)

table(eip_2025$hiv_linked_2025)
hiv_linked_2025 <- eip_2025[which(eip_2025$hiv_linked_2025 == 1), ]
dim(hiv_linked_2025)
hiv_linked_2025 <- nrow(hiv_linked_2025)
hiv_linked_2025

hiv_linked_2025_gauge <- (hiv_linked_2025/hiv_closed_case_2025)*100
hiv_linked_2025_gauge
hiv_linked_2025_percent <- percent(hiv_linked_2025/hiv_closed_case_2025, accuracy = 0.1)
hiv_linked_2025_percent



table(eip_2025$hiv_status, eip_2025$hiv_eligible_ltc_2025)
table(eip_2025$hiv_linked_2025, eip_2025$hiv_status)
eip_2025$hiv_new_linked_2025[eip_2025$hiv_linked_2025 == 1 &
                               eip_2025$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2025$hiv_new_linked_2025)

table(eip_2025$hiv_new_linked_2025)
hiv_new_linked_2025 <- eip_2025[which(eip_2025$hiv_new_linked_2025 == 1), ]
dim(hiv_new_linked_2025)
hiv_new_linked_2025 <- nrow(hiv_new_linked_2025)
hiv_new_linked_2025

hiv_new_linked_2025_percent <- percent(hiv_new_linked_2025/hiv_new_eligible_ltc_2025, accuracy = 0.1)
hiv_new_linked_2025_percent



table(eip_2025$hiv_status, eip_2025$hiv_eligible_ltc_2025)
table(eip_2025$hiv_linked_2025, eip_2025$hiv_status)
eip_2025$hiv_prev_linked_2025[eip_2025$hiv_linked_2025 == 1 &
                                eip_2025$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2025$hiv_prev_linked_2025)

table(eip_2025$hiv_prev_linked_2025)
hiv_prev_linked_2025 <- eip_2025[which(eip_2025$hiv_prev_linked_2025 == 1), ]
dim(hiv_prev_linked_2025)
hiv_prev_linked_2025 <- nrow(hiv_prev_linked_2025)
hiv_prev_linked_2025

hiv_prev_linked_2025_percent <- percent(hiv_prev_linked_2025/hiv_prev_eligible_ltc_2025, accuracy = 0.1)
hiv_prev_linked_2025_percent



eip_2025$hiv_not_linked_2025[eip_2025$hiv_eligible_ltc_2025 == 1 & is.na(eip_2025$hiv_in_progress_2025) & is.na(eip_2025$hiv_linked_2025)] <- 1
table(eip_2025$hiv_not_linked_2025)

table(eip_2025$hiv_not_linked_2025)
hiv_not_linked_2025 <- eip_2025[which(eip_2025$hiv_not_linked_2025 == 1), ]
dim(hiv_not_linked_2025)
hiv_not_linked_2025 <- nrow(hiv_not_linked_2025)
hiv_not_linked_2025

hiv_not_linked_2025_percent <- percent(hiv_not_linked_2025/hiv_closed_case_2025, accuracy = 0.1)
hiv_not_linked_2025_percent



table(eip_2025$hiv_not_linked_2025, eip_2025$hiv_status)
eip_2025$hiv_new_not_linked_2025[eip_2025$hiv_not_linked_2025 == 1 &
                                   eip_2025$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2025$hiv_new_not_linked_2025)

table(eip_2025$hiv_new_not_linked_2025)
hiv_new_not_linked_2025 <- eip_2025[which(eip_2025$hiv_new_not_linked_2025 == 1), ]
dim(hiv_new_not_linked_2025)
hiv_new_not_linked_2025 <- nrow(hiv_new_not_linked_2025)
hiv_new_not_linked_2025

hiv_new_not_linked_2025_percent <- percent(hiv_new_not_linked_2025/hiv_new_eligible_ltc_2025, accuracy = 0.1)
hiv_new_not_linked_2025_percent



table(eip_2025$hiv_not_linked_2025, eip_2025$hiv_status)
eip_2025$hiv_prev_not_linked_2025[eip_2025$hiv_not_linked_2025 == 1 &
                                    eip_2025$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2025$hiv_prev_not_linked_2025)

table(eip_2025$hiv_prev_not_linked_2025)
hiv_prev_not_linked_2025 <- eip_2025[which(eip_2025$hiv_prev_not_linked_2025 == 1), ]
dim(hiv_prev_not_linked_2025)
hiv_prev_not_linked_2025 <- nrow(hiv_prev_not_linked_2025)
hiv_prev_not_linked_2025

hiv_prev_not_linked_2025_percent <- percent(hiv_prev_not_linked_2025/hiv_prev_eligible_ltc_2025, accuracy = 0.1)
hiv_prev_not_linked_2025_percent


# HIV Reasons Not Linked to Care
eip_2025$hiv_not_linked_med_staff_2025[(eip_2025$hiv_closed_case_2025 == 1 & is.na(eip_2025$hiv_linked_2025)) &
                                         (eip_2025$ltc_hiv_prevented_rsn___1 == 1 |
                                            eip_2025$ltc_hiv_prevented_rsn___2 == 1 |
                                            eip_2025$ltc_hiv_prevented_rsn___11 == 1)] <- 1
table(eip_2025$hiv_not_linked_med_staff_2025)

table(eip_2025$hiv_not_linked_med_staff_2025)
hiv_not_linked_med_staff_2025 <- eip_2025[which(eip_2025$hiv_not_linked_med_staff_2025 == 1), ]
dim(hiv_not_linked_med_staff_2025)
hiv_not_linked_med_staff_2025 <- nrow(hiv_not_linked_med_staff_2025)
hiv_not_linked_med_staff_2025

hiv_not_linked_med_staff_2025_percent <- percent(hiv_not_linked_med_staff_2025/hiv_not_linked_2025, accuracy = 0.1)
hiv_not_linked_med_staff_2025_percent



eip_2025$hiv_not_linked_family_2025[(eip_2025$hiv_closed_case_2025 == 1 & is.na(eip_2025$hiv_linked_2025)) &
                                      (eip_2025$ltc_hiv_prevented_rsn___3 == 1)] <- 1
table(eip_2025$hiv_not_linked_family_2025)

table(eip_2025$hiv_not_linked_family_2025)
hiv_not_linked_family_2025 <- eip_2025[which(eip_2025$hiv_not_linked_family_2025 == 1), ]
dim(hiv_not_linked_family_2025)
hiv_not_linked_family_2025 <- nrow(hiv_not_linked_family_2025)
hiv_not_linked_family_2025

hiv_not_linked_family_2025_percent <- percent(hiv_not_linked_family_2025/hiv_not_linked_2025, accuracy = 0.1)
hiv_not_linked_family_2025_percent



eip_2025$hiv_not_linked_not_talking_2025[(eip_2025$hiv_closed_case_2025 == 1 & is.na(eip_2025$hiv_linked_2025)) &
                                           (eip_2025$ltc_hiv_prevented_rsn___4 == 1)] <- 1
table(eip_2025$hiv_not_linked_not_talking_2025)

table(eip_2025$hiv_not_linked_not_talking_2025)
hiv_not_linked_not_talking_2025 <- eip_2025[which(eip_2025$hiv_not_linked_not_talking_2025 == 1), ]
dim(hiv_not_linked_not_talking_2025)
hiv_not_linked_not_talking_2025 <- nrow(hiv_not_linked_not_talking_2025)
hiv_not_linked_not_talking_2025

hiv_not_linked_not_talking_2025_percent <- percent(hiv_not_linked_not_talking_2025/hiv_not_linked_2025, accuracy = 0.1)
hiv_not_linked_not_talking_2025_percent



eip_2025$hiv_not_linked_safety_2025[(eip_2025$hiv_closed_case_2025 == 1 & is.na(eip_2025$hiv_linked_2025)) &
                                      (eip_2025$ltc_hiv_prevented_rsn___5 == 1)] <- 1
table(eip_2025$hiv_not_linked_safety_2025)

table(eip_2025$hiv_not_linked_safety_2025)
hiv_not_linked_safety_2025 <- eip_2025[which(eip_2025$hiv_not_linked_safety_2025 == 1), ]
dim(hiv_not_linked_safety_2025)
hiv_not_linked_safety_2025 <- nrow(hiv_not_linked_safety_2025)
hiv_not_linked_safety_2025

hiv_not_linked_safety_2025_percent <- percent(hiv_not_linked_safety_2025/hiv_not_linked_2025, accuracy = 0.1)
hiv_not_linked_safety_2025_percent



eip_2025$hiv_not_linked_medical_2025[(eip_2025$hiv_closed_case_2025 == 1 & is.na(eip_2025$hiv_linked_2025)) &
                                       (eip_2025$ltc_hiv_prevented_rsn___6 == 1 |
                                          eip_2025$ltc_hiv_prevented_rsn___8)] <- 1
table(eip_2025$hiv_not_linked_medical_2025)

table(eip_2025$hiv_not_linked_medical_2025)
hiv_not_linked_medical_2025 <- eip_2025[which(eip_2025$hiv_not_linked_medical_2025 == 1), ]
dim(hiv_not_linked_medical_2025)
hiv_not_linked_medical_2025 <- nrow(hiv_not_linked_medical_2025)
hiv_not_linked_medical_2025

hiv_not_linked_medical_2025_percent <- percent(hiv_not_linked_medical_2025/hiv_not_linked_2025, accuracy = 0.1)
hiv_not_linked_medical_2025_percent



eip_2025$hiv_not_linked_contact_2025[(eip_2025$hiv_closed_case_2025 == 1 & is.na(eip_2025$hiv_linked_2025)) &
                                       (eip_2025$ltc_hiv_prevented_rsn___20 == 1)] <- 1
table(eip_2025$hiv_not_linked_contact_2025)

table(eip_2025$hiv_not_linked_contact_2025)
hiv_not_linked_contact_2025 <- eip_2025[which(eip_2025$hiv_not_linked_contact_2025 == 1), ]
dim(hiv_not_linked_contact_2025)
hiv_not_linked_contact_2025 <- nrow(hiv_not_linked_contact_2025)
hiv_not_linked_contact_2025

hiv_not_linked_contact_2025_percent <- percent(hiv_not_linked_contact_2025/hiv_not_linked_2025, accuracy = 0.1)
hiv_not_linked_contact_2025_percent



eip_2025$hiv_not_linked_language_2025[(eip_2025$hiv_closed_case_2025 == 1 & is.na(eip_2025$hiv_linked_2025)) &
                                        (eip_2025$ltc_hiv_prevented_rsn___9 == 1)] <- 1
table(eip_2025$hiv_not_linked_language_2025)

table(eip_2025$hiv_not_linked_language_2025)
hiv_not_linked_language_2025 <- eip_2025[which(eip_2025$hiv_not_linked_language_2025 == 1), ]
dim(hiv_not_linked_language_2025)
hiv_not_linked_language_2025 <- nrow(hiv_not_linked_language_2025)
hiv_not_linked_language_2025

hiv_not_linked_language_2025_percent <- percent(hiv_not_linked_language_2025/hiv_not_linked_2025, accuracy = 0.1)
hiv_not_linked_language_2025_percent



eip_2025$hiv_not_linked_other_2025[(eip_2025$hiv_closed_case_2025 == 1 & is.na(eip_2025$hiv_linked_2025)) &
                                     (eip_2025$ltc_hiv_prevented_rsn___0 == 1)] <- 1
table(eip_2025$hiv_not_linked_other_2025)

table(eip_2025$hiv_not_linked_other_2025)
hiv_not_linked_other_2025 <- eip_2025[which(eip_2025$hiv_not_linked_other_2025 == 1), ]
dim(hiv_not_linked_other_2025)
hiv_not_linked_other_2025 <- nrow(hiv_not_linked_other_2025)
hiv_not_linked_other_2025

hiv_not_linked_other_2025_percent <- percent(hiv_not_linked_other_2025/hiv_not_linked_2025, accuracy = 0.1)
hiv_not_linked_other_2025_percent



####################  2026 HIV Linkage Data  ####################

summary(eip$enc_date)
eip_2026 <- eip[which(eip$enc_date >= '2026-01-01' & eip$enc_date <= '2026-12-31'), ]
summary(eip_2026$enc_date)

table(eip_2026$plwha)
plwha_2026 <- eip_2026[which(eip_2026$plwha == 1), ]
dim(plwha_2026)
plwha_2026 <- nrow(plwha_2026)
plwha_2026


# HIV Linkage Data
table(eip_2026$ltc_services___1)
eip_2026$hiv_ltc_2026[eip_2026$ltc_services___1 == 1] <- 1
table(eip_2026$hiv_ltc_2026)

table(eip_2026$hiv_ltc_2026)
hiv_ltc_2026 <- eip_2026[which(eip_2026$hiv_ltc_2026 == 1), ]
dim(hiv_ltc_2026)
hiv_ltc_2026 <- nrow(hiv_ltc_2026)
hiv_ltc_2026

hiv_ltc_2026_percent <- percent(hiv_ltc_2026/plwha_2026, accuracy = 0.1)
hiv_ltc_2026_percent


# Ineligible HIV Linkage - Already Linked
table(eip_2026$ltc_hiv_declined_rsn___23)
table(eip_2026$ltc_hiv_prevented_rsn___16)
eip_2026$hiv_already_linked_2026[eip_2026$hiv_ltc_2026 == 1 &
                                   (eip_2026$ltc_hiv_declined_rsn___23 == 1 |
                                      eip_2026$ltc_hiv_prevented_rsn___16 == 1)] <- 1
table(eip_2026$hiv_already_linked_2026)

table(eip_2026$hiv_already_linked_2026)
hiv_already_linked_2026 <- eip_2026[which(eip_2026$hiv_already_linked_2026 == 1), ]
dim(hiv_already_linked_2026)
hiv_already_linked_2026 <- nrow(hiv_already_linked_2026)
hiv_already_linked_2026


# Ineligible HIV Linkage - Deceased
table(eip_2026$ltc_hiv_declined_rsn___35)
table(eip_2026$ltc_hiv_prevented_rsn___17)
eip_2026$hiv_deceased_2026[eip_2026$hiv_ltc_2026 == 1 &
                             (eip_2026$ltc_hiv_declined_rsn___35 == 1 |
                                eip_2026$ltc_hiv_prevented_rsn___17 == 1)] <- 1
table(eip_2026$hiv_deceased_2026)

table(eip_2026$hiv_deceased_2026)
hiv_deceased_2026 <- eip_2026[which(eip_2026$hiv_deceased_2026 == 1), ]
dim(hiv_deceased_2026)
hiv_deceased_2026 <- nrow(hiv_deceased_2026)
hiv_deceased_2026


# Ineligible HIV Linkage - Incarcerated
table(eip_2026$ltc_hiv_prevented_rsn___12)
eip_2026$hiv_incarcerated_2026[eip_2026$hiv_ltc_2026 == 1 &
                                 eip_2026$ltc_hiv_prevented_rsn___12 == 1] <- 1
table(eip_2026$hiv_incarcerated_2026)

table(eip_2026$hiv_incarcerated_2026)
hiv_incarcerated_2026 <- eip_2026[which(eip_2026$hiv_incarcerated_2026 == 1), ]
dim(hiv_incarcerated_2026)
hiv_incarcerated_2026 <- nrow(hiv_incarcerated_2026)
hiv_incarcerated_2026


# Ineligible HIV Linkage - Inability to Contact
table(eip_2026$ltc_hiv_final_ltc_status)
eip_2026$hiv_inability_to_contact_2026[eip_2026$hiv_ltc_2026 == 1 &
                                         eip_2026$ltc_hiv_prevented_rsn___19 == 1] <- 1
table(eip_2026$hiv_inability_to_contact_2026)

table(eip_2026$hiv_inability_to_contact_2026)
hiv_inability_to_contact_2026 <- eip_2026[which(eip_2026$hiv_inability_to_contact_2026 == 1), ]
dim(hiv_inability_to_contact_2026)
hiv_inability_to_contact_2026 <- nrow(hiv_inability_to_contact_2026)
hiv_inability_to_contact_2026


# Ineligible HIV Linkage - Declined Linkage Service
table(eip_2026$ltc_hiv_final_ltc_status)
eip_2026$hiv_linkage_declined_2026[(eip_2026$hiv_ltc_2026 == 1 &
                                      eip_2026$ltc_hiv_final_ltc_status == 2) &
                                     (is.na(eip_2026$hiv_already_linked_2026) &
                                        is.na(eip_2026$hiv_deceased_2026) &
                                        is.na(eip_2026$hiv_incarcerated_2026) &
                                        is.na(eip_2026$hiv_inability_to_contact_2026))] <- 1
table(eip_2026$hiv_linkage_declined_2026)

table(eip_2026$hiv_linkage_declined_2026)
hiv_linkage_declined_2026 <- eip_2026[which(eip_2026$hiv_linkage_declined_2026 == 1), ]
dim(hiv_linkage_declined_2026)
hiv_linkage_declined_2026 <- nrow(hiv_linkage_declined_2026)
hiv_linkage_declined_2026


# Ineligible HIV Linkage - Linkage in Progress
table(eip_2026$ltc_hiv_prevented_rsn___18)
eip_2026$hiv_ongoing_linkage_2026[eip_2026$hiv_ltc_2026 == 1 &
                                    eip_2026$ltc_hiv_prevented_rsn___18 == 1] <- 1
table(eip_2026$hiv_ongoing_linkage_2026)

table(eip_2026$hiv_ongoing_linkage_2026)
hiv_ongoing_linkage_2026 <- eip_2026[which(eip_2026$hiv_ongoing_linkage_2026 == 1), ]
dim(hiv_ongoing_linkage_2026)
hiv_ongoing_linkage_2026 <- nrow(hiv_ongoing_linkage_2026)
hiv_ongoing_linkage_2026


# HIV Ineligible Cases
eip_2026$hiv_ineligible_ltc_2026[eip_2026$hiv_already_linked_2026 == 1 |
                                   eip_2026$hiv_deceased_2026 == 1 |
                                   eip_2026$hiv_incarcerated_2026 == 1 |
                                   eip_2026$hiv_inability_to_contact_2026 == 1 |
                                   eip_2026$hiv_linkage_declined_2026 == 1 |
                                   eip_2026$hiv_ongoing_linkage_2026 == 1] <- 1
table(eip_2026$hiv_ineligible_ltc_2026)

table(eip_2026$hiv_ineligible_ltc_2026)
hiv_ineligible_ltc_2026 <- eip_2026[which(eip_2026$hiv_ineligible_ltc_2026 == 1), ]
dim(hiv_ineligible_ltc_2026)
hiv_ineligible_ltc_2026 <- nrow(hiv_ineligible_ltc_2026)
hiv_ineligible_ltc_2026

hiv_ineligible_ltc_2026_percent <- percent(hiv_ineligible_ltc_2026/hiv_ltc_2026, accuracy = 0.1)
hiv_ineligible_ltc_2026_percent

hiv_already_linked_2026_percent <- percent(hiv_already_linked_2026/hiv_ineligible_ltc_2026, accuracy = 0.1)
hiv_already_linked_2026_percent

hiv_deceased_2026_percent <- percent(hiv_deceased_2026/hiv_ineligible_ltc_2026, accuracy = 0.1)
hiv_deceased_2026_percent

hiv_incarcerated_2026_percent <- percent(hiv_incarcerated_2026/hiv_ineligible_ltc_2026, accuracy = 0.1)
hiv_incarcerated_2026_percent

hiv_inability_to_contact_2026_percent <- percent(hiv_inability_to_contact_2026/hiv_ineligible_ltc_2026, accuracy = 0.1)
hiv_inability_to_contact_2026_percent

hiv_linkage_declined_2026_percent <- percent(hiv_linkage_declined_2026/hiv_ineligible_ltc_2026, accuracy = 0.1)
hiv_linkage_declined_2026_percent

hiv_ongoing_linkage_2026_percent <- percent(hiv_ongoing_linkage_2026/hiv_ineligible_ltc_2026, accuracy = 0.1)
hiv_ongoing_linkage_2026_percent


# HIV Eligibility to be Linked
eip_2026$hiv_eligible_ltc_2026[eip_2026$hiv_ltc_2026 == 1 &
                                 (is.na(eip_2026$hiv_already_linked_2026) &
                                    is.na(eip_2026$hiv_deceased_2026) &
                                    is.na(eip_2026$hiv_incarcerated_2026) &
                                    is.na(eip_2026$hiv_inability_to_contact_2026) &
                                    is.na(eip_2026$hiv_linkage_declined_2026) &
                                    is.na(eip_2026$hiv_ongoing_linkage_2026))] <- 1
table(eip_2026$hiv_eligible_ltc_2026)

table(eip_2026$hiv_eligible_ltc_2026)
hiv_eligible_ltc_2026 <- eip_2026[which(eip_2026$hiv_eligible_ltc_2026 == 1), ]
dim(hiv_eligible_ltc_2026)
hiv_eligible_ltc_2026 <- nrow(hiv_eligible_ltc_2026)
hiv_eligible_ltc_2026

hiv_eligible_ltc_2026_percent <- percent(hiv_eligible_ltc_2026/hiv_ltc_2026, accuracy = 0.1)
hiv_eligible_ltc_2026_percent



table(eip_2026$hiv_eligible_ltc_2026, eip_2026$hiv_status)
eip_2026$hiv_new_eligible_ltc_2026[eip_2026$hiv_eligible_ltc_2026 == 1 &
                                     eip_2026$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2026$hiv_new_eligible_ltc_2026)

table(eip_2026$hiv_new_eligible_ltc_2026)
hiv_new_eligible_ltc_2026 <- eip_2026[which(eip_2026$hiv_new_eligible_ltc_2026 == 1), ]
dim(hiv_new_eligible_ltc_2026)
hiv_new_eligible_ltc_2026 <- nrow(hiv_new_eligible_ltc_2026)
hiv_new_eligible_ltc_2026

hiv_new_eligible_ltc_2026_percent <- percent(hiv_new_eligible_ltc_2026/hiv_eligible_ltc_2026, accuracy = 0.1)
hiv_new_eligible_ltc_2026_percent



table(eip_2026$hiv_eligible_ltc_2026, eip_2026$hiv_status)
eip_2026$hiv_prev_eligible_ltc_2026[eip_2026$hiv_eligible_ltc_2026 == 1 &
                                      eip_2026$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2026$hiv_prev_eligible_ltc_2026)

table(eip_2026$hiv_prev_eligible_ltc_2026)
hiv_prev_eligible_ltc_2026 <- eip_2026[which(eip_2026$hiv_prev_eligible_ltc_2026 == 1), ]
dim(hiv_prev_eligible_ltc_2026)
hiv_prev_eligible_ltc_2026 <- nrow(hiv_prev_eligible_ltc_2026)
hiv_prev_eligible_ltc_2026

hiv_prev_eligible_ltc_2026_percent <- percent(hiv_prev_eligible_ltc_2026/hiv_eligible_ltc_2026, accuracy = 0.1)
hiv_prev_eligible_ltc_2026_percent



table(eip_2026$hiv_eligible_ltc_2026, eip_2026$hiv_status)
eip_2026$hiv_unk_eligible_ltc_2026[(eip_2026$hiv_eligible_ltc_2026 == 1 &
                                      (eip_2026$hiv_status == 'Unknown HIV Status' |
                                         is.na(eip_2026$hiv_status)))] <- 1
table(eip_2026$hiv_unk_eligible_ltc_2026)

table(eip_2026$hiv_unk_eligible_ltc_2026)
hiv_unk_eligible_ltc_2026 <- eip_2026[which(eip_2026$hiv_unk_eligible_ltc_2026 == 1), ]
dim(hiv_unk_eligible_ltc_2026)
hiv_unk_eligible_ltc_2026 <- nrow(hiv_unk_eligible_ltc_2026)
hiv_unk_eligible_ltc_2026

hiv_unk_eligible_ltc_2026_percent <- percent(hiv_unk_eligible_ltc_2026/hiv_eligible_ltc_2026, accuracy = 0.1)
hiv_unk_eligible_ltc_2026_percent


# HIV Open/Closed Cases
table(eip_2026$ltc_hiv_open_case_calc)
eip_2026$hiv_in_progress_2026[eip_2026$hiv_eligible_ltc_2026 == 1 &
                                eip_2026$ltc_hiv_open_case_calc == 1] <- 1
table(eip_2026$hiv_in_progress_2026)

table(eip_2026$hiv_in_progress_2026)
hiv_in_progress_2026 <- eip_2026[which(eip_2026$hiv_in_progress_2026 == 1), ]
dim(hiv_in_progress_2026)
hiv_in_progress_2026 <- nrow(hiv_in_progress_2026)
hiv_in_progress_2026

hiv_in_progress_2026_percent <- percent(hiv_in_progress_2026/hiv_eligible_ltc_2026, accuracy = 0.1)
hiv_in_progress_2026_percent



table(eip_2026$hiv_in_progress_2026, eip_2026$hiv_status)
eip_2026$hiv_new_in_progress_2026[eip_2026$hiv_in_progress_2026 == 1 &
                                    eip_2026$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2026$hiv_new_in_progress_2026)

table(eip_2026$hiv_new_in_progress_2026)
hiv_new_in_progress_2026 <- eip_2026[which(eip_2026$hiv_new_in_progress_2026 == 1), ]
dim(hiv_new_in_progress_2026)
hiv_new_in_progress_2026 <- nrow(hiv_new_in_progress_2026)
hiv_new_in_progress_2026

hiv_new_in_progress_2026_percent <- percent(hiv_new_in_progress_2026/hiv_new_eligible_ltc_2026, accuracy = 0.1)
hiv_new_in_progress_2026_percent



table(eip_2026$hiv_in_progress_2026, eip_2026$hiv_status)
eip_2026$hiv_prev_in_progress_2026[eip_2026$hiv_in_progress_2026 == 1 &
                                     eip_2026$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2026$hiv_prev_in_progress_2026)

table(eip_2026$hiv_prev_in_progress_2026)
hiv_prev_in_progress_2026 <- eip_2026[which(eip_2026$hiv_prev_in_progress_2026 == 1), ]
dim(hiv_prev_in_progress_2026)
hiv_prev_in_progress_2026 <- nrow(hiv_prev_in_progress_2026)
hiv_prev_in_progress_2026

hiv_prev_in_progress_2026_percent <- percent(hiv_prev_in_progress_2026/hiv_prev_eligible_ltc_2026, accuracy = 0.1)
hiv_prev_in_progress_2026_percent



table(eip_2026$hiv_in_progress_2026, eip_2026$hiv_status)
eip_2026$hiv_unk_in_progress_2026[eip_2026$hiv_in_progress_2026 == 1 &
                                    (eip_2026$hiv_status == 'Unknown HIV Status' |
                                       is.na(eip_2026$hiv_status))] <- 1
table(eip_2026$hiv_unk_in_progress_2026)

table(eip_2026$hiv_unk_in_progress_2026)
hiv_unk_in_progress_2026 <- eip_2026[which(eip_2026$hiv_unk_in_progress_2026 == 1), ]
dim(hiv_unk_in_progress_2026)
hiv_unk_in_progress_2026 <- nrow(hiv_unk_in_progress_2026)
hiv_unk_in_progress_2026

hiv_unk_in_progress_2026_percent <- percent(hiv_unk_in_progress_2026/hiv_unk_eligible_ltc_2026, accuracy = 0.1)
hiv_unk_in_progress_2026_percent



table(eip_2026$hiv_eligible_ltc_2026, eip_2026$hiv_in_progress_2026)
eip_2026$hiv_closed_case_2026[eip_2026$hiv_eligible_ltc_2026 == 1 &
                                is.na(eip_2026$hiv_in_progress_2026)] <- 1
table(eip_2026$hiv_closed_case_2026)

table(eip_2026$hiv_closed_case_2026)
hiv_closed_case_2026 <- eip_2026[which(eip_2026$hiv_closed_case_2026 == 1), ]
dim(hiv_closed_case_2026)
hiv_closed_case_2026 <- nrow(hiv_closed_case_2026)
hiv_closed_case_2026

hiv_closed_case_2026_percent <- percent(hiv_closed_case_2026/hiv_eligible_ltc_2026, accuracy = 0.1)
hiv_closed_case_2026_percent



table(eip_2026$hiv_in_progress_2026)
eip_2026$hiv_ltc_days_open_2026 <- difftime(Sys.Date(), eip_2026$enc_date, units="days")
table(eip_2026$hiv_ltc_days_open_2026)
eip_2026$hiv_in_progress_90days_2026[eip_2026$hiv_in_progress_2026 == 1 &
                                       (eip_2026$hiv_ltc_days_open_2026 > 90)] <- 1
table(eip_2026$hiv_in_progress_90days_2026)

table(eip_2026$hiv_in_progress_90days_2026)
hiv_in_progress_90days_2026 <- eip_2026[which(eip_2026$hiv_in_progress_90days_2026 == 1), ]
dim(hiv_in_progress_90days_2026)
hiv_in_progress_90days_2026 <- nrow(hiv_in_progress_90days_2026)
hiv_in_progress_90days_2026

hiv_in_progress_90days_2026_percent <- percent(hiv_in_progress_90days_2026/hiv_in_progress_2026, accuracy = 0.1)
hiv_in_progress_90days_2026_percent


# HIV Cases Linked to Care
table(eip_2026$hiv_closed_case_2026, eip_2026$ltc_hiv_final_ltc_status)
eip_2026$hiv_linked_2026[eip_2026$hiv_closed_case_2026 == 1 &
                           eip_2026$ltc_hiv_final_ltc_status == 1] <- 1
table(eip_2026$hiv_linked_2026)

table(eip_2026$hiv_linked_2026)
hiv_linked_2026 <- eip_2026[which(eip_2026$hiv_linked_2026 == 1), ]
dim(hiv_linked_2026)
hiv_linked_2026 <- nrow(hiv_linked_2026)
hiv_linked_2026

hiv_linked_2026_gauge <- (hiv_linked_2026/hiv_closed_case_2026)*100
hiv_linked_2026_gauge
hiv_linked_2026_percent <- percent(hiv_linked_2026/hiv_closed_case_2026, accuracy = 0.1)
hiv_linked_2026_percent



table(eip_2026$hiv_status, eip_2026$hiv_eligible_ltc_2026)
table(eip_2026$hiv_linked_2026, eip_2026$hiv_status)
eip_2026$hiv_new_linked_2026[eip_2026$hiv_linked_2026 == 1 &
                               eip_2026$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2026$hiv_new_linked_2026)

table(eip_2026$hiv_new_linked_2026)
hiv_new_linked_2026 <- eip_2026[which(eip_2026$hiv_new_linked_2026 == 1), ]
dim(hiv_new_linked_2026)
hiv_new_linked_2026 <- nrow(hiv_new_linked_2026)
hiv_new_linked_2026

hiv_new_linked_2026_percent <- percent(hiv_new_linked_2026/hiv_new_eligible_ltc_2026, accuracy = 0.1)
hiv_new_linked_2026_percent



table(eip_2026$hiv_status, eip_2026$hiv_eligible_ltc_2026)
table(eip_2026$hiv_linked_2026, eip_2026$hiv_status)
eip_2026$hiv_prev_linked_2026[eip_2026$hiv_linked_2026 == 1 &
                                eip_2026$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2026$hiv_prev_linked_2026)

table(eip_2026$hiv_prev_linked_2026)
hiv_prev_linked_2026 <- eip_2026[which(eip_2026$hiv_prev_linked_2026 == 1), ]
dim(hiv_prev_linked_2026)
hiv_prev_linked_2026 <- nrow(hiv_prev_linked_2026)
hiv_prev_linked_2026

hiv_prev_linked_2026_percent <- percent(hiv_prev_linked_2026/hiv_prev_eligible_ltc_2026, accuracy = 0.1)
hiv_prev_linked_2026_percent



eip_2026$hiv_not_linked_2026[eip_2026$hiv_eligible_ltc_2026 == 1 & is.na(eip_2026$hiv_in_progress_2026) & is.na(eip_2026$hiv_linked_2026)] <- 1
table(eip_2026$hiv_not_linked_2026)

table(eip_2026$hiv_not_linked_2026)
hiv_not_linked_2026 <- eip_2026[which(eip_2026$hiv_not_linked_2026 == 1), ]
dim(hiv_not_linked_2026)
hiv_not_linked_2026 <- nrow(hiv_not_linked_2026)
hiv_not_linked_2026

hiv_not_linked_2026_percent <- percent(hiv_not_linked_2026/hiv_closed_case_2026, accuracy = 0.1)
hiv_not_linked_2026_percent



table(eip_2026$hiv_not_linked_2026, eip_2026$hiv_status)
eip_2026$hiv_new_not_linked_2026[eip_2026$hiv_not_linked_2026 == 1 &
                                   eip_2026$hiv_status == 'New HIV Diagnosis'] <- 1
table(eip_2026$hiv_new_not_linked_2026)

table(eip_2026$hiv_new_not_linked_2026)
hiv_new_not_linked_2026 <- eip_2026[which(eip_2026$hiv_new_not_linked_2026 == 1), ]
dim(hiv_new_not_linked_2026)
hiv_new_not_linked_2026 <- nrow(hiv_new_not_linked_2026)
hiv_new_not_linked_2026

hiv_new_not_linked_2026_percent <- percent(hiv_new_not_linked_2026/hiv_new_eligible_ltc_2026, accuracy = 0.1)
hiv_new_not_linked_2026_percent



table(eip_2026$hiv_not_linked_2026, eip_2026$hiv_status)
eip_2026$hiv_prev_not_linked_2026[eip_2026$hiv_not_linked_2026 == 1 &
                                    eip_2026$hiv_status == 'Previous HIV Diagnosis'] <- 1
table(eip_2026$hiv_prev_not_linked_2026)

table(eip_2026$hiv_prev_not_linked_2026)
hiv_prev_not_linked_2026 <- eip_2026[which(eip_2026$hiv_prev_not_linked_2026 == 1), ]
dim(hiv_prev_not_linked_2026)
hiv_prev_not_linked_2026 <- nrow(hiv_prev_not_linked_2026)
hiv_prev_not_linked_2026

hiv_prev_not_linked_2026_percent <- percent(hiv_prev_not_linked_2026/hiv_prev_eligible_ltc_2026, accuracy = 0.1)
hiv_prev_not_linked_2026_percent


# HIV Reasons Not Linked to Care
eip_2026$hiv_not_linked_med_staff_2026[(eip_2026$hiv_closed_case_2026 == 1 & is.na(eip_2026$hiv_linked_2026)) &
                                         (eip_2026$ltc_hiv_prevented_rsn___1 == 1 |
                                            eip_2026$ltc_hiv_prevented_rsn___2 == 1 |
                                            eip_2026$ltc_hiv_prevented_rsn___11 == 1)] <- 1
table(eip_2026$hiv_not_linked_med_staff_2026)

table(eip_2026$hiv_not_linked_med_staff_2026)
hiv_not_linked_med_staff_2026 <- eip_2026[which(eip_2026$hiv_not_linked_med_staff_2026 == 1), ]
dim(hiv_not_linked_med_staff_2026)
hiv_not_linked_med_staff_2026 <- nrow(hiv_not_linked_med_staff_2026)
hiv_not_linked_med_staff_2026

hiv_not_linked_med_staff_2026_percent <- percent(hiv_not_linked_med_staff_2026/hiv_not_linked_2026, accuracy = 0.1)
hiv_not_linked_med_staff_2026_percent



eip_2026$hiv_not_linked_family_2026[(eip_2026$hiv_closed_case_2026 == 1 & is.na(eip_2026$hiv_linked_2026)) &
                                      (eip_2026$ltc_hiv_prevented_rsn___3 == 1)] <- 1
table(eip_2026$hiv_not_linked_family_2026)

table(eip_2026$hiv_not_linked_family_2026)
hiv_not_linked_family_2026 <- eip_2026[which(eip_2026$hiv_not_linked_family_2026 == 1), ]
dim(hiv_not_linked_family_2026)
hiv_not_linked_family_2026 <- nrow(hiv_not_linked_family_2026)
hiv_not_linked_family_2026

hiv_not_linked_family_2026_percent <- percent(hiv_not_linked_family_2026/hiv_not_linked_2026, accuracy = 0.1)
hiv_not_linked_family_2026_percent



eip_2026$hiv_not_linked_not_talking_2026[(eip_2026$hiv_closed_case_2026 == 1 & is.na(eip_2026$hiv_linked_2026)) &
                                           (eip_2026$ltc_hiv_prevented_rsn___4 == 1)] <- 1
table(eip_2026$hiv_not_linked_not_talking_2026)

table(eip_2026$hiv_not_linked_not_talking_2026)
hiv_not_linked_not_talking_2026 <- eip_2026[which(eip_2026$hiv_not_linked_not_talking_2026 == 1), ]
dim(hiv_not_linked_not_talking_2026)
hiv_not_linked_not_talking_2026 <- nrow(hiv_not_linked_not_talking_2026)
hiv_not_linked_not_talking_2026

hiv_not_linked_not_talking_2026_percent <- percent(hiv_not_linked_not_talking_2026/hiv_not_linked_2026, accuracy = 0.1)
hiv_not_linked_not_talking_2026_percent



eip_2026$hiv_not_linked_safety_2026[(eip_2026$hiv_closed_case_2026 == 1 & is.na(eip_2026$hiv_linked_2026)) &
                                      (eip_2026$ltc_hiv_prevented_rsn___5 == 1)] <- 1
table(eip_2026$hiv_not_linked_safety_2026)

table(eip_2026$hiv_not_linked_safety_2026)
hiv_not_linked_safety_2026 <- eip_2026[which(eip_2026$hiv_not_linked_safety_2026 == 1), ]
dim(hiv_not_linked_safety_2026)
hiv_not_linked_safety_2026 <- nrow(hiv_not_linked_safety_2026)
hiv_not_linked_safety_2026

hiv_not_linked_safety_2026_percent <- percent(hiv_not_linked_safety_2026/hiv_not_linked_2026, accuracy = 0.1)
hiv_not_linked_safety_2026_percent



eip_2026$hiv_not_linked_medical_2026[(eip_2026$hiv_closed_case_2026 == 1 & is.na(eip_2026$hiv_linked_2026)) &
                                       (eip_2026$ltc_hiv_prevented_rsn___6 == 1 |
                                          eip_2026$ltc_hiv_prevented_rsn___8)] <- 1
table(eip_2026$hiv_not_linked_medical_2026)

table(eip_2026$hiv_not_linked_medical_2026)
hiv_not_linked_medical_2026 <- eip_2026[which(eip_2026$hiv_not_linked_medical_2026 == 1), ]
dim(hiv_not_linked_medical_2026)
hiv_not_linked_medical_2026 <- nrow(hiv_not_linked_medical_2026)
hiv_not_linked_medical_2026

hiv_not_linked_medical_2026_percent <- percent(hiv_not_linked_medical_2026/hiv_not_linked_2026, accuracy = 0.1)
hiv_not_linked_medical_2026_percent



eip_2026$hiv_not_linked_contact_2026[(eip_2026$hiv_closed_case_2026 == 1 & is.na(eip_2026$hiv_linked_2026)) &
                                       (eip_2026$ltc_hiv_prevented_rsn___20 == 1)] <- 1
table(eip_2026$hiv_not_linked_contact_2026)

table(eip_2026$hiv_not_linked_contact_2026)
hiv_not_linked_contact_2026 <- eip_2026[which(eip_2026$hiv_not_linked_contact_2026 == 1), ]
dim(hiv_not_linked_contact_2026)
hiv_not_linked_contact_2026 <- nrow(hiv_not_linked_contact_2026)
hiv_not_linked_contact_2026

hiv_not_linked_contact_2026_percent <- percent(hiv_not_linked_contact_2026/hiv_not_linked_2026, accuracy = 0.1)
hiv_not_linked_contact_2026_percent



eip_2026$hiv_not_linked_language_2026[(eip_2026$hiv_closed_case_2026 == 1 & is.na(eip_2026$hiv_linked_2026)) &
                                        (eip_2026$ltc_hiv_prevented_rsn___9 == 1)] <- 1
table(eip_2026$hiv_not_linked_language_2026)

table(eip_2026$hiv_not_linked_language_2026)
hiv_not_linked_language_2026 <- eip_2026[which(eip_2026$hiv_not_linked_language_2026 == 1), ]
dim(hiv_not_linked_language_2026)
hiv_not_linked_language_2026 <- nrow(hiv_not_linked_language_2026)
hiv_not_linked_language_2026

hiv_not_linked_language_2026_percent <- percent(hiv_not_linked_language_2026/hiv_not_linked_2026, accuracy = 0.1)
hiv_not_linked_language_2026_percent



eip_2026$hiv_not_linked_other_2026[(eip_2026$hiv_closed_case_2026 == 1 & is.na(eip_2026$hiv_linked_2026)) &
                                     (eip_2026$ltc_hiv_prevented_rsn___0 == 1)] <- 1
table(eip_2026$hiv_not_linked_other_2026)

table(eip_2026$hiv_not_linked_other_2026)
hiv_not_linked_other_2026 <- eip_2026[which(eip_2026$hiv_not_linked_other_2026 == 1), ]
dim(hiv_not_linked_other_2026)
hiv_not_linked_other_2026 <- nrow(hiv_not_linked_other_2026)
hiv_not_linked_other_2026

hiv_not_linked_other_2026_percent <- percent(hiv_not_linked_other_2026/hiv_not_linked_2026, accuracy = 0.1)
hiv_not_linked_other_2026_percent

```


# HIV Testing - Overview

Testing for HIV has been a major focus of the Early Intervention Program (EIP) since the beginning of the program. Currently, there are several methods for testing, with various funding streams built within the program. The various projects that involve HIV testing are covered on this page, with specific deliverables promised within each project provided under the 'Deliverables' tab above. In parallel with lab-based testing conducted within the hospital and/or clinical settings, rapid-based testing conducted by the EIP is covered under several different grants, and will be the focus of this dashboard.

The following table shows an overview of the total number of HIV tests within each testing program, with the total positives (and those newly diagnosed through these tests). The positivity rate for each program is also provided. The overal positivity rate for individuals newly diagnosed for the combined rapid-based testing methods within the EIP is [**`r eip_positivity_rate`**]{style="color: red;"} (`r eip_total_new_pos_hiv_tests` total new positives out of `r eip_total_hiv_tests` total rapid HIV tests).


```{r, echo = FALSE}

hiv_testing_tbl <- data.frame(matrix(ncol = 4, nrow = 0))
colnames(hiv_testing_tbl) <- c('', 'CTR', 'EHE', 'Total')
hiv_testing_tbl[nrow(hiv_testing_tbl) + 1,] <- list('Number of Tests', ctr_tests, ehe_tests, eip_total_hiv_tests)
hiv_testing_tbl[nrow(hiv_testing_tbl) + 1,] <- list('Positives', ctr_positive, ehe_positive, eip_total_pos_hiv_tests)
hiv_testing_tbl[nrow(hiv_testing_tbl) + 1,] <- list('New Positives', ctr_new_positive, ehe_new_positive, eip_total_new_pos_hiv_tests)
hiv_testing_tbl[nrow(hiv_testing_tbl) + 1,] <- list('Positivity Rate', ctr_positivity_rate, ehe_positivity_rate, eip_positivity_rate)
hiv_testing_tbl %>%
  kbl(align = 'lcc', table.attr = 'data-quarto-disable-processing="true"') %>%
  kable_paper(bootstrap_options = "striped", full_width = F) %>%
  kable_styling(full_width = F, font_size = 16)

```


::: {.panel-tabset}

## Annual

Annual HIV testing for each of the rapid-based testing streams is shown in the graph below.


```{r, echo = FALSE}

annual_hiv_tests$total_tests <- annual_hiv_tests$ctr_tests + annual_hiv_tests$ehe_tests

annual_hiv_testing_plot <- plot_ly(data = annual_hiv_tests,
                                   x = ~Date,
                                   y = ~total_tests,
                                   type = 'bar',
                                   name = 'Total Tests',
                                   marker = list(color = 'black'),
                                   text = ~total_tests,
                                   textposition = 'auto') %>%
  
  add_trace(y = ~ctr_tests,
            type = 'scatter',
            mode = 'lines+markers',
            name = 'CTR Tests',
            line = list(color = 'lightskyblue', width = 3),
            marker = list(color = 'lightskyblue')) %>%

  add_trace(y = ~ehe_tests,
            type = 'scatter',
            mode = 'lines+markers',
            name = 'EHE Tests',
            line = list(color = 'darkgreen', width = 3),
            marker = list(color = 'darkgreen')) %>%
  
  layout(yaxis = list(title = 'Number of HIV Tests'),
         barmode = 'overlay')

config(annual_hiv_testing_plot, displayModeBar = FALSE)

```


## Monthly

The reporting for each of these programs is done on a monthly basis, so it is easier to look at the total number of tests that are conducted for each program within a monthly breakdown. The figure below shows the monthly testing numbers for each of the programs.


```{r, echo = FALSE}

monthly_hiv_tests <- monthly_hiv_tests %>%
  mutate(Date = as.Date(paste0("01/", Date), format = "%d/%m/%Y"))

monthly_hiv_testing_plot <- plot_ly(data = monthly_hiv_tests,
                                    x = ~Date,
                                    y = ~ctr_tests,
                                    type = 'bar',
                                    name = 'CTR Tests',
                                    text = ~ctr_tests, textposition = 'auto',
                                    marker = list(color = 'lightskyblue')) %>%
  add_trace(y = ~ehe_tests,
            name = 'EHE Tests',
            text = ~ehe_tests,
            textposition = 'auto',
            marker = list(color = 'darkgreen')) %>%
  layout(yaxis = list(title = 'Total HIV Tests'), barmode = 'stack')
config(monthly_hiv_testing_plot, displayModeBar = FALSE)

```


:::


# HIV Linkage to Care

Any individual that is identified as a person living with HIV/AIDS (PLWHA), whether newly diagnosed or an individual known to be previously positive, is meant to have a linkage case started to determine the need and level of follow-up by the EIP Linkage team. All encounters where an individual is identified as a PLWHA is counted, and then their need for linkage is assessed by the linkage team so that the true number of those in need of our services can be determined. The total number of encounters where an individual is identified as a PLWHA is **`r plwha`**, and the total number of linkage cases initiated (*should be equal*) is **`r hiv_ltc`** (*`r hiv_ltc_percent` of those encounters with PLWHA, `r hiv_ltc`/`r plwha`*). A consort diagram of these HIV Linkage cases is shown later.

## Ineligible LTC Cases

Once a linkage case is started, the linkage team determines whether it can realistically be worked based on the outreach abilities of our linkage team. There are several factors that have been determined that make a linkage case "ineligible" to be worked, and are thus excluded from the total number reported to funding entities when reporting linkage data. This "ineligible" definition does not always mean that the individual cannot be linked, but there are significant barriers that our linkage team cannot always overcome based on their position, and we thus do not fault them in an inability to connect the individual to care. These situations are not necessarily mutually exclusive.

If an individual states that they are already in care, or if there is clear evidence within the medical record that the individual is successfully engaging in care, then they are termed "ineligible" due to already being linked to care. There may be additional things that our linkage team can assist with, but as far as linkage for HIV care, there is no additional effort our team needs to provide, so they are termed "ineligible" are are not considered out of care. The total number of HIV linkage cases where the individual was known to already be in care are **`r hiv_already_linked`** (*`r hiv_already_linked_percent` of all HIV linkage cases initiated, `r hiv_already_linked`/`r hiv_ltc`*).

If the individual passes away during their encounter in the emergency department, or while our linkage team is attempting to get them linked to care, then they are termed "ineligible" as they are not able to be followed for care, and thus are excluded from final linkage numbers. The total number of HIV linkage cases where the individual was deceased before linkage could be completed was **`r hiv_deceased`** (*`r hiv_deceased_percent` of all HIV linkage cases initiated, `r hiv_deceased`/`r hiv_ltc`*).

If the individual is in police custody, or incarcerated while the linkage team is attempting to get them linked to care, then there are often difficulties in establishing communication with the individual and getting them to an appointment with a specialist. While not impossible to link them to care in these situations, it does make it more difficult and could provide significant barriers for our team, and thus are termed "ineligible" if this is the case in that situation. The total number of HIV linkage cases where the individual was incarcerated or in police custody, therefore complicating linkage access, was **`r hiv_incarcerated`** (*`r hiv_incarcerated_percent` of all HIV linkage cases initiated, `r hiv_incarcerated`/`r hiv_ltc`*).

Sometimes, the individual may not have contact information in which our linkage team can reach out to initiate contact. This often happens when we are unable to meet the individual while they are in the hospital, and must try to initiate contact through phone calls or other means. This is different than our team having contact information for the individual and they are just unable to contact them through these methods. This "ineligible" criteria is when there is no reliable effort in which to reach the individual, meaning we are unable to actually initiate contact and follow-up. The total number of HIV linkage cases where our linkage team had no ability to contact the individual was **`r hiv_inability_to_contact`** (*`r hiv_inability_to_contact_percent` of all HIV linkage cases initiated, `r hiv_inability_to_contact`/`r hiv_ltc`*).

If the individual declines our team's linkage services for any reason, even after multiple offers for support, then they are termed "ineligible" since they do not feel our intervention is necessary at that time. The total number of HIV linkage cases where the individual declined linkage services was **`r hiv_linkage_declined`** (*`r hiv_linkage_declined_percent` of all HIV linkage cases initiated, `r hiv_linkage_declined`/`r hiv_ltc`*).

Due to the length of time that some linkage cases may take, there are several instances where the individual may return and be identified by EIP while they already have an ongoing linkage case. Rather than duplicating the need for linkage, and only maintaining one linkage case at a time, the individual is still marked as identified for linkage, but termed "ineligible" due to ongoing linkage already in progress. The total number of HIV linkage cases where the individual already had an ongoing linkage case in progress was **`r hiv_ongoing_linkage`** (*`r hiv_ongoing_linkage_percent` of all HIV linkage cases initiated, `r hiv_ongoing_linkage`/`r hiv_ltc`*).

## Eligible LTC Cases

There are a total number of **`r hiv_ineligible_ltc`** HIV linkage cases where the individual meets at least one of these "ineligible" criteria (*`r hiv_ineligible_ltc_percent` of all HIV linkage cases initiated, `r hiv_ineligible_ltc`/`r hiv_ltc`*), leaving **`r hiv_eligible_ltc`** HIV linkage cases that are eligible to be worked by our linkage team (*`r hiv_eligible_ltc_percent` of all HIV linkage cases initiated, `r hiv_eligible_ltc`/`r hiv_ltc`*). This is the total number of HIV Linkage cases that is used when reporting our linkage efforts for HIV. Additionally, HIV linkage is broken out by linkage efforts for those who are newly diagnosed and those individuals that are previously known to be positive requiring re-engagement in care. There are **`r hiv_new_eligible_ltc`** linkage cases eligible for individuals who are New Diagnoses (*`r hiv_new_eligible_ltc_percent` of all eligible HIV linkage cases, `r hiv_new_eligible_ltc`/`r hiv_eligible_ltc`*) and there are **`r hiv_prev_eligible_ltc`** linkage cases for individuals who are Previous Diagnoses (*`r hiv_prev_eligible_ltc_percent` of all eligible HIV linkage cases, `r hiv_prev_eligible_ltc`/`r hiv_eligible_ltc`*). It may take some time before it is known whether an individual has a previous diagnosis, or if that instance of when staff identify them as positive is a new diagnosis, depending on the situation. Therefore, we also track the number of eligible HIV linkage cases where the individual has an "unknown diagnosis" status. This does not mean their status is unknown (*since HIV linkage is only done for those who are positive*), it is unknown whether they are new or previous at the time of the data pull. There are **`r hiv_unk_eligible_ltc`** HIV linkage cases where they are in this unknown state (*`r hiv_unk_eligible_ltc_percent` of all eligible HIV linkage cases, `r hiv_unk_eligible_ltc`/`r hiv_eligible_ltc`*).

From this point, it is tracked whether a case in open and currently being worked, or whether it is closed and what the final linkage status is for the case. There are a total of **`r hiv_in_progress`** HIV linkage cases that are currently open and in progress (*`r hiv_in_progress_percent` of all eligible HIV linkage cases, `r hiv_in_progress`/`r hiv_eligible_ltc`*). There are **`r hiv_new_in_progress`** cases open that are for New Diagnoses (*`r hiv_new_in_progress_percent` of all eligible HIV cases for New Diagnoses, `r hiv_new_in_progress`/`r hiv_new_eligible_ltc`*) and there are **`r hiv_prev_in_progress`** cases open that are for Previous Diagnoses (*`r hiv_prev_in_progress_percent` of all eligible HIV cases for Previous Diagnoses, `r hiv_prev_in_progress`/`r hiv_prev_eligible_ltc`*).

There are a total of **`r hiv_closed_case`** closed HIV linkage cases (*`r hiv_closed_case_percent` of all eligible HIV linkage cases, `r hiv_closed_case`/`r hiv_eligible_ltc`*). There was a total of **`r hiv_linked`** eligible HIV linkage cases where the individual was successfully connected to care (*`r hiv_linked_percent` of all eligible HIV linkage cases, `r hiv_linked`/`r hiv_eligible_ltc`*). The definition used for successful linkage for PLWHA is that they are known to attend an appointment or individualized meeting with a specialist for HIV care, such as at UCMC Infectious Disease Center (IDC). There were a total of **`r hiv_new_linked`** cases where the individual was newly diagnosed for HIV that were linked to care (*`r hiv_new_linked_percent` of all eligible HIV linkage cases for New Diagnoses, `r hiv_new_linked`/`r hiv_new_eligible_ltc`*), and a total of **`r hiv_prev_linked`** cases where the individual was a previously known positive for HIV that were linked to care (*`r hiv_prev_linked_percent` of all eligible HIV linkage cases for Previous Diagnoses, `r hiv_prev_linked`/`r hiv_prev_eligible_ltc`*).

For those situations where the individual was eligible to be linked to care, there were a total of **`r hiv_not_linked`** cases where they were not successfully established with treatment (*`r hiv_not_linked_percent` of all eligible HIV linkage cases, `r hiv_not_linked`/`r hiv_eligible_ltc`*). Out of these, **`r hiv_new_not_linked`** were cases where the individual was newly diagnosed (*`r hiv_new_not_linked_percent` of all eligible HIV linkage cases for New Diagnoses, `r hiv_new_not_linked`/`r hiv_new_eligible_ltc`*) and **`r hiv_prev_not_linked`** were cases where the individual was previously diagnosed (*`r hiv_prev_not_linked_percent` of all eligible HIV linkage cases for Previous Diagnoses, `r hiv_prev_not_linked`/`r hiv_prev_eligible_ltc`*). For situations where the individual was not successfully established with care, the specific reasons as to why they were unable to be linked are documented within the linkage record. There are numerous reasons why an individual may be prevented from being linked, and these reasons are not mutually exclusive. The medical staff or the family may interfere with attempts to get them into care, the patient may refuse to communicate with our linkage team, or there may be no reliable way to contact the individual during follow-up, or any other number of reasons. These reasons are shown in the consort diagram below.

The consort or flow diagram below represents all of the linkage data described above visually. All numbers are represented as total (n, [blue]{style="color: blue;"}) and percent (%, [steel blue]{style="color: steelblue;"}). To know the denominator of each percent represented in the consort diagram below, please refer to the description of the data points in the text above.


```{r, echo = FALSE, warning = FALSE}
#| lightbox:
#|   description: 2023-2026 HIV Linkage Flow Diagram

grid_data <- tibble(x= 1:100, y= 1:100)

grid_data %>% 
  ggplot(aes(x, y)) +
  scale_x_continuous(minor_breaks = seq(10, 100, 10)) +
  scale_y_continuous(minor_breaks = seq(10, 100, 10)) +
  theme_linedraw() ->
  grid


grid +
  # HIV Linkage Cases
  geom_rect(xmin = 0, xmax = 22, ymin = 90, ymax = 100, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 97, label = 'HIV Linkage Cases', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 90, ymax = 100, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 93, label = hiv_ltc, size = 2, color = 'blue') +
  
  # Ineligible for Linkage
  geom_rect(xmin = 41, xmax = 63, ymin = 75, ymax = 85, color = 'gray',
            fill = 'white', size = 0.25) +
  annotate('text', x = 52.5, y = 82, label = 'Ineligible for Linkage', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 75, ymax = 85, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 51.5, y = 78, label = hiv_ineligible_ltc, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 78, label = hiv_ineligible_ltc_percent, size = 2, color = 'steelblue') +
  
  
  # Reasons Ineligible for Linkage
  geom_rect(xmin = 83, xmax = 100, ymin = 75, ymax = 85, color = NA,
            fill = 'white', size = 0.25) +
  annotate('text', x = 87, y = 85, label = 'Already Linked', size = 2) +
  annotate('text', x = 87, y = 82, label = '        Deceased', size = 2) +
  annotate('text', x = 87, y = 79, label = '    Incarcerated', size = 2) +
  annotate('text', x = 87, y = 76, label = '          Declined', size = 2) +
  annotate('text', x = 87, y = 73, label = 'Ongoing linkage ', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 75, ymax = 85, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 94, y = 85, label = hiv_already_linked, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 85, label = hiv_already_linked_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 82, label = hiv_deceased, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 82, label = hiv_deceased_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 79, label = hiv_incarcerated, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 79, label = hiv_incarcerated_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 76, label = hiv_linkage_declined, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 76, label = hiv_linkage_declined_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 73, label = hiv_ongoing_linkage, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 73, label = hiv_ongoing_linkage_percent, size = 2, color = 'steelblue') +
  
  
  # Eligible for Linkage
  geom_rect(xmin = 0, xmax = 22, ymin = 60, ymax = 70, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 67, label = 'Eligible for Linkage', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 60, ymax = 70, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 63, label = hiv_eligible_ltc, size = 2, color = 'blue') +
  annotate('text', x = 19, y = 63, label = hiv_eligible_ltc_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev vs. Unk Eligibility
  geom_rect(xmin = 25, xmax = 35, ymin = 60, ymax = 70, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 26, y = 69, label = 'New Dx:', size = 2) +
  annotate('text', x = 26, y = 65, label = 'Prev Dx:', size = 2) +
  annotate('text', x = 26, y = 61, label = 'Unk Dx:', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 60, ymax = 70, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 30, y = 69, label = hiv_new_eligible_ltc, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 69, label = hiv_new_eligible_ltc_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 30, y = 65, label = hiv_prev_eligible_ltc, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 65, label = hiv_prev_eligible_ltc_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 30, y = 61, label = hiv_unk_eligible_ltc, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 61, label = hiv_unk_eligible_ltc_percent, size = 2, color = 'steelblue') +
  
  
  # In Progress
  geom_rect(xmin = 41, xmax = 63, ymin = 45, ymax = 55, color = 'gray',
            fill = 'white', size = 0.25) +
  annotate('text', x = 50.5, y = 52, label = 'In Progress', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 45, ymax = 55, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 51.5, y = 48, label = hiv_in_progress, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 48, label = hiv_in_progress_percent, size = 2, color = 'steelblue') +
  
  
  # In Progress over 90 days
  geom_rect(xmin = 41, xmax = 63, ymin = 37, ymax = 44, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 52, y = 42, label = '>90 days:', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 37, ymax = 44, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 56, y = 42, label = hiv_in_progress_90days, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 42, label = hiv_in_progress_90days_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev vs. Unk In Progress
  geom_rect(xmin = 66, xmax = 88, ymin = 45, ymax = 55, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 67, y = 54, label = 'New Dx:', size = 2) +
  annotate('text', x = 67, y = 50, label = 'Prev Dx:', size = 2) +
  annotate('text', x = 67, y = 46, label = 'Unk Dx:', size = 2) +
  geom_rect(xmin = 66, xmax = 88, ymin = 45, ymax = 55, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 71, y = 54, label = hiv_new_in_progress, size = 2, color = 'blue') +
  annotate('text', x = 75, y = 54, label = hiv_new_in_progress_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 71, y = 50, label = hiv_prev_in_progress, size = 2, color = 'blue') +
  annotate('text', x = 75, y = 50, label = hiv_prev_in_progress_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 71, y = 46, label = hiv_unk_in_progress, size = 2, color = 'blue') +
  annotate('text', x = 75, y = 46, label = hiv_unk_in_progress_percent, size = 2, color = 'steelblue') +
  
  
  # Closed Cases
  geom_rect(xmin = 0, xmax = 22, ymin = 30, ymax = 40, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 37, label = 'Closed Cases', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 30, ymax = 40, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 33, label = hiv_closed_case, size = 2, color = 'blue') +
  annotate('text', x = 19, y = 33, label = hiv_closed_case_percent, size = 2, color = 'steelblue') +
  
  
  # Not Linked
  geom_rect(xmin = 41, xmax = 63, ymin = 15, ymax = 25, color = 'gray',
            fill = 'white', size = 0.25) +
  annotate('text', x = 50.5, y = 22, label = 'Not Linked', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 15, ymax = 25, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 51.5, y = 18, label = hiv_not_linked, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 18, label = hiv_not_linked_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev Not Linked
  geom_rect(xmin = 41, xmax = 63, ymin = 7, ymax = 14, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 52, y = 12, label = 'New Dx:', size = 2) +
  annotate('text', x = 52, y = 8, label = 'Prev Dx:', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 7, ymax = 14, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 56, y = 12, label = hiv_new_not_linked, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 12, label = hiv_new_not_linked_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 56, y = 8, label = hiv_prev_not_linked, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 8, label = hiv_prev_not_linked_percent, size = 2, color = 'steelblue') +
  
  
  # Reasons Not Linked
  geom_rect(xmin = 83, xmax = 100, ymin = 0, ymax = 30, color = NA,
            fill = 'white', size = 0.25) +
  annotate('text', x = 87, y = 26, label = 'Med Staff interferes    ', size = 2) +
  annotate('text', x = 87, y = 23, label = '  Family interferes', size = 2) +
  annotate('text', x = 87, y = 20, label = '    Refuses to talk', size = 2) +
  annotate('text', x = 87, y = 17, label = '    Personal safety', size = 2) +
  annotate('text', x = 87, y = 14, label = '    Medical course', size = 2) +
  annotate('text', x = 87, y = 11, label = 'Inability to contact', size = 2) +
  annotate('text', x = 87, y = 8, label = ' Language barrier', size = 2) +
  annotate('text', x = 87, y = 5, label = '                   Other', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 0, ymax = 30, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 94, y = 26, label = hiv_not_linked_med_staff, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 26, label = hiv_not_linked_med_staff_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 23, label = hiv_not_linked_family, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 23, label = hiv_not_linked_family_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 20, label = hiv_not_linked_not_talking, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 20, label = hiv_not_linked_not_talking_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 17, label = hiv_not_linked_safety, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 17, label = hiv_not_linked_safety_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 14, label = hiv_not_linked_medical, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 14, label = hiv_not_linked_medical_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 11, label = hiv_not_linked_contact, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 11, label = hiv_not_linked_contact_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 8, label = hiv_not_linked_language, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 8, label = hiv_not_linked_language_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 5, label = hiv_not_linked_other, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 5, label = hiv_not_linked_other_percent, size = 2, color = 'steelblue') +
  
  
  # Linked to Care
  geom_rect(xmin = 0, xmax = 22, ymin = 0, ymax = 10, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 7, label = 'Linked to Care', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 0, ymax = 10, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 3, label = hiv_linked, size = 2, color = 'blue') +
  annotate('text', x = 19, y = 3, label = hiv_linked_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev Linked to Care
  geom_rect(xmin = 25, xmax = 35, ymin = 0, ymax = 10, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 26, y = 7, label = 'New Dx:', size = 2) +
  annotate('text', x = 26, y = 3, label = 'Prev Dx:', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 0, ymax = 10, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 30, y = 7, label = hiv_new_linked, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 7, label = hiv_new_linked_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 30, y = 3, label = hiv_prev_linked, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 3, label = hiv_prev_linked_percent, size = 2, color = 'steelblue') +
  
  
  # Down Arrow 1
  geom_segment(
    x = 10.5, xend = 10.5, y = 90, yend = 70, 
    size = 0.15, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(2,"mm"), type = "closed")) +
  
  # Down Arrow 2
  geom_segment(
    x = 10.5, xend = 10.5, y = 60, yend = 40, 
    size = 0.15, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(2,"mm"), type = "closed")) +
  
  # Down Arrow 3
  geom_segment(
    x = 10.5, xend = 10.5, y = 30, yend = 10, 
    size = 0.15, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(2,"mm"), type = "closed")) +
  
  # Right Arrow 1
  geom_segment(
    x = 10.5, xend = 41, y = 80, yend = 80, 
    size = 0.05, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(1,"mm"), type = "closed"), color = 'darkgray') +
  
  # Right Arrow 2
  geom_segment(
    x = 10.5, xend = 41, y = 50, yend = 50, 
    size = 0.05, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(1,"mm"), type = "closed"), color = 'darkgray') +
  
  # Right Arrow 3
  geom_segment(
    x = 10.5, xend = 41, y = 20, yend = 20, 
    size = 0.05, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(1,"mm"), type = "closed"), color = 'darkgray') +
  
  # Right Line 1
  geom_segment(
    x = 63, xend = 81, y = 80, yend = 80, 
    size = 0.15, linejoin = "mitre", lineend = "butt", linetype = "dotted") +
  
  # Right Line 2
  geom_segment(
    x = 63, xend = 80, y = 20, yend = 20, 
    size = 0.15, linejoin = "mitre", lineend = "butt", linetype = "dotted")->
  grid

grid + theme_void()


```


Our HIV linkage program also has deliverables for HIV linkage to care, requiring that about 80% of our HIV Linkage cases are connected with treatment, encompassing both new and previous diagnoses. For this metric, the total number of cases reported are the total number of HIV cases that are "eligible" for linkage (*`r hiv_eligible_ltc` total cases*). The total number successfully linked to care (*`r hiv_linked` linked to care*) is reported, with the overall percentage of the total eligible for linkage (*`r hiv_linked_percent` linked to care*), while also providing the total number of cases that are still in progress (*`r hiv_in_progress` cases in progress*) for their understanding of the overall picture at the time of reporting. Linkage to care data is reported for CTR on a mid-year and end of year period, but this data covers all cases covered in this dashboard. The gauge to show how close we are to meeting our deliverable for HIV Linkage to Care goal for the program is shown below.


```{r, echo = FALSE, warning = FALSE}

hiv_linkage_gauge <- plot_ly(
  domain = list(x = c(0, 1), y = c(0, 1)),
  value = hiv_linked_gauge,
  number = list(suffix = "%"),
  title = list(text = "% PLWHA Linked to Care", font = list(size = 24)),
  type = "indicator",
  mode = "gauge+number",
  gauge = list(
    axis =list(range = list(0, 100)),
    bar = list(color = "royalblue"),
    bgcolor = "white",
    borderwidth = 2,
    bordercolor = "gray",
    threshold = list(
      line = list(color = "red", width = 4),
      thickness = 0.75,
      value = 80))) 
hiv_linkage_gauge <- hiv_linkage_gauge %>%
  layout(margin = list(l=100,r=150))
config(hiv_linkage_gauge, displayModeBar = FALSE)

```


Since HIV LTC data is typically reported on an annual basis, the specific HIV linkage numbers for each year are presented below along with the linkage to care success rate.


::: {.panel-tabset}

## 2026

This shows the HIV LTC flow diagram for all linkage cases in 2026, along with the linkage to care success rate.

```{r, echo = FALSE, warning = FALSE}
#| lightbox:
#|   description: 2026 YTD HIV Linkage Flow Diagram

grid_data <- tibble(x= 1:100, y= 1:100)

grid_data %>% 
  ggplot(aes(x, y)) +
  scale_x_continuous(minor_breaks = seq(10, 100, 10)) +
  scale_y_continuous(minor_breaks = seq(10, 100, 10)) +
  theme_linedraw() ->
  grid


grid +
  # HIV Linkage Cases
  geom_rect(xmin = 0, xmax = 22, ymin = 90, ymax = 100, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 97, label = 'HIV Linkage Cases', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 90, ymax = 100, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 93, label = hiv_ltc_2026, size = 2, color = 'blue') +
  
  # Ineligible for Linkage
  geom_rect(xmin = 41, xmax = 63, ymin = 75, ymax = 85, color = 'gray',
            fill = 'white', size = 0.25) +
  annotate('text', x = 52.5, y = 82, label = 'Ineligible for Linkage', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 75, ymax = 85, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 51.5, y = 78, label = hiv_ineligible_ltc_2026, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 78, label = hiv_ineligible_ltc_2026_percent, size = 2, color = 'steelblue') +
  
  
  # Reasons Ineligible for Linkage
  geom_rect(xmin = 83, xmax = 100, ymin = 75, ymax = 85, color = NA,
            fill = 'white', size = 0.25) +
  annotate('text', x = 87, y = 85, label = 'Already Linked', size = 2) +
  annotate('text', x = 87, y = 82, label = '        Deceased', size = 2) +
  annotate('text', x = 87, y = 79, label = '    Incarcerated', size = 2) +
  annotate('text', x = 87, y = 76, label = 'Inability to Contact', size = 2) +
  annotate('text', x = 87, y = 73, label = '          Declined', size = 2) +
  annotate('text', x = 87, y = 70, label = 'Ongoing linkage ', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 75, ymax = 85, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 94, y = 85, label = hiv_already_linked_2026, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 85, label = hiv_already_linked_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 82, label = hiv_deceased_2026, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 82, label = hiv_deceased_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 79, label = hiv_incarcerated_2026, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 79, label = hiv_incarcerated_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 76, label = hiv_inability_to_contact_2026, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 76, label = hiv_inability_to_contact_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 73, label = hiv_linkage_declined_2026, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 73, label = hiv_linkage_declined_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 70, label = hiv_ongoing_linkage_2026, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 70, label = hiv_ongoing_linkage_2026_percent, size = 2, color = 'steelblue') +
  
  
  # Eligible for Linkage
  geom_rect(xmin = 0, xmax = 22, ymin = 60, ymax = 70, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 67, label = 'Eligible for Linkage', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 60, ymax = 70, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 63, label = hiv_eligible_ltc_2026, size = 2, color = 'blue') +
  annotate('text', x = 19, y = 63, label = hiv_eligible_ltc_2026_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev vs. Unk Eligibility
  geom_rect(xmin = 25, xmax = 35, ymin = 60, ymax = 70, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 26, y = 69, label = 'New Dx:', size = 2) +
  annotate('text', x = 26, y = 65, label = 'Prev Dx:', size = 2) +
  annotate('text', x = 26, y = 61, label = 'Unk Dx:', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 60, ymax = 70, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 30, y = 69, label = hiv_new_eligible_ltc_2026, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 69, label = hiv_new_eligible_ltc_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 30, y = 65, label = hiv_prev_eligible_ltc_2026, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 65, label = hiv_prev_eligible_ltc_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 30, y = 61, label = hiv_unk_eligible_ltc_2026, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 61, label = hiv_unk_eligible_ltc_2026_percent, size = 2, color = 'steelblue') +
  
  
  # In Progress
  geom_rect(xmin = 41, xmax = 63, ymin = 45, ymax = 55, color = 'gray',
            fill = 'white', size = 0.25) +
  annotate('text', x = 50.5, y = 52, label = 'In Progress', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 45, ymax = 55, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 51.5, y = 48, label = hiv_in_progress_2026, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 48, label = hiv_in_progress_2026_percent, size = 2, color = 'steelblue') +
  
  
  # In Progress over 90 days
  geom_rect(xmin = 41, xmax = 63, ymin = 37, ymax = 44, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 52, y = 42, label = '>90 days:', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 37, ymax = 44, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 56, y = 42, label = hiv_in_progress_90days_2026, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 42, label = hiv_in_progress_90days_2026_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev vs. Unk In Progress
  geom_rect(xmin = 66, xmax = 88, ymin = 45, ymax = 55, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 67, y = 54, label = 'New Dx:', size = 2) +
  annotate('text', x = 67, y = 50, label = 'Prev Dx:', size = 2) +
  annotate('text', x = 67, y = 46, label = 'Unk Dx:', size = 2) +
  geom_rect(xmin = 66, xmax = 88, ymin = 45, ymax = 55, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 71, y = 54, label = hiv_new_in_progress_2026, size = 2, color = 'blue') +
  annotate('text', x = 75, y = 54, label = hiv_new_in_progress_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 71, y = 50, label = hiv_prev_in_progress_2026, size = 2, color = 'blue') +
  annotate('text', x = 75, y = 50, label = hiv_prev_in_progress_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 71, y = 46, label = hiv_unk_in_progress_2026, size = 2, color = 'blue') +
  annotate('text', x = 75, y = 46, label = hiv_unk_in_progress_2026_percent, size = 2, color = 'steelblue') +
  
  
  # Closed Cases
  geom_rect(xmin = 0, xmax = 22, ymin = 30, ymax = 40, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 37, label = 'Closed Cases', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 30, ymax = 40, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 33, label = hiv_closed_case_2026, size = 2, color = 'blue') +
  annotate('text', x = 19, y = 33, label = hiv_closed_case_2026_percent, size = 2, color = 'steelblue') +
  
  
  # Not Linked
  geom_rect(xmin = 41, xmax = 63, ymin = 15, ymax = 25, color = 'gray',
            fill = 'white', size = 0.25) +
  annotate('text', x = 50.5, y = 22, label = 'Not Linked', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 15, ymax = 25, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 51.5, y = 18, label = hiv_not_linked_2026, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 18, label = hiv_not_linked_2026_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev Not Linked
  geom_rect(xmin = 41, xmax = 63, ymin = 7, ymax = 14, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 52, y = 12, label = 'New Dx:', size = 2) +
  annotate('text', x = 52, y = 8, label = 'Prev Dx:', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 7, ymax = 14, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 56, y = 12, label = hiv_new_not_linked_2026, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 12, label = hiv_new_not_linked_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 56, y = 8, label = hiv_prev_not_linked_2026, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 8, label = hiv_prev_not_linked_2026_percent, size = 2, color = 'steelblue') +
  
  
  # Reasons Not Linked
  geom_rect(xmin = 83, xmax = 100, ymin = 0, ymax = 30, color = NA,
            fill = 'white', size = 0.25) +
  annotate('text', x = 87, y = 26, label = 'Med Staff interferes    ', size = 2) +
  annotate('text', x = 87, y = 23, label = '  Family interferes', size = 2) +
  annotate('text', x = 87, y = 20, label = '    Refuses to talk', size = 2) +
  annotate('text', x = 87, y = 17, label = '    Personal safety', size = 2) +
  annotate('text', x = 87, y = 14, label = '    Medical course', size = 2) +
  annotate('text', x = 87, y = 11, label = 'Inability to contact', size = 2) +
  annotate('text', x = 87, y = 8, label = ' Language barrier', size = 2) +
  annotate('text', x = 87, y = 5, label = '                   Other', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 0, ymax = 30, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 94, y = 26, label = hiv_not_linked_med_staff_2026, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 26, label = hiv_not_linked_med_staff_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 23, label = hiv_not_linked_family_2026, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 23, label = hiv_not_linked_family_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 20, label = hiv_not_linked_not_talking_2026, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 20, label = hiv_not_linked_not_talking_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 17, label = hiv_not_linked_safety_2026, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 17, label = hiv_not_linked_safety_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 14, label = hiv_not_linked_medical_2026, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 14, label = hiv_not_linked_medical_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 11, label = hiv_not_linked_contact_2026, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 11, label = hiv_not_linked_contact_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 8, label = hiv_not_linked_language_2026, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 8, label = hiv_not_linked_language_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 5, label = hiv_not_linked_other_2026, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 5, label = hiv_not_linked_other_2026_percent, size = 2, color = 'steelblue') +
  
  
  # Linked to Care
  geom_rect(xmin = 0, xmax = 22, ymin = 0, ymax = 10, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 7, label = 'Linked to Care', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 0, ymax = 10, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 3, label = hiv_linked_2026, size = 2, color = 'blue') +
  annotate('text', x = 19, y = 3, label = hiv_linked_2026_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev Linked to Care
  geom_rect(xmin = 25, xmax = 35, ymin = 0, ymax = 10, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 26, y = 7, label = 'New Dx:', size = 2) +
  annotate('text', x = 26, y = 3, label = 'Prev Dx:', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 0, ymax = 10, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 30, y = 7, label = hiv_new_linked_2026, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 7, label = hiv_new_linked_2026_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 30, y = 3, label = hiv_prev_linked_2026, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 3, label = hiv_prev_linked_2026_percent, size = 2, color = 'steelblue') +
  
  
  # Down Arrow 1
  geom_segment(
    x = 10.5, xend = 10.5, y = 90, yend = 70, 
    size = 0.15, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(2,"mm"), type = "closed")) +
  
  # Down Arrow 2
  geom_segment(
    x = 10.5, xend = 10.5, y = 60, yend = 40, 
    size = 0.15, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(2,"mm"), type = "closed")) +
  
  # Down Arrow 3
  geom_segment(
    x = 10.5, xend = 10.5, y = 30, yend = 10, 
    size = 0.15, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(2,"mm"), type = "closed")) +
  
  # Right Arrow 1
  geom_segment(
    x = 10.5, xend = 41, y = 80, yend = 80, 
    size = 0.05, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(1,"mm"), type = "closed"), color = 'darkgray') +
  
  # Right Arrow 2
  geom_segment(
    x = 10.5, xend = 41, y = 50, yend = 50, 
    size = 0.05, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(1,"mm"), type = "closed"), color = 'darkgray') +
  
  # Right Arrow 3
  geom_segment(
    x = 10.5, xend = 41, y = 20, yend = 20, 
    size = 0.05, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(1,"mm"), type = "closed"), color = 'darkgray') +
  
  # Right Line 1
  geom_segment(
    x = 63, xend = 81, y = 80, yend = 80, 
    size = 0.15, linejoin = "mitre", lineend = "butt", linetype = "dotted") +
  
  # Right Line 2
  geom_segment(
    x = 63, xend = 80, y = 20, yend = 20, 
    size = 0.15, linejoin = "mitre", lineend = "butt", linetype = "dotted")->
  grid

grid + theme_void()

```

```{r, echo = FALSE, warning = FALSE}

hiv_linkage_2026_gauge <- plot_ly(
  domain = list(x = c(0, 1), y = c(0, 1)),
  value = hiv_linked_2026_gauge,
  number = list(suffix = "%"),
  title = list(text = "% PLWHA Linked to Care", font = list(size = 24)),
  type = "indicator",
  mode = "gauge+number",
  gauge = list(
    axis =list(range = list(0, 100)),
    bar = list(color = "royalblue"),
    bgcolor = "white",
    borderwidth = 2,
    bordercolor = "gray",
    threshold = list(
      line = list(color = "red", width = 4),
      thickness = 0.75,
      value = 80))) 
hiv_linkage_2026_gauge <- hiv_linkage_2026_gauge %>%
  layout(margin = list(l=100,r=150))
config(hiv_linkage_2026_gauge, displayModeBar = FALSE)

```


## 2025

This shows the HIV LTC flow diagram for all linkage cases in 2025, along with the linkage to care success rate.

```{r, echo = FALSE, warning = FALSE}
#| lightbox:
#|   description: 2025 YTD HIV Linkage Flow Diagram

grid_data <- tibble(x= 1:100, y= 1:100)

grid_data %>% 
  ggplot(aes(x, y)) +
  scale_x_continuous(minor_breaks = seq(10, 100, 10)) +
  scale_y_continuous(minor_breaks = seq(10, 100, 10)) +
  theme_linedraw() ->
  grid


grid +
  # HIV Linkage Cases
  geom_rect(xmin = 0, xmax = 22, ymin = 90, ymax = 100, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 97, label = 'HIV Linkage Cases', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 90, ymax = 100, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 93, label = hiv_ltc_2025, size = 2, color = 'blue') +
  
  # Ineligible for Linkage
  geom_rect(xmin = 41, xmax = 63, ymin = 75, ymax = 85, color = 'gray',
            fill = 'white', size = 0.25) +
  annotate('text', x = 52.5, y = 82, label = 'Ineligible for Linkage', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 75, ymax = 85, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 51.5, y = 78, label = hiv_ineligible_ltc_2025, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 78, label = hiv_ineligible_ltc_2025_percent, size = 2, color = 'steelblue') +
  
  
  # Reasons Ineligible for Linkage
  geom_rect(xmin = 83, xmax = 100, ymin = 75, ymax = 85, color = NA,
            fill = 'white', size = 0.25) +
  annotate('text', x = 87, y = 85, label = 'Already Linked', size = 2) +
  annotate('text', x = 87, y = 82, label = '        Deceased', size = 2) +
  annotate('text', x = 87, y = 79, label = '    Incarcerated', size = 2) +
  annotate('text', x = 87, y = 76, label = 'Inability to Contact', size = 2) +
  annotate('text', x = 87, y = 73, label = '          Declined', size = 2) +
  annotate('text', x = 87, y = 70, label = 'Ongoing linkage ', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 75, ymax = 85, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 94, y = 85, label = hiv_already_linked_2025, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 85, label = hiv_already_linked_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 82, label = hiv_deceased_2025, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 82, label = hiv_deceased_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 79, label = hiv_incarcerated_2025, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 79, label = hiv_incarcerated_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 76, label = hiv_inability_to_contact_2025, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 76, label = hiv_inability_to_contact_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 73, label = hiv_linkage_declined_2025, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 73, label = hiv_linkage_declined_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 70, label = hiv_ongoing_linkage_2025, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 70, label = hiv_ongoing_linkage_2025_percent, size = 2, color = 'steelblue') +
  
  
  # Eligible for Linkage
  geom_rect(xmin = 0, xmax = 22, ymin = 60, ymax = 70, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 67, label = 'Eligible for Linkage', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 60, ymax = 70, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 63, label = hiv_eligible_ltc_2025, size = 2, color = 'blue') +
  annotate('text', x = 19, y = 63, label = hiv_eligible_ltc_2025_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev vs. Unk Eligibility
  geom_rect(xmin = 25, xmax = 35, ymin = 60, ymax = 70, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 26, y = 69, label = 'New Dx:', size = 2) +
  annotate('text', x = 26, y = 65, label = 'Prev Dx:', size = 2) +
  annotate('text', x = 26, y = 61, label = 'Unk Dx:', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 60, ymax = 70, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 30, y = 69, label = hiv_new_eligible_ltc_2025, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 69, label = hiv_new_eligible_ltc_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 30, y = 65, label = hiv_prev_eligible_ltc_2025, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 65, label = hiv_prev_eligible_ltc_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 30, y = 61, label = hiv_unk_eligible_ltc_2025, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 61, label = hiv_unk_eligible_ltc_2025_percent, size = 2, color = 'steelblue') +
  
  
  # In Progress
  geom_rect(xmin = 41, xmax = 63, ymin = 45, ymax = 55, color = 'gray',
            fill = 'white', size = 0.25) +
  annotate('text', x = 50.5, y = 52, label = 'In Progress', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 45, ymax = 55, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 51.5, y = 48, label = hiv_in_progress_2025, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 48, label = hiv_in_progress_2025_percent, size = 2, color = 'steelblue') +
  
  
  # In Progress over 90 days
  geom_rect(xmin = 41, xmax = 63, ymin = 37, ymax = 44, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 52, y = 42, label = '>90 days:', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 37, ymax = 44, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 56, y = 42, label = hiv_in_progress_90days_2025, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 42, label = hiv_in_progress_90days_2025_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev vs. Unk In Progress
  geom_rect(xmin = 66, xmax = 88, ymin = 45, ymax = 55, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 67, y = 54, label = 'New Dx:', size = 2) +
  annotate('text', x = 67, y = 50, label = 'Prev Dx:', size = 2) +
  annotate('text', x = 67, y = 46, label = 'Unk Dx:', size = 2) +
  geom_rect(xmin = 66, xmax = 88, ymin = 45, ymax = 55, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 71, y = 54, label = hiv_new_in_progress_2025, size = 2, color = 'blue') +
  annotate('text', x = 75, y = 54, label = hiv_new_in_progress_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 71, y = 50, label = hiv_prev_in_progress_2025, size = 2, color = 'blue') +
  annotate('text', x = 75, y = 50, label = hiv_prev_in_progress_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 71, y = 46, label = hiv_unk_in_progress_2025, size = 2, color = 'blue') +
  annotate('text', x = 75, y = 46, label = hiv_unk_in_progress_2025_percent, size = 2, color = 'steelblue') +
  
  
  # Closed Cases
  geom_rect(xmin = 0, xmax = 22, ymin = 30, ymax = 40, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 37, label = 'Closed Cases', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 30, ymax = 40, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 33, label = hiv_closed_case_2025, size = 2, color = 'blue') +
  annotate('text', x = 19, y = 33, label = hiv_closed_case_2025_percent, size = 2, color = 'steelblue') +
  
  
  # Not Linked
  geom_rect(xmin = 41, xmax = 63, ymin = 15, ymax = 25, color = 'gray',
            fill = 'white', size = 0.25) +
  annotate('text', x = 50.5, y = 22, label = 'Not Linked', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 15, ymax = 25, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 51.5, y = 18, label = hiv_not_linked_2025, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 18, label = hiv_not_linked_2025_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev Not Linked
  geom_rect(xmin = 41, xmax = 63, ymin = 7, ymax = 14, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 52, y = 12, label = 'New Dx:', size = 2) +
  annotate('text', x = 52, y = 8, label = 'Prev Dx:', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 7, ymax = 14, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 56, y = 12, label = hiv_new_not_linked_2025, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 12, label = hiv_new_not_linked_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 56, y = 8, label = hiv_prev_not_linked_2025, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 8, label = hiv_prev_not_linked_2025_percent, size = 2, color = 'steelblue') +
  
  
  # Reasons Not Linked
  geom_rect(xmin = 83, xmax = 100, ymin = 0, ymax = 30, color = NA,
            fill = 'white', size = 0.25) +
  annotate('text', x = 87, y = 26, label = 'Med Staff interferes    ', size = 2) +
  annotate('text', x = 87, y = 23, label = '  Family interferes', size = 2) +
  annotate('text', x = 87, y = 20, label = '    Refuses to talk', size = 2) +
  annotate('text', x = 87, y = 17, label = '    Personal safety', size = 2) +
  annotate('text', x = 87, y = 14, label = '    Medical course', size = 2) +
  annotate('text', x = 87, y = 11, label = 'Inability to contact', size = 2) +
  annotate('text', x = 87, y = 8, label = ' Language barrier', size = 2) +
  annotate('text', x = 87, y = 5, label = '                   Other', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 0, ymax = 30, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 94, y = 26, label = hiv_not_linked_med_staff_2025, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 26, label = hiv_not_linked_med_staff_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 23, label = hiv_not_linked_family_2025, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 23, label = hiv_not_linked_family_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 20, label = hiv_not_linked_not_talking_2025, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 20, label = hiv_not_linked_not_talking_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 17, label = hiv_not_linked_safety_2025, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 17, label = hiv_not_linked_safety_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 14, label = hiv_not_linked_medical_2025, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 14, label = hiv_not_linked_medical_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 11, label = hiv_not_linked_contact_2025, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 11, label = hiv_not_linked_contact_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 8, label = hiv_not_linked_language_2025, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 8, label = hiv_not_linked_language_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 5, label = hiv_not_linked_other_2025, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 5, label = hiv_not_linked_other_2025_percent, size = 2, color = 'steelblue') +
  
  
  # Linked to Care
  geom_rect(xmin = 0, xmax = 22, ymin = 0, ymax = 10, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 7, label = 'Linked to Care', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 0, ymax = 10, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 3, label = hiv_linked_2025, size = 2, color = 'blue') +
  annotate('text', x = 19, y = 3, label = hiv_linked_2025_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev Linked to Care
  geom_rect(xmin = 25, xmax = 35, ymin = 0, ymax = 10, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 26, y = 7, label = 'New Dx:', size = 2) +
  annotate('text', x = 26, y = 3, label = 'Prev Dx:', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 0, ymax = 10, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 30, y = 7, label = hiv_new_linked_2025, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 7, label = hiv_new_linked_2025_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 30, y = 3, label = hiv_prev_linked_2025, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 3, label = hiv_prev_linked_2025_percent, size = 2, color = 'steelblue') +
  
  
  # Down Arrow 1
  geom_segment(
    x = 10.5, xend = 10.5, y = 90, yend = 70, 
    size = 0.15, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(2,"mm"), type = "closed")) +
  
  # Down Arrow 2
  geom_segment(
    x = 10.5, xend = 10.5, y = 60, yend = 40, 
    size = 0.15, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(2,"mm"), type = "closed")) +
  
  # Down Arrow 3
  geom_segment(
    x = 10.5, xend = 10.5, y = 30, yend = 10, 
    size = 0.15, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(2,"mm"), type = "closed")) +
  
  # Right Arrow 1
  geom_segment(
    x = 10.5, xend = 41, y = 80, yend = 80, 
    size = 0.05, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(1,"mm"), type = "closed"), color = 'darkgray') +
  
  # Right Arrow 2
  geom_segment(
    x = 10.5, xend = 41, y = 50, yend = 50, 
    size = 0.05, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(1,"mm"), type = "closed"), color = 'darkgray') +
  
  # Right Arrow 3
  geom_segment(
    x = 10.5, xend = 41, y = 20, yend = 20, 
    size = 0.05, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(1,"mm"), type = "closed"), color = 'darkgray') +
  
  # Right Line 1
  geom_segment(
    x = 63, xend = 81, y = 80, yend = 80, 
    size = 0.15, linejoin = "mitre", lineend = "butt", linetype = "dotted") +
  
  # Right Line 2
  geom_segment(
    x = 63, xend = 80, y = 20, yend = 20, 
    size = 0.15, linejoin = "mitre", lineend = "butt", linetype = "dotted")->
  grid

grid + theme_void()

```

```{r, echo = FALSE, warning = FALSE}

hiv_linkage_2025_gauge <- plot_ly(
  domain = list(x = c(0, 1), y = c(0, 1)),
  value = hiv_linked_2025_gauge,
  number = list(suffix = "%"),
  title = list(text = "% PLWHA Linked to Care", font = list(size = 24)),
  type = "indicator",
  mode = "gauge+number",
  gauge = list(
    axis =list(range = list(0, 100)),
    bar = list(color = "royalblue"),
    bgcolor = "white",
    borderwidth = 2,
    bordercolor = "gray",
    threshold = list(
      line = list(color = "red", width = 4),
      thickness = 0.75,
      value = 80))) 
hiv_linkage_2025_gauge <- hiv_linkage_2025_gauge %>%
  layout(margin = list(l=100,r=150))
config(hiv_linkage_2025_gauge, displayModeBar = FALSE)

```


## 2024

This shows the HIV LTC flow diagram for all linkage cases in 2024, along with the linkage to care success rate.

```{r, echo = FALSE, warning = FALSE}
#| lightbox:
#|   description: 2024 HIV Linkage Flow Diagram

grid_data <- tibble(x= 1:100, y= 1:100)

grid_data %>% 
  ggplot(aes(x, y)) +
  scale_x_continuous(minor_breaks = seq(10, 100, 10)) +
  scale_y_continuous(minor_breaks = seq(10, 100, 10)) +
  theme_linedraw() ->
  grid


grid +
  # HIV Linkage Cases
  geom_rect(xmin = 0, xmax = 22, ymin = 90, ymax = 100, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 97, label = 'HIV Linkage Cases', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 90, ymax = 100, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 93, label = hiv_ltc_2024, size = 2, color = 'blue') +
  
  # Ineligible for Linkage
  geom_rect(xmin = 41, xmax = 63, ymin = 75, ymax = 85, color = 'gray',
            fill = 'white', size = 0.25) +
  annotate('text', x = 52.5, y = 82, label = 'Ineligible for Linkage', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 75, ymax = 85, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 51.5, y = 78, label = hiv_ineligible_ltc_2024, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 78, label = hiv_ineligible_ltc_2024_percent, size = 2, color = 'steelblue') +
  
  
  # Reasons Ineligible for Linkage
  geom_rect(xmin = 83, xmax = 100, ymin = 75, ymax = 85, color = NA,
            fill = 'white', size = 0.25) +
  annotate('text', x = 87, y = 85, label = 'Already Linked', size = 2) +
  annotate('text', x = 87, y = 82, label = '        Deceased', size = 2) +
  annotate('text', x = 87, y = 79, label = '    Incarcerated', size = 2) +
  annotate('text', x = 87, y = 76, label = 'Inability to Contact', size = 2) +
  annotate('text', x = 87, y = 73, label = '          Declined', size = 2) +
  annotate('text', x = 87, y = 70, label = 'Ongoing linkage ', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 75, ymax = 85, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 94, y = 85, label = hiv_already_linked_2024, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 85, label = hiv_already_linked_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 82, label = hiv_deceased_2024, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 82, label = hiv_deceased_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 79, label = hiv_incarcerated_2024, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 79, label = hiv_incarcerated_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 76, label = hiv_inability_to_contact_2024, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 76, label = hiv_inability_to_contact_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 73, label = hiv_linkage_declined_2024, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 73, label = hiv_linkage_declined_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 70, label = hiv_ongoing_linkage_2024, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 70, label = hiv_ongoing_linkage_2024_percent, size = 2, color = 'steelblue') +
  
  
  # Eligible for Linkage
  geom_rect(xmin = 0, xmax = 22, ymin = 60, ymax = 70, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 67, label = 'Eligible for Linkage', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 60, ymax = 70, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 63, label = hiv_eligible_ltc_2024, size = 2, color = 'blue') +
  annotate('text', x = 19, y = 63, label = hiv_eligible_ltc_2024_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev vs. Unk Eligibility
  geom_rect(xmin = 25, xmax = 35, ymin = 60, ymax = 70, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 26, y = 69, label = 'New Dx:', size = 2) +
  annotate('text', x = 26, y = 65, label = 'Prev Dx:', size = 2) +
  annotate('text', x = 26, y = 61, label = 'Unk Dx:', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 60, ymax = 70, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 30, y = 69, label = hiv_new_eligible_ltc_2024, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 69, label = hiv_new_eligible_ltc_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 30, y = 65, label = hiv_prev_eligible_ltc_2024, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 65, label = hiv_prev_eligible_ltc_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 30, y = 61, label = hiv_unk_eligible_ltc_2024, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 61, label = hiv_unk_eligible_ltc_2024_percent, size = 2, color = 'steelblue') +
  
  
  # In Progress
  geom_rect(xmin = 41, xmax = 63, ymin = 45, ymax = 55, color = 'gray',
            fill = 'white', size = 0.25) +
  annotate('text', x = 50.5, y = 52, label = 'In Progress', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 45, ymax = 55, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 51.5, y = 48, label = hiv_in_progress_2024, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 48, label = hiv_in_progress_2024_percent, size = 2, color = 'steelblue') +
  
  
  # In Progress over 90 days
  geom_rect(xmin = 41, xmax = 63, ymin = 37, ymax = 44, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 52, y = 42, label = '>90 days:', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 37, ymax = 44, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 56, y = 42, label = hiv_in_progress_90days_2024, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 42, label = hiv_in_progress_90days_2024_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev vs. Unk In Progress
  geom_rect(xmin = 66, xmax = 88, ymin = 45, ymax = 55, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 67, y = 54, label = 'New Dx:', size = 2) +
  annotate('text', x = 67, y = 50, label = 'Prev Dx:', size = 2) +
  annotate('text', x = 67, y = 46, label = 'Unk Dx:', size = 2) +
  geom_rect(xmin = 66, xmax = 88, ymin = 45, ymax = 55, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 71, y = 54, label = hiv_new_in_progress_2024, size = 2, color = 'blue') +
  annotate('text', x = 75, y = 54, label = hiv_new_in_progress_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 71, y = 50, label = hiv_prev_in_progress_2024, size = 2, color = 'blue') +
  annotate('text', x = 75, y = 50, label = hiv_prev_in_progress_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 71, y = 46, label = hiv_unk_in_progress_2024, size = 2, color = 'blue') +
  annotate('text', x = 75, y = 46, label = hiv_unk_in_progress_2024_percent, size = 2, color = 'steelblue') +
  
  
  # Closed Cases
  geom_rect(xmin = 0, xmax = 22, ymin = 30, ymax = 40, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 37, label = 'Closed Cases', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 30, ymax = 40, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 33, label = hiv_closed_case_2024, size = 2, color = 'blue') +
  annotate('text', x = 19, y = 33, label = hiv_closed_case_2024_percent, size = 2, color = 'steelblue') +
  
  
  # Not Linked
  geom_rect(xmin = 41, xmax = 63, ymin = 15, ymax = 25, color = 'gray',
            fill = 'white', size = 0.25) +
  annotate('text', x = 50.5, y = 22, label = 'Not Linked', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 15, ymax = 25, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 51.5, y = 18, label = hiv_not_linked_2024, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 18, label = hiv_not_linked_2024_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev Not Linked
  geom_rect(xmin = 41, xmax = 63, ymin = 7, ymax = 14, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 52, y = 12, label = 'New Dx:', size = 2) +
  annotate('text', x = 52, y = 8, label = 'Prev Dx:', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 7, ymax = 14, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 56, y = 12, label = hiv_new_not_linked_2024, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 12, label = hiv_new_not_linked_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 56, y = 8, label = hiv_prev_not_linked_2024, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 8, label = hiv_prev_not_linked_2024_percent, size = 2, color = 'steelblue') +
  
  
  # Reasons Not Linked
  geom_rect(xmin = 83, xmax = 100, ymin = 0, ymax = 30, color = NA,
            fill = 'white', size = 0.25) +
  annotate('text', x = 87, y = 26, label = 'Med Staff interferes    ', size = 2) +
  annotate('text', x = 87, y = 23, label = '  Family interferes', size = 2) +
  annotate('text', x = 87, y = 20, label = '    Refuses to talk', size = 2) +
  annotate('text', x = 87, y = 17, label = '    Personal safety', size = 2) +
  annotate('text', x = 87, y = 14, label = '    Medical course', size = 2) +
  annotate('text', x = 87, y = 11, label = 'Inability to contact', size = 2) +
  annotate('text', x = 87, y = 8, label = ' Language barrier', size = 2) +
  annotate('text', x = 87, y = 5, label = '                   Other', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 0, ymax = 30, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 94, y = 26, label = hiv_not_linked_med_staff_2024, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 26, label = hiv_not_linked_med_staff_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 23, label = hiv_not_linked_family_2024, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 23, label = hiv_not_linked_family_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 20, label = hiv_not_linked_not_talking_2024, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 20, label = hiv_not_linked_not_talking_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 17, label = hiv_not_linked_safety_2024, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 17, label = hiv_not_linked_safety_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 14, label = hiv_not_linked_medical_2024, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 14, label = hiv_not_linked_medical_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 11, label = hiv_not_linked_contact_2024, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 11, label = hiv_not_linked_contact_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 8, label = hiv_not_linked_language_2024, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 8, label = hiv_not_linked_language_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 5, label = hiv_not_linked_other_2024, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 5, label = hiv_not_linked_other_2024_percent, size = 2, color = 'steelblue') +
  
  
  # Linked to Care
  geom_rect(xmin = 0, xmax = 22, ymin = 0, ymax = 10, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 7, label = 'Linked to Care', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 0, ymax = 10, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 3, label = hiv_linked_2024, size = 2, color = 'blue') +
  annotate('text', x = 19, y = 3, label = hiv_linked_2024_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev Linked to Care
  geom_rect(xmin = 25, xmax = 35, ymin = 0, ymax = 10, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 26, y = 7, label = 'New Dx:', size = 2) +
  annotate('text', x = 26, y = 3, label = 'Prev Dx:', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 0, ymax = 10, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 30, y = 7, label = hiv_new_linked_2024, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 7, label = hiv_new_linked_2024_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 30, y = 3, label = hiv_prev_linked_2024, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 3, label = hiv_prev_linked_2024_percent, size = 2, color = 'steelblue') +
  
  
  # Down Arrow 1
  geom_segment(
    x = 10.5, xend = 10.5, y = 90, yend = 70, 
    size = 0.15, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(2,"mm"), type = "closed")) +
  
  # Down Arrow 2
  geom_segment(
    x = 10.5, xend = 10.5, y = 60, yend = 40, 
    size = 0.15, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(2,"mm"), type = "closed")) +
  
  # Down Arrow 3
  geom_segment(
    x = 10.5, xend = 10.5, y = 30, yend = 10, 
    size = 0.15, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(2,"mm"), type = "closed")) +
  
  # Right Arrow 1
  geom_segment(
    x = 10.5, xend = 41, y = 80, yend = 80, 
    size = 0.05, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(1,"mm"), type = "closed"), color = 'darkgray') +
  
  # Right Arrow 2
  geom_segment(
    x = 10.5, xend = 41, y = 50, yend = 50, 
    size = 0.05, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(1,"mm"), type = "closed"), color = 'darkgray') +
  
  # Right Arrow 3
  geom_segment(
    x = 10.5, xend = 41, y = 20, yend = 20, 
    size = 0.05, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(1,"mm"), type = "closed"), color = 'darkgray') +
  
  # Right Line 1
  geom_segment(
    x = 63, xend = 81, y = 80, yend = 80, 
    size = 0.15, linejoin = "mitre", lineend = "butt", linetype = "dotted") +
  
  # Right Line 2
  geom_segment(
    x = 63, xend = 80, y = 20, yend = 20, 
    size = 0.15, linejoin = "mitre", lineend = "butt", linetype = "dotted")->
  grid

grid + theme_void()

```

```{r, echo = FALSE, warning = FALSE}

hiv_linkage_2024_gauge <- plot_ly(
  domain = list(x = c(0, 1), y = c(0, 1)),
  value = hiv_linked_2024_gauge,
  number = list(suffix = "%"),
  title = list(text = "% PLWHA Linked to Care", font = list(size = 24)),
  type = "indicator",
  mode = "gauge+number",
  gauge = list(
    axis =list(range = list(0, 100)),
    bar = list(color = "royalblue"),
    bgcolor = "white",
    borderwidth = 2,
    bordercolor = "gray",
    threshold = list(
      line = list(color = "red", width = 4),
      thickness = 0.75,
      value = 80))) 
hiv_linkage_2024_gauge <- hiv_linkage_2024_gauge %>%
  layout(margin = list(l=100,r=150))
config(hiv_linkage_2024_gauge, displayModeBar = FALSE)

```


## 2023

This shows the HIV LTC flow diagram for all linkage cases in 2023, along with the linkage to care success rate.

```{r, echo = FALSE, warning = FALSE}
#| lightbox:
#|   description: 2023 HIV Linkage Flow Diagram

grid_data <- tibble(x= 1:100, y= 1:100)

grid_data %>% 
  ggplot(aes(x, y)) +
  scale_x_continuous(minor_breaks = seq(10, 100, 10)) +
  scale_y_continuous(minor_breaks = seq(10, 100, 10)) +
  theme_linedraw() ->
  grid


grid +
  # HIV Linkage Cases
  geom_rect(xmin = 0, xmax = 22, ymin = 90, ymax = 100, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 97, label = 'HIV Linkage Cases', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 90, ymax = 100, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 93, label = hiv_ltc_2023, size = 2, color = 'blue') +
  
  # Ineligible for Linkage
  geom_rect(xmin = 41, xmax = 63, ymin = 75, ymax = 85, color = 'gray',
            fill = 'white', size = 0.25) +
  annotate('text', x = 52.5, y = 82, label = 'Ineligible for Linkage', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 75, ymax = 85, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 51.5, y = 78, label = hiv_ineligible_ltc_2023, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 78, label = hiv_ineligible_ltc_2023_percent, size = 2, color = 'steelblue') +
  
  
  # Reasons Ineligible for Linkage
  geom_rect(xmin = 83, xmax = 100, ymin = 75, ymax = 85, color = NA,
            fill = 'white', size = 0.25) +
  annotate('text', x = 87, y = 85, label = 'Already Linked', size = 2) +
  annotate('text', x = 87, y = 82, label = '        Deceased', size = 2) +
  annotate('text', x = 87, y = 79, label = '    Incarcerated', size = 2) +
  annotate('text', x = 87, y = 76, label = 'Inability to Contact', size = 2) +
  annotate('text', x = 87, y = 73, label = '          Declined', size = 2) +
  annotate('text', x = 87, y = 70, label = 'Ongoing linkage ', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 75, ymax = 85, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 94, y = 85, label = hiv_already_linked_2023, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 85, label = hiv_already_linked_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 82, label = hiv_deceased_2023, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 82, label = hiv_deceased_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 79, label = hiv_incarcerated_2023, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 79, label = hiv_incarcerated_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 76, label = hiv_inability_to_contact_2023, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 76, label = hiv_inability_to_contact_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 73, label = hiv_linkage_declined_2023, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 73, label = hiv_linkage_declined_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 70, label = hiv_ongoing_linkage_2023, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 70, label = hiv_ongoing_linkage_2023_percent, size = 2, color = 'steelblue') +
  
  
  # Eligible for Linkage
  geom_rect(xmin = 0, xmax = 22, ymin = 60, ymax = 70, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 67, label = 'Eligible for Linkage', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 60, ymax = 70, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 63, label = hiv_eligible_ltc_2023, size = 2, color = 'blue') +
  annotate('text', x = 19, y = 63, label = hiv_eligible_ltc_2023_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev vs. Unk Eligibility
  geom_rect(xmin = 25, xmax = 35, ymin = 60, ymax = 70, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 26, y = 69, label = 'New Dx:', size = 2) +
  annotate('text', x = 26, y = 65, label = 'Prev Dx:', size = 2) +
  annotate('text', x = 26, y = 61, label = 'Unk Dx:', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 60, ymax = 70, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 30, y = 69, label = hiv_new_eligible_ltc_2023, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 69, label = hiv_new_eligible_ltc_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 30, y = 65, label = hiv_prev_eligible_ltc_2023, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 65, label = hiv_prev_eligible_ltc_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 30, y = 61, label = hiv_unk_eligible_ltc_2023, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 61, label = hiv_unk_eligible_ltc_2023_percent, size = 2, color = 'steelblue') +
  
  
  # In Progress
  geom_rect(xmin = 41, xmax = 63, ymin = 45, ymax = 55, color = 'gray',
            fill = 'white', size = 0.25) +
  annotate('text', x = 50.5, y = 52, label = 'In Progress', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 45, ymax = 55, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 51.5, y = 48, label = hiv_in_progress_2023, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 48, label = hiv_in_progress_2023_percent, size = 2, color = 'steelblue') +
  
  
  # In Progress over 90 days
  geom_rect(xmin = 41, xmax = 63, ymin = 37, ymax = 44, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 52, y = 42, label = '>90 days:', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 37, ymax = 44, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 56, y = 42, label = hiv_in_progress_90days_2023, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 42, label = hiv_in_progress_90days_2023_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev vs. Unk In Progress
  geom_rect(xmin = 66, xmax = 88, ymin = 45, ymax = 55, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 67, y = 54, label = 'New Dx:', size = 2) +
  annotate('text', x = 67, y = 50, label = 'Prev Dx:', size = 2) +
  annotate('text', x = 67, y = 46, label = 'Unk Dx:', size = 2) +
  geom_rect(xmin = 66, xmax = 88, ymin = 45, ymax = 55, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 71, y = 54, label = hiv_new_in_progress_2023, size = 2, color = 'blue') +
  annotate('text', x = 75, y = 54, label = hiv_new_in_progress_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 71, y = 50, label = hiv_prev_in_progress_2023, size = 2, color = 'blue') +
  annotate('text', x = 75, y = 50, label = hiv_prev_in_progress_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 71, y = 46, label = hiv_unk_in_progress_2023, size = 2, color = 'blue') +
  annotate('text', x = 75, y = 46, label = hiv_unk_in_progress_2023_percent, size = 2, color = 'steelblue') +
  
  
  # Closed Cases
  geom_rect(xmin = 0, xmax = 22, ymin = 30, ymax = 40, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 37, label = 'Closed Cases', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 30, ymax = 40, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 33, label = hiv_closed_case_2023, size = 2, color = 'blue') +
  annotate('text', x = 19, y = 33, label = hiv_closed_case_2023_percent, size = 2, color = 'steelblue') +
  
  
  # Not Linked
  geom_rect(xmin = 41, xmax = 63, ymin = 15, ymax = 25, color = 'gray',
            fill = 'white', size = 0.25) +
  annotate('text', x = 50.5, y = 22, label = 'Not Linked', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 15, ymax = 25, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 51.5, y = 18, label = hiv_not_linked_2023, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 18, label = hiv_not_linked_2023_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev Not Linked
  geom_rect(xmin = 41, xmax = 63, ymin = 7, ymax = 14, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 52, y = 12, label = 'New Dx:', size = 2) +
  annotate('text', x = 52, y = 8, label = 'Prev Dx:', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 7, ymax = 14, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 56, y = 12, label = hiv_new_not_linked_2023, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 12, label = hiv_new_not_linked_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 56, y = 8, label = hiv_prev_not_linked_2023, size = 2, color = 'blue') +
  annotate('text', x = 60, y = 8, label = hiv_prev_not_linked_2023_percent, size = 2, color = 'steelblue') +
  
  
  # Reasons Not Linked
  geom_rect(xmin = 83, xmax = 100, ymin = 0, ymax = 30, color = NA,
            fill = 'white', size = 0.25) +
  annotate('text', x = 87, y = 26, label = 'Med Staff interferes    ', size = 2) +
  annotate('text', x = 87, y = 23, label = '  Family interferes', size = 2) +
  annotate('text', x = 87, y = 20, label = '    Refuses to talk', size = 2) +
  annotate('text', x = 87, y = 17, label = '    Personal safety', size = 2) +
  annotate('text', x = 87, y = 14, label = '    Medical course', size = 2) +
  annotate('text', x = 87, y = 11, label = 'Inability to contact', size = 2) +
  annotate('text', x = 87, y = 8, label = ' Language barrier', size = 2) +
  annotate('text', x = 87, y = 5, label = '                   Other', size = 2) +
  geom_rect(xmin = 41, xmax = 63, ymin = 0, ymax = 30, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 94, y = 26, label = hiv_not_linked_med_staff_2023, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 26, label = hiv_not_linked_med_staff_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 23, label = hiv_not_linked_family_2023, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 23, label = hiv_not_linked_family_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 20, label = hiv_not_linked_not_talking_2023, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 20, label = hiv_not_linked_not_talking_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 17, label = hiv_not_linked_safety_2023, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 17, label = hiv_not_linked_safety_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 14, label = hiv_not_linked_medical_2023, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 14, label = hiv_not_linked_medical_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 11, label = hiv_not_linked_contact_2023, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 11, label = hiv_not_linked_contact_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 8, label = hiv_not_linked_language_2023, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 8, label = hiv_not_linked_language_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 94, y = 5, label = hiv_not_linked_other_2023, size = 2, color = 'blue') +
  annotate('text', x = 98, y = 5, label = hiv_not_linked_other_2023_percent, size = 2, color = 'steelblue') +
  
  
  # Linked to Care
  geom_rect(xmin = 0, xmax = 22, ymin = 0, ymax = 10, color = 'black',
            fill = 'lightblue', size = 0.25, size = 0.25) +
  annotate('text', x = 10.5, y = 7, label = 'Linked to Care', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 0, ymax = 10, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 10.5, y = 3, label = hiv_linked_2023, size = 2, color = 'blue') +
  annotate('text', x = 19, y = 3, label = hiv_linked_2023_percent, size = 2, color = 'steelblue') +
  
  
  # New vs. Prev Linked to Care
  geom_rect(xmin = 25, xmax = 35, ymin = 0, ymax = 10, color = NA,
            fill = 'white', size = 0.25, size = 0.25) +
  annotate('text', x = 26, y = 7, label = 'New Dx:', size = 2) +
  annotate('text', x = 26, y = 3, label = 'Prev Dx:', size = 2) +
  geom_rect(xmin = 0, xmax = 22, ymin = 0, ymax = 10, color = NA,
            fill = NA, size = 0.25) +
  annotate('text', x = 30, y = 7, label = hiv_new_linked_2023, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 7, label = hiv_new_linked_2023_percent, size = 2, color = 'steelblue') +
  annotate('text', x = 30, y = 3, label = hiv_prev_linked_2023, size = 2, color = 'blue') +
  annotate('text', x = 34, y = 3, label = hiv_prev_linked_2023_percent, size = 2, color = 'steelblue') +
  
  
  # Down Arrow 1
  geom_segment(
    x = 10.5, xend = 10.5, y = 90, yend = 70, 
    size = 0.15, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(2,"mm"), type = "closed")) +
  
  # Down Arrow 2
  geom_segment(
    x = 10.5, xend = 10.5, y = 60, yend = 40, 
    size = 0.15, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(2,"mm"), type = "closed")) +
  
  # Down Arrow 3
  geom_segment(
    x = 10.5, xend = 10.5, y = 30, yend = 10, 
    size = 0.15, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(2,"mm"), type = "closed")) +
  
  # Right Arrow 1
  geom_segment(
    x = 10.5, xend = 41, y = 80, yend = 80, 
    size = 0.05, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(1,"mm"), type = "closed"), color = 'darkgray') +
  
  # Right Arrow 2
  geom_segment(
    x = 10.5, xend = 41, y = 50, yend = 50, 
    size = 0.05, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(1,"mm"), type = "closed"), color = 'darkgray') +
  
  # Right Arrow 3
  geom_segment(
    x = 10.5, xend = 41, y = 20, yend = 20, 
    size = 0.05, linejoin = "mitre", lineend = "butt",
    arrow = arrow(length = unit(1,"mm"), type = "closed"), color = 'darkgray') +
  
  # Right Line 1
  geom_segment(
    x = 63, xend = 81, y = 80, yend = 80, 
    size = 0.15, linejoin = "mitre", lineend = "butt", linetype = "dotted") +
  
  # Right Line 2
  geom_segment(
    x = 63, xend = 80, y = 20, yend = 20, 
    size = 0.15, linejoin = "mitre", lineend = "butt", linetype = "dotted")->
  grid

grid + theme_void()

```

```{r, echo = FALSE, warning = FALSE}

hiv_linkage_2023_gauge <- plot_ly(
  domain = list(x = c(0, 1), y = c(0, 1)),
  value = hiv_linked_2023_gauge,
  number = list(suffix = "%"),
  title = list(text = "% PLWHA Linked to Care", font = list(size = 24)),
  type = "indicator",
  mode = "gauge+number",
  gauge = list(
    axis =list(range = list(0, 100)),
    bar = list(color = "royalblue"),
    bgcolor = "white",
    borderwidth = 2,
    bordercolor = "gray",
    threshold = list(
      line = list(color = "red", width = 4),
      thickness = 0.75,
      value = 80))) 
hiv_linkage_2023_gauge <- hiv_linkage_2023_gauge %>%
  layout(margin = list(l=100,r=150))
config(hiv_linkage_2023_gauge, displayModeBar = FALSE)

```

:::


# Additonal things still to include

- Indeterminate tests
- False positive tests
- ED Lab testing data
- Annual positivity rates



